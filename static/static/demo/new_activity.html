<!DOCTYPE html>
<html>

 <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <title>Activity detail</title>
        <link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons' rel="stylesheet" type="text/css">
        
        <script type="text/javascript" src="../js/axios.min.js"></script>
        <script type="text/javascript" src="../js/vue.min.js"></script>
        
        
        <script type="text/javascript" src="../js/vuejx.min.js"></script>
        <script type="text/javascript" src="../js/vuejx_dev.js"></script>
        <script src="http://hanoi.fds.vn:8004/o/mobilink_npm-theme/js/vuejx_dev.js?t=78787876567575"></script>
        <script type="text/javascript" src="../js/moment-with-locales.min.js"></script>
        <script type="text/javascript" src="../js/moment.min.js"></script>
        <script type="text/javascript" src="../../../vue-editor/dist/vue-jx-lib.js?"></script>
        <script src="https://cdn.jsdelivr.net/lodash/4.13.1/lodash.js"></script>
        
        <link href="https://unpkg.com/vuetify/dist/vuetify.min.css" rel="stylesheet">
        <link href="../css/vuetify017.css" rel="stylesheet">
        <link href="http://hanoi.fds.vn:8004/o/mentions-web/css/mentions.css" rel="stylesheet" type="text/css">
        <link href="http://hanoi.fds.vn:8004/o/frontend-css-web/main.css">
        <link href="../css/th.css" rel="stylesheet">
      
        <link href="http://hanoi.fds.vn:8004/combo?browserId=other&amp;minifierType=css&amp;languageId=en_US&amp;b=7003&amp;t=1516283649602&amp;/o/product-navigation-simulation-theme-contributor/css/simulation_panel.css">
        <script type="text/javascript" src="../js/vuetify017.js"></script>
        
        <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
        <script src="http://hanoi.fds.vn:8004/o/mobilink_npm-theme/js/jquery-comments.js?t=131322221"></script>
      
        <script type="text/javascript" src="../js/bootstrap-datetimepicker.js"></script>
        <link type="text/css" rel="stylesheet" href="//unpkg.com/bootstrap/dist/css/bootstrap.min.css"/>
        <link type="text/css" rel="stylesheet" href="//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.css"/>

        <!-- Add this after vue.js -->
        <script src="//unpkg.com/babel-polyfill@latest/dist/polyfill.min.js"></script>
        <script src="//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.js"></script>
</head>
<body>

            <!-- TODO Template Xây dựng navigation -->
    <div id="menu_left_filter_template" class="hidden">
        <v-slide-x-transition>
            <div class="layout row wrap" v-show="currentListPage">
    
                <div class="flex xs12">
                    <v-menu transition="slide-x-transition" full-width>
                        <v-btn slot="activator" block color="primary">
                            <span v-lang.them_moi></span>
                        </v-btn>
                        <v-list>
                            <v-list-tile v-for="item in addNewOptions" :key="item.id" @click="addNewOptionSelect(item)">
                                <v-list-tile-title>
                                    {{ item.title }}
                                </v-list-tile-title>
                            </v-list-tile>
                        </v-list>
                    </v-menu>
    
                </div>
    
                <div class="flex xs12 px-0 menu_left_class" jx-bind="typesListFilter"></div>
    
            </div>
        </v-slide-x-transition>
    
    </div>
    
    <!-- TODO activityViewJX_form_template template one page -->
    <div id="activityViewJX_form_template" class="hidden">
    
        <div class="jx-content-wrap layout wrap">
    
            <div class="xs6" :class="{'max-width': !currentListPage, 'no-width': currentListPage}">
    
                <v-slide-x-transition>
    
                    <!-- activity List detail -->
                    <v-layout wrap v-if="!currentListPage && detailModelSelected.activityId > 0">
                        <v-flex xs12 sm8>
                            <div class="panel">
                                <div class="panel-heading">
                                    <v-layout wrap>
                                        <v-btn flat icon v-on:click.native="backToList">
                                            <v-icon>undo</v-icon>
                                        </v-btn>
                                        <v-flex sm6 style="padding: 0">
                                            <v-layout wrap>
                                                <v-flex xs12 v-if="detailModelSelected.activityType=='EVENT' && detailModelSelected.isTemplate!=true" class="text-bold">
                                                    Cuộc họp, hội nghị - # {{detailModelSelected.activityId}}
                                                </v-flex>
                                                <v-flex xs12 v-if="detailModelSelected.activityType=='TASK' && detailModelSelected.isTemplate!=true" class="text-bold">
                                                    Giao nhiệm vụ - # {{detailModelSelected.activityId}}
                                                </v-flex>
                                                <v-flex xs12 class="editable-wrap subjectClass text-bold">
                                                    <div class="layout wrap">
                                                        <v-flex xs12 class="layout">
                                                            <span v-if="subject_hidden" class="editable__content__value pt-0">
                                                                {{detailModelSelected.subject}}
                                                                <v-btn flat icon class="btn--editable btn--editable--done mx-0 my-0"
                                                                    v-if="subject_hidden && ( detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager'|| detailModelSelected.permission==   'hoster'||detailModelSelected.permission=='leader')"
                                                                    @click.stop.prevent="subjectTempleDataEvent(detailModelSelected)" 
                                                                    :loading="subject_hidden_loading" 
                                                                    :disabled="subject_hidden_loading"
                                                                >
                                                                    <v-icon>create</v-icon>
                                                                </v-btn>
                                                            </span>
                                                                <v-text-field v-if="!subject_hidden && ( detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager'|| detailModelSelected.permission== 'hoster'||detailModelSelected.permission=='leader')"
                                                                  class="flex sm12"
                                                                  v-model="detailModelSelected.subject"
                                                                ></v-text-field>
                                                        </v-flex>
                                                    </div>
                                                    <div class="editable-tool">
                                                        
                                                        <v-btn flat icon class="btn--editable btn--editable--done mx-0 my-0"
                                                            v-if="!subject_hidden && (detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager'|| detailModelSelected.permission== 'hoster'||detailModelSelected.permission=='leader')"
                                                            @click.stop.prevent="subjectUpdateEvent(detailModelSelected)" 
                                                            :loading="subject_hidden_loading" 
                                                            :disabled="subject_hidden_loading"
                                                        >
                                                            <v-icon>done</v-icon>
                                                        </v-btn>
                                                        
                                                        <v-btn flat icon class="mx-0 my-0"
                                                            v-if="!subject_hidden && (detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager'|| detailModelSelected.permission== 'hoster'||detailModelSelected.permission=='leader')"
                                                            @click.stop.prevent="subjectRolbackEvent(detailModelSelected)" 
                                                            :loading="subject_hidden_loading" 
                                                            :disabled="subject_hidden_loading"
                                                        >
                                                            <v-icon color="red darken-3">clear</v-icon>
                                                        </v-btn>
                                                    </div>
                                                </v-flex>
                                            </v-layout>
                                        </v-flex>
                                        <v-flex xs12 sm5 class="headerClassDetail_right">
                                            <v-layout wrap>
                                                <div class="headerClass_right">
                                                    <i class="text-gray">
                                                    Tạo bởi: {{detailModelSelected.userName}} - {{detailModelSelected.createDate | datetime}}
                                                    </i>
                                                    <span @click="detailShowMore1 = !detailShowMore1" class="mr-2" style="cursor: pointer;">
                                                        <v-icon v-if="!detailShowMore1">expand_less</v-icon>
                                                        <v-icon v-if="detailShowMore1">expand_more</v-icon>
                                                    </span>
                                                </div>
                                            </v-layout>
                                            <v-layout wrap v-if="detailModelSelected.isTemplate!=true" v-if="detailModelSelected.state!=0">
                                                <v-flex xs12>
                                                    <div class="openingState__class" :style="{ 'background':  getColor(detailModelSelected.state) , 'color' : '#fff'} " >
                                                        <span>{{detailModelSelected.stateName}}</span>
                                                    </div>
                                                </v-flex>
                                            </v-layout>
                                        </v-flex>
                                        
                                    </v-layout>
                                </div>
                                <div>
                                    <v-slide-y-transition>
                                        <v-layout wrap class="pt-2" v-if="detailShowMore1">
                                            <v-flex xs12 sm12 jx-bind="detail__description" id="descriptionClass" 
                                                class="px-3" 
                                                :class="{'order-lg1': true}">
                                            </v-flex>
                                            <v-flex xs12 sm12 jx-bind="detail__activityCat" 
                                                class="px-3" 
                                                :class="{'order-lg1': true}">
                                            </v-flex>
                                            <v-flex xs12 sm12 jx-bind="detail__projectId" 
                                                v-if="detailModelSelected.activityType=='TASK' && detailModelSelected.isTemplate!=true" 
                                                class="px-3" :class="{'order-lg1': true}">
                                            </v-flex>
                                            <v-flex xs12 sm12 v-if="detailModelSelected.activityType=='TASK' && detailModelSelected.isTemplate!=true" class="px-3" :class="{'order-lg1': true}">
                                                <div class="editable-wrap editable-wrap-before-select">
                                                    <v-layout wrap>
                                                        <v-flex xs12 sm2 class="labelClass">Nguồn nhiệm vụ:</v-flex>
                                                        <v-flex xs12 sm10 class="labelClass">{{ detailModelSelected.source.subject }}</v-flex>
                                                    </v-layout>
                                                </div>
                                            </v-flex>
                                        </v-layout>
                                    </v-slide-y-transition>
                                    <br/>
                                    <uploader :options="options" class="uploader-example" v-if="detailModelSelected.isTemplate!=true">
                                        <uploader-unsupport></uploader-unsupport>
                                        <uploader-list 
                                            id="1"
                                            developer-key='AIzaSyAouTfMdrvMHjAwvF9RVsvwsuN1WSzGjmM'
                                            client-id='790244148120-0grj2n5evkij0kqqthkbtgb18i0gup1j.apps.googleusercontent.com'
                                            view-id='DOCS'
                                            :class_name="class_name_activity"
                                            :class_pk="class_pk"
                                            :group_id="groupId"
                                            file_attach_api="/o/v2/mobilink/fileattachs"
                                            extensions_upload="true"
                                            :permission="detailModelSelected.permission"
                                        ></uploader-list>
                                    </uploader>
                                    <script type="text/javascript" src="http://apis.google.com/js/api.js?onload=onApiLoad"></script>
                                </div>
                            </div>
                            <div class="panel" >
                                <div class="panel-heading" v-if="detailModelSelected.isTemplate!=true">
                                    <v-layout wrap>
                                        <div class="" >
                                            <v-btn v-for="(item,index) in detail__Visibilities" @click="changeState(item,index)" :style="{ 'background': item.color}">{{ item.actionName }}</v-btn>
                                        </div>
                                        <!-- <div class="flex w-100-xs" style="align-items: center;padding: 0" v-if="detailModelSelected.state!=7">
                                            <jx-mobilink-progress ></jx-mobilink-progress>
                                        </div> -->
                                        <div class="flex w-100-xs" style="display: flex;display: -webkit-box;align-items: center;padding: 0" v-if="detailModelSelected.state==7">
                                            <jx-mobilink-star  
                                                :class_name="class_name_activity"
                                                :class_pk="class_pk"
                                                :group_id="groupId"
                                                :end_point= "endPoint"
                                            ></jx-mobilink-star>
                                        </div>
                                    </v-layout>

                                </div>
                            </div>
                            <div class="panel">
                                <div class="layout pt-2 wrap">
                                    <v-flex xs12 sm12 class="px-3" :class="{'order-lg1': true}">
                                        <div class="editable-wrap">
                                            <v-layout wrap>
                                                <v-flex class="labelClass xs12 sm12">Ghi chép cuộc họp:</v-flex>
                                                <v-flex xs12 sm12 class="controlClass">

                                                    <div class="input-group input-group--dirty input-group--append-icon input-group--text-field input-group--select input-group--autocomplete" tabindex="-1">
                                                        <div class="input-group__input">
                                                            <div class="input-group__selections" style="overflow: hidden;">
                                                                <span v-if="resultnote_hidden" class="editable__content__value pt-0 ">
                                                                    {{detailModelSelected.resultNote}}</a>
                                                                </span>
                                                                <v-text-field
                                                                    name=""
                                                                    label="Nhập ghi chép"
                                                                    multi-line
                                                                    v-model="detailModelSelected.resultNote"
                                                                    v-if="!resultnote_hidden && ( detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager'|| detailModelSelected.permission== 'hoster'||detailModelSelected.permission=='leader')" 
                                                                  ></v-text-field>
                                                            </div>
                                                            
                                                        </div>
                                                    </div>
                                                    
                                                </v-flex>
                                                <v-btn flat
                                                    v-if="!resultnote_hidden && (detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager'|| detailModelSelected.permission== 'hoster'||detailModelSelected.permission=='leader')" 
                                                    @click.stop.prevent="resultnoteUpdate(detailModelSelected)" 
                                                    :loading="resultnote_hidden_loading" 
                                                    :disabled="resultnote_hidden_loading">
                                                    <v-icon>done</v-icon> &nbsp;&nbsp;Lưu
                                                 </v-btn>
                                                 <v-btn flat
                                                    v-if="!resultnote_hidden && (detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager'|| detailModelSelected.permission== 'hoster'||detailModelSelected.permission=='leader')"
                                                    @click.stop.prevent="resultnoteBack(detailModelSelected)" 
                                                    :loading="resultnote_hidden_loading" 
                                                    :disabled="resultnote_hidden_loading"
                                                >
                                                    <v-icon color="red darken-3">clear</v-icon> &nbsp;&nbsp;Hủy
                                                </v-btn>
                                            </v-layout>
                                            <div class="editable-tool">
                                                <v-btn flat icon class="btn--editable btn--editable--done mx-0 my-0 btn btn--flat btn--icon"
                                                    v-if="resultnote_hidden && ( detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager'|| detailModelSelected.permission== 'hoster'||detailModelSelected.permission=='leader')"
                                                    @click.stop.prevent="resultnoteCreate(detailModelSelected)">
                                                    <v-icon>create</v-icon>
                                                </v-btn>
                                            </div>
                                        </div>
                                    </v-flex>
                                </div>
                            </div>
                            
                            <v-layout wrap>
                                <v-flex xs12 v-bind="{ 'order-xs2': detailModelSelected.activityType=='EVENT', 'order-xs1': detailModelSelected.activityType!='EVENT' }">
                                    <div style="padding-bottom: 20px;">
                                      <jx-mobilink-activity-result ref="refActivityResult"
                                        :id="detailModelSelected.activityId" 
                                        :class_pk="detailModelSelected.activityId" 
                                        :class_name="class_name_activity"
                                        :end_point="endPoint"
                                        :group_id="groupId" 
                                        :activity_type="detailModelSelected.activityType" 
                                        :permission="detailModelSelected.permission"
                                        :class_leader_id="detailModelSelected.leaderId"
                                        :class_start_date="detailModelSelected.startDate"
                                        @showdetail="showdetailactivityresult">
                                        </jx-mobilink-activity-result>
                                    </div>
                                                    
                                       
                                </v-flex>

                                <v-flex xs12 v-bind="{ 'order-xs1': detailModelSelected.activityType=='EVENT', 'order-xs2': detailModelSelected.activityType!='EVENT' }">
                                    <div style="padding-bottom: 20px;">
                                        <jx-mobilink-checklist ref="refChecklist" class="test-fc" 
                                          :id="detailModelSelected.activityId" :class_pk="detailModelSelected.activityId"
                                          :class_name="class_name_activity"
                                          :class_name_checklist="class_name_checklist" 
                                          :group_id="groupId" 
                                          album_api="/o/v2/mobilink/albumfiles" 
                                          :permission="detailModelSelected.permission"
                                          :end_point="endPoint"
                                          file_attach_api="/o/v2/mobilink/fileattachs"
                                          :class_leader_id="detailModelSelected.leaderId"
                                          :user_id="current_user_id">
                                        </jx-mobilink-checklist>
                                    </div>  
                                </v-flex>
                            </v-layout>

                            <div v-if="detailModelSelected.isTemplate != true" >

                                <jx-mobilink-activity-eventsource @delete_activity="remove_activity" @view_detail="detail__all" style="width: 100%;"
                                id = "1"
                                :group_id = "groupId"
                                :class_pk = "class_pk"
                                class_name ="org.mobilink.activitymgt.model.Activity"
                                end_point= "/o/v2/mobilink/"
                                :permission_prop= "detailModelSelected.permission"
                                :opening_state_prop = "detailModelSelected.state"
                                ></jx-mobilink-activity-eventsource>
                            </div>

                            <div v-if="detailModelSelected.isTemplate != true" >

                                <jx-mobilink-comment
                                    id="1"
                                    @init-comment="initComment"
                                    :class_name="class_name_activity"
                                    :class_pk="class_pk"
                                    :group_id="groupId"
                                    comments_api="/o/v2/mobilink/comments"
                                    expanded="true"
                                    :user_id="current_user_id"
                                    :full_name="current_user_name"
                                  ></jx-mobilink-comment>
                            </div>
                        </v-flex>
                        <v-flex xs12 sm4 class="pl-3">
                            <div v-if="detailModelSelected.isTemplate != true">
                                <jx-mobilink-share 
                                    visibilities_api="/o/v2/mobilink/visibilities"
                                    resourceworkspace_get_api="/o/v2/mobilink/resourceworkspaces"
                                    resourceroles_get_api="/o/v2/mobilink/resourceroles"
                                    resourceusers_get_api="/o/v2/mobilink/resourceusers"
                                    changelogs_get_api="/o/v2/mobilink/changelogs"
                                    :class_name="class_name_activity"
                                    :class_pk="class_pk"
                                    :group_id="groupId"
                                    :permission="detailModelSelected.permission"
                                    share_for="detailModelSelected"
                                ></jx-mobilink-share>
                            </div>
                            <br v-if="detailModelSelected.isTemplate != true">
                            <div class="panel" v-if="detailModelSelected.isTemplate !=true">
                                <v-layout wrap>
                                    <v-flex xs12 sm12 class="px-3 pt-1" :class="{'order-lg1': true}">
                                        <div class="editable-wrap editable-wrap-before-select">
                                            <v-layout wrap>
                                                <v-flex v-if="detailModelSelected.isTemplate!=true" class="labelClass" xs12 sm4>
                                                    Bắt đầu: 
                                                </v-flex>

                                                <v-flex xs12 sm8 class="controlClass DateClass">

                                                    <v-layout wrap>
                                                        <v-flex xs12 class="editable-wrap">
                                                            <div class="layout wrap">
                                                                <v-flex xs12 class="layout">
                                                                    <span v-if="codeStartDate_hidden" class="editable__content__value">
                                                                        <span>
                                                                            {{ detailModelSelected.startDate|datetime }}
                                                                        </span>
                                                                        
                                                                    </span>
                                                                    <date-picker v-if="!codeStartDate_hidden && ( detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager'|| detailModelSelected.permission== 'hoster'||detailModelSelected.permission=='leader')" ref="inputStart" 
                                                                    v-model="detailModelSelected.startDate" lang="en" type="datetime" format="dd/MM/yyyy HH:mm" :time-picker-options ="{start: '00:00',step: '00:10',end: '23:00'}" confirm="true">
                                                                    </date-picker>
                                                                </v-flex>
                                                            </div>
                                                        </v-flex>
                                                    </v-layout>
                                                </v-flex>
                                            </v-layout>
                                            <div class="editable-tool">
                                                <v-button v-if="codeStartDate_hidden && (detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager'|| detailModelSelected.permission== 'hoster'||detailModelSelected.permission=='leader')" @click="show__startDate(detailModelSelected)" class="btn--editable btn--editable--done mx-0 my-0 btn btn--flat btn--icon" 
                                                :loading="codeStartDate_hidden_loading" 
                                                :disabled="codeStartDate_hidden_loading" >
                                                    <div class="btn__content">
                                                        <v-icon>create</v-icon>
                                                    </div>
                                                    
                                                </v-button>
                                                <v-btn flat icon class="btn--editable btn--editable--done mx-0 my-0"
                                                    v-if="!codeStartDate_hidden && (detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager'|| detailModelSelected.permission== 'hoster'||detailModelSelected.permission=='leader')"
                                                    @click.stop.prevent="startDateUpdateEvent(detailModelSelected)" 
                                                    :loading="codeStartDate_hidden_loading" 
                                                    :disabled="codeStartDate_hidden_loading">
                                                    <div class="btn__content">
                                                        <v-icon>done</v-icon>
                                                    </div>
                                                </v-btn>
                                                
                                                <v-btn flat icon class="mx-0 my-0"
                                                    v-if="!codeStartDate_hidden && (detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager'|| detailModelSelected.permission== 'hoster'||detailModelSelected.permission=='leader')"
                                                    @click.stop.prevent="startDateRolbackEvent(detailModelSelected)" 
                                                    :loading="codeStartDate_hidden_loading" 
                                                    :disabled="codeStartDate_hidden_loading">
                                                    <div class="btn__content">
                                                        <v-icon color="red darken-3">clear</v-icon>
                                                    </div>
                                                    
                                                </v-btn>
                                            </div>
                                        </div>
                                    </v-flex>
                                    <v-flex xs12 sm12 class="px-3" :class="{'order-lg1': true}">
                                        <div class="editable-wrap editable-wrap-before-select">
                                            <v-layout wrap>
                                                <v-flex xs12 sm4 v-if="detailModelSelected.activityType=='EVENT'" class="labelClass">
                                                    Kết thúc:
                                                </v-flex>
                                                <v-flex xs12 sm4 v-if="detailModelSelected.activityType=='TASK' || detailModelSelected.activityType=='REQUEST'" class="labelClass">
                                                    Hạn hoàn thành:
                                                </v-flex>
                                                <v-flex xs12 sm8 class="controlClass DateClass">
                                                    <v-layout wrap>
                                                        <v-flex xs12 class="editable-wrap">
                                                            <div class="layout wrap">
                                                                <v-flex xs12 class="layout">
                                                                    <span v-if="codeEndDate_hidden" class="editable__content__value">
                                                                        <span>
                                                                            {{ detailModelSelected.endDate|datetime }}
                                                                        </span>
                                                                    </span>
                                                                    <date-picker v-if="!codeEndDate_hidden && ( detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager'|| detailModelSelected.permission== 'hoster'||detailModelSelected.permission=='leader')" ref="inputEnd" v-model="detailModelSelected.endDate" lang="en" type="datetime" format="dd/MM/yyyy HH:mm"  :time-picker-options ="{start: '00:00',step: '00:10',end: '23:00'}" confirm="true"
                                                                    :not-before='detailModelSelected.startDate'>
                                                                    </date-picker>
                                                                </v-flex>
                                                            </div>
                                                            
                                                        </v-flex>
                                                    </v-layout>

                                                </v-flex>
                                            </v-layout>
                                            <div class="editable-tool">
                                                <v-button v-if="codeEndDate_hidden && (detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager'|| detailModelSelected.permission== 'hoster'||detailModelSelected.permission=='leader')" @click="show__endDate(detailModelSelected)" class="btn--editable btn--editable--done mx-0 my-0 btn btn--flat btn--icon" 
                                                :loading="codeEndDate_hidden_loading" 
                                                :disabled="codeEndDate_hidden_loading" >
                                                    <div class="btn__content">
                                                        <v-icon>create</v-icon>
                                                    </div>
                                                </v-button>
                                                <v-btn flat icon class="btn--editable btn--editable--done mx-0 my-0"
                                                    v-if="!codeEndDate_hidden && ( detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager'|| detailModelSelected.permission== 'hoster'||detailModelSelected.permission=='leader')"
                                                    @click.stop.prevent="endDateUpdateEvent(detailModelSelected)" 
                                                    :loading="codeEndDate_hidden_loading" 
                                                    :disabled="codeEndDate_hidden_loading">
                                                    <div class="btn__content">
                                                        <v-icon>done</v-icon>
                                                    </div>
                                                </v-btn>
                                                
                                                <v-btn flat icon class="mx-0 my-0"
                                                    v-if="!codeEndDate_hidden && ( detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager'|| detailModelSelected.permission== 'hoster'||detailModelSelected.permission=='leader')"
                                                    @click.stop.prevent="endDateRolbackEvent(detailModelSelected)" 
                                                    :loading="codeEndDate_hidden_loading" 
                                                    :disabled="codeEndDate_hidden_loading">
                                                    <div class="btn__content">
                                                        <v-icon color="red darken-3">clear</v-icon>
                                                    </div>
                                                </v-btn>
                                            </div>
                                        </div>
                                        
                                    </v-flex>
                                    <v-flex xs12 sm12 v-if="detailModelSelected.activityType=='TASK' && detailModelSelected.isTemplate!=true" class="px-3" :class="{'order-lg1': true}">
                                        <div class="editable-wrap editable-wrap-before-select">
                                            <v-layout wrap>
                                                <v-flex xs12 sm4 class="labelClass">Ngày hoàn thành:</v-flex>
                                                <v-flex xs12 sm8 class="labelClass">{{ detailModelSelected.finishDate|datetime }}</v-flex>
                                            </v-layout>
                                        </div>
                                    </v-flex>
                                    
                                    <v-flex xs12 sm12 jx-bind="detail__priority" 
                                        v-if="detailModelSelected.activityType=='TASK'&& detailModelSelected.isTemplate!=true" 
                                        class="px-3" :class="{'order-lg1': true}">
                                    </v-flex>
                                    <v-flex xs12 sm12 jx-bind="detail__leaderId" id="leaderClass"
                                        v-if="detailModelSelected.isTemplate!=true" 
                                        class="px-3" :class="{'order-lg1': true}">
                                    </v-flex>
                                    <v-flex xs12 sm12 jx-bind="detail__hostingId" class="px-3" id="hostingClass" :class="{'order-lg1': true}">
                                    </v-flex>
                                    <v-flex xs12 sm12 jx-bind="detail__managerId" class="px-3" id="managerClass" :class="{'order-lg1': true}"> 
                                    </v-flex>
                                    <v-flex xs12 sm12 class="px-3 mb-2" :class="{'order-lg1': true}" v-if="detailModelSelected.activityType=='EVENT' && detailModelSelected.isTemplate!=true ">
                                        <div class="editable-wrap">
                                            <v-layout wrap>
                                                <v-flex class="labelClass xs12 sm4">Địa điểm:</v-flex>
                                                <v-flex xs12 sm6 class="controlClass">

                                                    <div class="input-group input-group--dirty input-group--append-icon input-group--text-field input-group--select input-group--autocomplete" tabindex="-1">
                                                        <div class="input-group__input">
                                                            <div class="input-group__selections" style="overflow: hidden;">
                                                                <span v-if="location_hidden" class="editable__content__value pt-0 locationClass">
                                                                    <a :href='"http://maps.google.com/?q=" +locationIdSelect.location' target="_blank">
                                                                        <span>{{locationIdSelect.location}}</span>
                                                                    </a>
                                                                        
                                                                </span>
                                                               <v-select 
                                                                v-bind:items="detail__locationIdItems" 
                                                                v-model="locationIdSelect"
                                                                return-object
                                                                single-line bottom item-text="location" 
                                                                item-value="locationId"
                                                                class="weekly_calendar__month" 
                                                                v-if="!location_hidden && ( detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager'|| detailModelSelected.permission== 'hoster'||detailModelSelected.permission=='leader')" >
                                                                </v-select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                </v-flex>
                                            </v-layout>
                                            <div class="editable-tool">
                                                <v-btn flat icon class="btn--editable btn--editable--done mx-0 my-0 btn btn--flat btn--icon"
                                                    v-if="location_hidden && ( detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager'|| detailModelSelected.permission== 'hoster'||detailModelSelected.permission=='leader')"
                                                    @click.stop.prevent="locationTempleDataEvent(locationIdSelect)" 
                                                    :loading="location_hidden_loading" 
                                                    :disabled="location_hidden_loading"
                                                >
                                                    <v-icon>create</v-icon>
                                                </v-btn>
                                                <v-btn flat icon class="btn--editable btn--editable--done mx-0 my-0"
                                                    v-if="!location_hidden && (detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager'|| detailModelSelected.permission== 'hoster'||detailModelSelected.permission=='leader')"
                                                    @click.stop.prevent="locationUpdateEvent(locationIdSelect)" 
                                                    :loading="location_hidden_loading" 
                                                    :disabled="location_hidden_loading"
                                                >
                                                    <v-icon>done</v-icon>
                                                </v-btn>
                                                
                                                <v-btn flat icon class="mx-0 my-0"
                                                    v-if="!location_hidden && (detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager'|| detailModelSelected.permission== 'hoster'||detailModelSelected.permission=='leader')"
                                                    @click.stop.prevent="locationRolbackEvent(locationIdSelect)" 
                                                    :loading="location_hidden_loading" 
                                                    :disabled="location_hidden_loading"
                                                >
                                                    <v-icon color="red darken-3">clear</v-icon>
                                                </v-btn>
                                            </div>
                                        </div>
                                    </v-flex>
                   
                                </v-layout>
                            </div>
                            <div v-if="detailModelSelected.activityType=='EVENT'&& detailModelSelected.isTemplate!=true">
                                <jx-mobilink-activity-invitation
                                    working_unit_prop = "${(workingUnitId)!0}"
                                    :group_id = "groupId"
                                    :class_pk = "class_pk"
                                    class_name ="org.mobilink.activitymgt.model.Activity"
                                    end_point= "/o/v2/mobilink/"
                                    :permission_prop= "detailModelSelected.permission"
                                    :opening_state_prop = "detailModelSelected.state">
                                </jx-mobilink-activity-invitation>
                            </div>
                            <div v-if="detailModelSelected.activityType=='TASK'&& detailModelSelected.isTemplate!=true">
                                <jx-mobilink-activity-invitation-task
                                    working_unit_prop = "${(workingUnitId)!0}"
                                    :group_id = "groupId"
                                    :class_pk = "class_pk"
                                    class_name ="org.mobilink.activitymgt.model.Activity"
                                    end_point= "/o/v2/mobilink/"
                                    :permission_prop= "detailModelSelected.permission"
                                    :opening_state_prop = "detailModelSelected.state">
                                </jx-mobilink-activity-invitation-task>
                            </div>
                            <br v-if="detailModelSelected.activityType=='EVENT'&& detailModelSelected.isTemplate!=true"/>
                            <br v-if="detailModelSelected.activityType=='TASK'&& detailModelSelected.isTemplate!=true"/>
                            <div v-if="detailModelSelected.isTemplate!=true && (detailModelSelected.activityType == 'TASK'||detailModelSelected.activityType=='EVENT')">
                                <jx-mobilink-album-image-use
                                :id="class_pk"
                                :class_name="class_name_activity"
                                :class_pk="class_pk"
                                :group_id="groupId"
                                @init-album-file-upload="initAlbumFileUpload"
                                :options="optionsAlbum"
                                album_api="/o/v2/mobilink/albumfiles"
                                ></jx-mobilink-album-image-use>
                            </div>
                            <br v-if="detailModelSelected.isTemplate!=true && (detailModelSelected.activityType == 'TASK'||detailModelSelected.activityType=='EVENT')">
                            <div v-if="detailModelSelected.isTemplate!=true && (detailModelSelected.activityType == 'TASK'||detailModelSelected.activityType=='EVENT')">
                                <jx-mobilink-voting
                                    :class_name="class_name_activity"
                                    :class_pk="class_pk"
                                    :group_id="groupId"
                                    expanded="true"
                                    voting-title="Lấy ý kiến thống nhất"
                                    voting_api="/o/v2/mobilink/votings"
                                    :permission="detailModelSelected.permission"
                                    :user_id="current_user_id"
                                ></jx-mobilink-voting>
                            </div>
                        </v-flex>
                    </v-layout>
    
                </v-slide-x-transition>
            </div>
    
            <div class="xs6" :class="{'no-width': !currentListPage, 'max-width': currentListPage}" v-if="!keywordsSearchable">
                <v-slide-x-transition>
                    <!-- <div><jx-mobilink-progress ></jx-mobilink-progress></div> -->
                    <div v-if="typeListModel!='FOLLOW'" style="margin-top: 6px">
                        <div id="activityHeader">
                                
                            <div class="row-header flex-break pl-2">
                                <v-flex >
                                    <v-layout wrap>
                                        <v-flex xs6 v-if="typeListModel=='WEEK'">
                                            <v-layout>
                                                <v-select v-bind:items="selectWeek" v-model="selectWeekModel" label="Select" single-line bottom item-text="text" item-value="id" class="ml-3 weekly_calendar__month"
                                                    @change="getWeekEventList">
                                                </v-select>
                                                <v-select v-bind:items="selectYear" v-model="selectYearModel" label="Select" single-line bottom item-text="text" item-value="id" class="ml-3 weekly_calendar__year"
                                                    @change="getWeekEventList">
                                                </v-select>
                                            </v-layout>
                                        </v-flex>
                                        <v-flex xs12 sm12 v-if="typeListModel=='MONTH'">
                                            <v-layout  wrap>
                                                <v-btn icon @click.stop="goPrev">
                                                    <v-icon color="white">fast_rewind</v-icon>
                                                </v-btn>
                                                <p style="margin-top: auto;">{{monthListTitle}}</p>
                                                <v-btn icon @click.stop="goNext">
                                                    <v-icon color="white">fast_forward</v-icon>
                                                </v-btn>
                                                <v-checkbox class="checkbox_month colorCheck" @change="getEventsOfMonth()" v-model="checkbox_month_event" label="Sự kiện"></v-checkbox>
                                                <v-checkbox class="checkbox_month_tack colorCheck" @change="getEventsOfMonth()" v-model="checkbox_month_tack" label="Nhiệm vụ"></v-checkbox>
                                            </v-layout>
                                            
                                        </v-flex>
                                        <v-flex xs12 sm12 v-if="typeListModel=='KANBAN'">
                                            <!-- <v-layout  wrap> -->
                                                <a class="kanbanClass">Bảng Kanban</a>
                                            
                                                <v-layout wrap mb-1>
                                                    <v-flex xs6>
                                                        <v-checkbox @change="getKanban()" class="colorCheck checkbox_kanban_1" v-model="checkbox_kanban_1" label="Tôi quản lý"></v-checkbox>
                                                    </v-flex>
                                                    <v-flex xs6>
                                                        <v-checkbox @change="getKanban()" class="colorCheck checkbox_kanban_2" v-model="checkbox_kanban_2" label="Tôi tham gia"></v-checkbox>
                                                    </v-flex>
                                                    <v-flex xs6>
                                                        <v-checkbox @change="getKanban()" class="colorCheck checkbox_kanban_3" v-model="checkbox_kanban_3" label="Nhiệm vụ"></v-checkbox>
                                                    </v-flex>
                                                    <v-flex xs6>
                                                        <v-checkbox @change="getKanban()" class="colorCheck checkbox_kanban_4" v-model="checkbox_kanban_4" label="Yêu cầu - đề xuất"></v-checkbox>
                                                    </v-flex>
                                                </v-layout>
                                            
                                        </v-flex>
                                        <v-flex xs12 sm12 v-if="typeListModel!='WEEK' && typeListModel!='MONTH' &&  typeListModel!='KANBAN'">
                                            <v-breadcrumbs class="breadcrumbs">
                                                <v-icon slot="divider">chevron_right</v-icon>
                                                <v-breadcrumbs-item v-for="item in viewBreadcrumbs" :key="item.title">
                                                    {{ item.title }}
                                                </v-breadcrumbs-item>
                                                <v-flex v-if="typeListModel=='EVENT'">
                                                    Có {{tableEventListCout}} kết quả
                                                </v-flex>
                                                <v-flex v-if="typeListModel=='TASK'">
                                                    Có {{tableTaskListCout}} kết quả
                                                </v-flex>
                                                <v-flex v-if="typeListModel=='REQUEST'">
                                                    Có {{tableRequestListCout}} kết quả
                                                </v-flex>
                                            </v-breadcrumbs>
                                        </v-flex>
                                    </v-layout>
                                </v-flex>
                                <v-text-field class="ml-2 pt-0 keywordsSearch" id="searchInput"
                                    append-icon="search"
                                    placeholder="Nhập từ khóa"
                                    single-line
                                    hide-details
                                    v-on:keyup.enter="filterTableKeywords"
                                    v-model="keywordsSearch"
                                ></v-text-field>
                                <v-btn v-on:click.native="advancedSearch" class="px-0">
                                    Tìm kiếm nâng cao
                                </v-btn>
             
                            </div>
                        </div>
                        <v-flex xs12 sm12 v-if="typeListModel=='WEEK'">
                            <v-layout card__text>
                                <v-flex xs1 text-bold>
                                    Buổi
                                </v-flex>
                                <v-flex xs1 text-bold>
                                    Giờ
                                </v-flex>
                                <v-flex xs3 text-bold>
                                    Nội dung
                                </v-flex>
                                <v-flex xs2 text-bold>
                                    Chủ trì
                                </v-flex>
                                <v-flex xs3 text-bold>
                                    Thành phần
                                </v-flex>
                                <v-flex xs2 text-bold>
                                    Địa điểm
                                </v-flex>
                            </v-layout>
                        </flex>
                    </div>
                   <div v-if="typeListModel=='FOLLOW'" style="margin-top: 6px">
                        <jx-mobilink-activity-manager @view_detail="detail__all">  </jx-mobilink-activity-manager>
                    </div>
                </v-slide-x-transition>

                
                <v-slide-y-transition>
    
                    <div style="border:1px solid #eee" v-if="wantAdvancedSearch" class="add__new">
                        <v-layout wrap pt-2 pl-2 pb-2 pr-2>
                            <v-flex xs2>
                                <div class="mt-4 ml-3"><span v-lang.tu_ngay></span></div>
                            </v-flex>
                            <v-flex xs4>
                                <div jx-bind="advanced__startDate"></div>
                            </v-flex>
                            <v-flex xs2>
                                <div class="mt-4 ml-3"><span v-lang.den_ngay></span></div>
                            </v-flex>
                            <v-flex xs4>
                                <div jx-bind="advanced__endDate"></div>
                            </v-flex>
                            <v-flex xs2>
                                <div class="mt-4 ml-3"><span v-lang.trang_thai></span></div>
                            </v-flex>
                            <v-flex xs4>
                                <div jx-bind="advanced__trang_thai"></div>
                            </v-flex>
                            <v-flex xs2>
                                <div class="mt-4 ml-3"><span v-lang.don_vi_to_chuc_chu_tri></span></div>
                            </v-flex>
                            <v-flex xs4>
                                <div jx-bind="advanced__don_vi_to_chuc_chu_tri"></div>
                            </v-flex>
                            <v-flex xs2>
                                <div class="mt-4 ml-3"><span v-lang.nguoi_chu_tri_phu_trach></span></div>
                            </v-flex>
                            <v-flex xs4>
                                <div jx-bind="advanced__nguoi_chu_tri_phu_trach"></div>
                            </v-flex>
                            <v-flex xs2>
                                <div class="mt-4 ml-3"><span v-lang.du_an_chuong_trinh></span></div>
                            </v-flex>
                            <v-flex xs4>
                                <div jx-bind="advanced__du_an_chuong_trinh"></div>
                            </v-flex>
                            <v-flex xs2>
                                <div class="mt-4 ml-3"><span v-lang.dia_chi></span></div>
                            </v-flex>
                            <v-flex xs4>
                                <div jx-bind="advanced__dia_chi"></div>
                            </v-flex>
                            <v-flex xs2>
                                <div class="mt-4 ml-3">Hoạt động</div>
                            </v-flex>
                            <v-flex xs4>
                                <v-select 
                                    v-bind:items="advanced_hoat_dong" 
                                    item-value="itemCode"
                                    item-text="itemName"
                                    v-model="model_hoat_dong"
                                    >
                                </v-select>
                            </v-flex>
                            <v-flex xs12>
                                <div class="center">
                                    <v-btn v-on:click.native="submitAdvancedSearch">
                                        <span v-lang.tim_kiem></span>
                                    </v-btn>
                                    <v-btn v-on:click.native="cancelAdvancedSearch">
                                        <span v-lang.huy></span>
                                    </v-btn>
                                </div>
                            </v-flex>
                        </v-layout>
                    </div>
                </v-slide-y-transition>

                <v-slide-x-transition v-if="typeListModel=='WEEK'">
                    <v-expansion-panel expand>
                        <v-expansion-panel-content v-for="(item,index) in formatEventsWeek" :key="item.id" v-bind:value="item.obj.length>0">
                            <div slot="header">
                                {{ item.day }}&nbsp;&nbsp;&nbsp;
                                <span>{{ item.date }}</span> 
                                
                            </div>
                            <v-card>
                                <v-card-text>
                                    <v-layout wrap class="">
                                        <v-flex xs1 class="week1Class text-xs-center center-all ">
                                            <div class="testWeek">
                                                <div v-for="(items,indexs) in item.obj" v-if="items.activityId && compareDateMoment(items.startDate) ==0" >
                                                    Sáng
                                                </div>
                                            </div>
                                            
                                        </v-flex>

                                        <v-flex xs11>
                                            <div v-for="(items,indexs) in item.obj" v-if="items.activityId">
                                                <v-layout wrap class="weekClass" v-if="compareDateMoment(items.startDate) ==0" v-mode>
                                                    <v-flex xs1 class="week1Class text-xs-center py-1">
                                                        <div>{{ items.startDate|time }}</div>
                                                    </v-flex>
                                                    <v-flex xs3 class="week1Class">
                                                        <div class="px-1 py-1">
                                                            <a href="javascript:;" @click.stop.prevent="detail__all(items,indexs)">
                                                                <span>{{ items.subject }}</span>
                                                            </a>
                                                        </div>
                                                    </v-flex>
                                                    <v-flex xs2 class="week1Class">
                                                        <div class="px-1 py-1">{{ items.leaderName }}</div>
                                                    </v-flex>
                                                    <v-flex xs3 class="week1Class">
                                                        <div class="px-1 py-1">{{ items.invitation }}</div>
                                                    </v-flex>
                                                    <v-flex xs3>
                                                        <div class="px-1 py-1">
                                                            <a :href='"http://maps.google.com/?q=" +items.location' target="_blank">
                                                                <span><v-icon class="location_week" v-if="items.location!=''">place</v-icon> 
                                                                {{ items.location }}</span>
                                                            </a>
                                                        </div>
                                                    </v-flex>
                                                </v-layout>

                                            </div>
                                        </v-flex>
                                    </v-layout>
                                    <!-- <v-layout>
                                        <v-flex xs1 class="weekClass week1Class text-xs-center center-all ">
                                            <div class="testWeek">
                                                <div v-for="(items,indexs) in item.obj" v-if="items.activityId && compareDateMoment(items.startDate) ==0" >
                                                    <div class="weekClass_hidden" >
        
                                                    </div>
                                                   
                                                </div>
                                            </div>
                                            
                                        </v-flex>
                                        
                                    </v-layout> -->
                                    <v-layout>
                                        
                                        <v-flex xs1 class="week1Class text-xs-center center-all">
                                            <div class="testWeek">
                                                 <div v-for="(items,indexs) in item.obj" v-if="items.activityId && compareDateMoment(items.startDate) ==1" >
                                                    Chiều
                                                 </div>
                                            </div>
                                        </v-flex>
                                        <v-flex xs11>
                                            <div v-for="(items,indexs) in item.obj" v-if="items.activityId">
                                                <v-layout wrap class=" weekClass" v-if="compareDateMoment(items.startDate) ==1">
                                                    <v-flex xs1 class="week1Class text-xs-center py-1">
                                                        <div>{{ items.startDate|time }}</div>
                                                    </v-flex>
                                                    <v-flex xs3 class="week1Class">
                                                        <div class="px-1 py-1">
                                                            <a href="javascript:;" @click.stop.prevent="detail__all(items,indexs)">
                                                                <span>{{ items.subject  }}</span>
                                                            </a>
                                                        </div>
                                                    </v-flex>
                                                    <v-flex xs2 class="week1Class">
                                                        <div class="px-1 py-1">{{ items.leaderName }}</div>
                                                    </v-flex>
                                                    <v-flex xs3 class="week1Class">
                                                        <div class="px-1 py-1">{{ items.invitation }}</div>
                                                    </v-flex>
                                                    <v-flex xs3>
                                                        <div class="px-1 py-1">
                                                            <a :href='"http://maps.google.com/?q=" +items.location' target="_blank">
                                                                <span><v-icon class="location_week">place</v-icon> 
                                                                {{ items.location }}</span>
                                                            </a>
                                                        </div>
                                                    </v-flex>
                                                </v-layout>
                                                <v-layout wrap class="weekClass_hidden" v-if="indexs+1==item.obj.length">
        
                                                </v-layout>
                                            </div>
                                        </v-flex>
                                    </v-layout>
                                        
                                </v-card-text>
                            </v-card>
                        </v-expansion-panel-content>
                    </v-expansion-panel>
                </v-slide-x-transition>
                
    
                <v-slide-x-transition v-if="typeListModel=='MONTH'">
                    <jx-mobilink-full-calendar ref="monthEventRef" 
                        @eventClick="eventClick" @changeMonth="changeMonth" 
                        class="test-fc" :events="monthEventItems"
                        first-day='1' :locale="language">
                        <template slot="fc-event-card" scope="p">
                            <p>
                                <i class="fa">{{ p.event.cellIndex }}</i> {{ p.event.subject }}</p>
                        </template>
                    </jx-mobilink-full-calendar>
                </v-slide-x-transition>
                <v-slide-x-transition v-if="typeListModel=='KANBAN'">
                    <div><jx-mobilink-activity-kanbannnnnn></jx-mobilink-activity-kanbannnnnn></div>
                </v-slide-x-transition>
                <v-slide-x-transition v-if="typeListModel=='EVENT'">
                    <div class="layout wrap" jx-bind="tableEventList">
    
                    </div>
                </v-slide-x-transition>
    
                <v-slide-x-transition v-if="typeListModel=='TASK'">
                    <div class="layout wrap" jx-bind="tableTaskList">
    
                    </div>
                </v-slide-x-transition>
    
                <v-slide-x-transition v-if="typeListModel=='REQUEST'">
                    <div class="layout wrap" jx-bind="tablerequestList">
    
                    </div>
                </v-slide-x-transition>


    
            </div>
            <div class="xs6" :class="{'no-width': !currentListPage, 'max-width': currentListPage}" v-if="keywordsSearchable">
                <jx-mobilink-activity-search class="xs-12" v-bind="todo" ref="activitySearchRef" @delete_activity="remove_activity" @view_detail="detail__all" style="width: 100%;">
                </jx-mobilink-activity-search>
            </div>
        </div>
    </div>
   
    <!-- table_event_list_template -->
    <div id="table_event_list_template" class="hidden">
        <template slot="items" slot-scope="props">
            <tr v-bind:class="{'active': props.index%2==1}">
                <td class="text-xs-center">
                    <div class="pt-2 pb-2">
                        <span v-bind:title="props.item.activityId">{{props.item.activityId}}</span>
                    </div>
                </td>
                <td class="text-xs-center">
                    <div class="pt-2 pb-2">
                        <span v-bind:title="props.item.startDate|datetime">{{props.item.startDate|datetime}}</span>
                    </div>
                </td>
                <td>
                    <div class="pt-2 pb-2">
                        <a href="javascript:;" @click.stop.prevent="detail__all(props.item,props.index)">
                            <span v-bind:title="props.item.subject">{{props.item.subject}}</span>
                        </a>
                    </div>
                </td>
                <td>
                    <div class="pt-2 pb-2">
                        <span v-bind:title="props.item.hosting">{{props.item.hosting}}</span>
                    </div>
                </td>
                <td>
                    <div class="pt-2 pb-2">
                        <span v-bind:title="props.item.managerName">{{props.item.managerName}}</span>
                    </div>
                </td>
                <td>
                    <div class="pt-2 pb-2">
                        <span v-bind:title="props.item.invitation">{{props.item.invitation}}</span>
                    </div>
                </td>
                <td class="text-xs-center">
                    <v-icon class="pt-2 pb-2" v-if="props.item.permission=='owner'||props.item.permission=='manager'|| detailModelSelected.permission== 'hoster'||detailModelSelected.permission=='leader' " icon @click="toRemoveEvent(props.item,props.index)" color="red darken-3">clear</v-icon>
                </td>
            </tr>
        </template>
    </div>
    
    <!-- table_task_list_template -->
    <div id="table_task_list_template" class="hidden">
        <template slot="items" slot-scope="props">
            <tr v-bind:class="{'active': props.index%2==1}">
                <td class="text-xs-center">
                    <div class="pt-2 pb-2">
                        <span v-bind:title="props.item.activityId">{{props.item.activityId}}</span>
                    </div>
                </td>
                <td class="text-xs-center">
                    <div class="pt-2 pb-2">
                        <span v-bind:title="props.item.startDate|datetime">{{props.item.startDate|datetime}}</span>
                    </div>
                </td>
                <td>
                    <div class="pt-2 pb-2">
                        <a href="javascript:;" @click.stop.prevent="detail__all(props.item,props.index)">
                            <span v-bind:title="props.item.subject">{{props.item.subject}}</span>
                        </a>
                    </div>
                </td>

                <td>
                    <div class="pt-2 pb-2">
                        <span v-bind:title="props.item.hosting">{{props.item.hosting}}</span>
                    </div>
                </td>
                <td>
                    <div class="pt-2 pb-2">
                        <span v-bind:title="props.item.managerName">{{props.item.managerName}}</span>
                    </div>
                </td>
                <td class="text-xs-center">
                    <v-chip label outline :color="getColor(props.item.state)" v-if="props.item.state!=0">
                        <span>{{props.item.stateName}}</span>
                    </v-chip>
                </td>
                <td class="text-xs-center">
                    <div class="pt-2 pb-2">
                        <span v-bind:title="props.item.endDate|datetime">{{props.item.endDate|datetime}}</span>
                    </div>
                </td>
                <td class="text-xs-center">
                    <v-icon class="pt-2 pb-2" v-if="props.item.permission=='owner'||props.item.permission=='manager'|| detailModelSelected.permission== 'hoster'||detailModelSelected.permission=='leader'" icon @click="toRemoveTask(props.item,props.index)" color="red darken-3">clear</v-icon>
                </td>
            </tr>
        </template>
    </div>
    
    <!-- table_request_list_template -->
    <div id="table_request_list_template" class="hidden">
        <template slot="items" slot-scope="props">
            <tr v-bind:class="{'active': props.index%2==1}">
                <td class="text-xs-center">
                    <div class="pt-2 pb-2">
                        <span v-bind:title="props.item.activityId">{{props.item.activityId}}</span>
                    </div>
                </td>
                <td class="text-xs-center">
                    <div class="pt-2 pb-2">
                        <span v-bind:title="props.item.startDate|datetime">{{props.item.startDate|datetime}}</span>
                    </div>
                </td>
                <td>
                    <div class="pt-2 pb-2">
                        <a href="javascript:;" @click.stop.prevent="detail__all(props.item,props.index)">
                            <span v-bind:title="props.item.subject">{{props.item.subject}}</span>
                        </a>
                    </div>
                </td>
                <td>
                    <div class="pt-2 pb-2">
                        <span v-bind:title="props.item.userName">{{props.item.userName}}</span>
                    </div>
                </td>
                <td>
                    <div class="pt-2 pb-2">
                        <span v-bind:title="props.item.hosting">{{props.item.hosting}}</span>
                    </div>
                </td>
                <td>
                    <div class="pt-2 pb-2">
                        <span v-bind:title="props.item.managerName">{{props.item.managerName}}</span>
                    </div>
                </td>
                <td class="text-xs-center">
                    <div class="pt-2 pb-2">
                        <span v-bind:title="props.item.endDate|datetime">{{props.item.endDate|datetime}}</span>
                    </div>
                </td>
                <td class="text-xs-center">
                    <v-chip label outline :color="getColor(props.item.state)" v-if="props.item.state!=0">
                        <span>{{props.item.stateName}}</span>
                    </v-chip>
                    
                </td>
                
                <td class="text-xs-center">
                    <v-icon class="pt-2 pb-2" v-if="props.item.permission=='owner'||props.item.permission=='manager'|| detailModelSelected.permission== 'hoster'||detailModelSelected.permission=='leader'" icon @click="toRemoverequest(props.item,props.index)" color="red darken-3">clear</v-icon>
                </td>
            </tr>
        </template>
    </div>
    

    
    <div id="popUpEditActivityTemplate">
        <div class="layout wrap flex xs12 text-center">
            <jx-mobilink-activity-add ref='activityAddRef' @call-back-add="submiteevent" :group_id="groupId" :type_activity="typeActivity"
                :end_point="endPoint">
            </jx-mobilink-activity-add>
        </div>
    </div>
    
    <div id="activityMgtViewJX" :class="{'nav_drawn_width_none': !currentListPage}"></div>
    
    <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function (event) {
            var config = {
                headers: {
                    groupId: 2014
                }
            }
            var activityMgtViewJX = new VueJX({
                el: 'activityMgtViewJX',
                pk: 1,
                groupid: 2014,
                data: {
                    todo: {
                        group_id: 2014,
                        end_point: "http://127.0.0.1:8081/api/",
                        search:'',
                        state:'',
                        hosting:'',
                        manager:'',
                        project:'',
                        type: '',
                        location:'',
                        fromdate:'',
                        todate:''
                    },
                    currentListPage: true, /** ${ (Request.activityId == -1)?c } **/
                    keywordsSearchable: false,
                    addNewOptions: [],
                    typeListModel: 'WEEK',
                    endPoint: 'http://127.0.0.1:8081/api/',
                    selectYear: [],
                    selectYearModel: 0,
                    selectWeek: [],
                    selectWeekModel: 0,

                    activityCatSelect:'',
                    locationIdSelect:'',
                    formatEventsWeek: [],
                    monthEventItems: [],
                    monthListTitle: '',
                    viewBreadcrumbs: [],
                    wantAdvancedSearch: false,
                    detailShowMore1: true,
                    typeActivity: '',
                    groupId: 2014,
                    detailModelSelected: {},
                    class_pk: 0,
                    class_name_activity: 'org.mobilink.activitymgt.model.Activity',
                    class_name_checklist: 'org.mobilink.workmgt.model.Checklist',
                    current_user_id: 2015,
                    current_user_name: 2016,
                    options: {
                        target: '/o/v2/mobilink/fileattachs/upload',
                        chunkSize: 100*1024*1024,
                        headers: {
                            groupId: 2014,
                            appendix: true
                        }
                    },
                    optionsAlbum: {
                        target: '/o/v2/mobilink/albumfiles/upload/',
                        testChunks: false,
                        headers: {
                            groupId: 2014,
                            appendix: true
                        }
                    },
                    config: {
                        format: 'DD/MM/YYYY h:mm:ss',
                        useCurrent: false,
                        showClear: true,
                        showClose: true,
                    },
                    categoryName_hidden: true,
                    categoryName_hidden_loading: false,
                    subject_hidden:true,
                    subject_hidden_loading:false,
                    location_hidden:true,
                    location_hidden_loading:false,
                    resultnote_hidden:true,
                    resultnote_hidden_loading:false,
                    codeStartDate_hidden:true,
                    codeStartDate_hidden_loading:false,
                    codeEndDate_hidden:true,
                    codeEndDate_hidden_loading:false,
                    tempData1:'',
                    tempData2:'',
                    tempData3:'',
                    tempData4:'',
                    tempData5:'',
                    tempData6:'',
                    current_activity_id: 1, /** ${Request.activityId} **/
                    keywordsSearch:'',
                    tableEventListCout:0,
                    tableTaskListCout:0,
                    tableRequestListCout:0,
                    tableTemplateListCout:0,
                    checkbox_kanban_1:true,
                    checkbox_kanban_2:true,
                    checkbox_kanban_3:true,
                    checkbox_kanban_4:true,
                    checkbox_month_event:true,
                    checkbox_month_tack:true,
                    openingState_hidden:true,
                    detail__Visibilities:[],
                    advanced_hoat_dong:[],
                    model_hoat_dong:''


                },
                schema: {
                    /** TODO menu filter */
                    'navigationFilter': {
                        'id': 'navigationFilter',
                        'name': 'navigationFilter',
                        'type': 'navigation',
                        'template': 'menu_left_filter_template',
                        'template_content': 'activityViewJX_form_template',
                        'onLoad': 'initTableEventList_constructor',
                        'events': {
                            initComment: function(prevewConfig) {
                                $('#mobilink-comments-container').comments(prevewConfig);
                            },
                            compareDateMoment: function(date1) {
                                var d1 = moment(date1).format('MM/DD/YYYY HH:mm');
                                var d2 =  moment(date1).format('MM/DD/YYYY 12:00');
                                if (Date.parse(d1)<Date.parse(d2)) {
                                    return 0;
                                } else{
                                    return 1;
                                }
                            },
                            compareYearMoment: function(date1, date2) {
                                var d1 = moment(date1).format('YYYY');
                                var d2 =  moment(date2).format('YYYY');
                                
                                if (Date.parse(d1)==Date.parse(d2)) {
                                    return 0;
                                } else if (Date.parse(d1)<Date.parse(d2)) {
                                    return 1;
                                } else {
                                    return -1;
                                }
                            },
                            initAlbumFileUpload: function (prevewConfig) {
                                var vm=this;
                                var className=vm.class_name_activity;
                                var classPk = vm.detailModelSelected.activityId;
                                this.optionsAlbum.target = '/o/v2/mobilink/albumfiles/upload/' + prevewConfig.className + '/' + prevewConfig.classPK +'/' + prevewConfig.groupId;
                            },

                            /** click vao lua chon: them su kien - them nhiem vu - them quy trinh */
                            addNewOptionSelect: function (item) {
                                var vm = this;
                                vm.typeActivity = item.typeActivity;
                                vm.activityMgtViewJXTitle = item.title;
                                vm.popUpEditActivity = !vm.popUpEditActivity;
                                this.$refs.activityAddRef.initGetData();
                            },
                            /** lay ra danh sach su kien trong thang*/
                            getEventsOfMonth: function () {
                                var vm = this;
                                var typeCheck='';
                                if(vm.checkbox_month_event==true){
                                    typeCheck='EVENT';
                                }
                                if(vm.checkbox_month_tack==true){
                                    typeCheck='TASK';
                                }
                                if((vm.checkbox_month_event==true&&vm.checkbox_month_tack==true)||(vm.checkbox_month_event==false&&vm.checkbox_month_tack==false) ){
                                    typeCheck='EVENT,TASK';
                                }
                                var url = vm.endPoint + 'activities?fromdate=' + vm.fromdate +
                                    '&todate=' + vm.todate + '&template=false'+'&type='+typeCheck;
                                axios.get(url, config)
                                    .then(function (response) {
                                        var serializable = response.data
                                        if (serializable.hasOwnProperty('data') && Array.isArray(serializable.data)) {
                                            vm.monthEventItems = serializable.data;
                                        }
                                    })
                                    .catch(function (error) {
                                        console.log(error)
                                    })
                            },
                            /** lay ra danh sach su kien trong thang*/
                            changeMonth: function (start, end, current) {
                                var vm = this;
                                vm.fromdate = start.format('YYYYMMDD');
                                vm.todate = end.format('YYYYMMDD');
                                vm.monthListTitle = current.format('MMMM YYYY');
                                vm.getEventsOfMonth();
                            },
                            /** xem thang truoc*/
                            goPrev: function () {
                                var vm = this;
                                vm.$refs.monthEventRef.goPrev();
                            },
                            /** xem thang tiep theo*/
                            goNext: function () {
                                var vm = this;
                                vm.$refs.monthEventRef.goNext();
                            },
                            /** khoi tao xem danh sach khi moi vao man hinh*/
                            initTableEventList_constructor: function () {
                                var vm = this;
                                var arrTemp = [];
                                moment.locale(vm.language);
                                vm.selectWeekModel = moment().weeks();
                                for (var i = 1; i <= 53; i++) {
                                    arrTemp.push({
                                        id: i,
                                        text: vm.translate('tuan') + ' ' + i
                                    });
                                }
                                vm.selectWeek = arrTemp;
                                arrTemp = [];
                                vm.selectYearModel = moment().year();
                                for (var i = vm.selectYearModel; i >= vm.selectYearModel - 10; i--) {
                                    arrTemp.push({
                                        id: i,
                                        text: i
                                    });
                                }
                                vm.selectYear = arrTemp;
                                vm.getWeekEventList();
                                vm.addNewOptions = [{
                                    title: 'Thêm mới các cuộc họp',
                                    id: 1,
                                    typeActivity: 'events'
                                }, {
                                    title: 'Thêm mới các nhiệm vụ được giao',
                                    id: 2,
                                    typeActivity: 'tasks'
                                },{
                                    title: 'Thêm mới đề xuất, kiến nghị',
                                    id: 4,
                                    typeActivity: 'requests'
                                }, {
                                    title: 'Thêm mới mẫu hoạt động',
                                    id: 3,
                                    typeActivity: 'process'
                                }];


                                // if(vm.current_activity_id>0){
                                //     var url = vm.endPoint + 'activities/'+vm.current_activity_id;

                                //     axios.get(url, config).then(function (response) {
                                //         var serializable = response.data;
                                //         vm.detail__all(serializable, 0);
                                //     })
                                //         .catch(function (error) {
                                //             console.log(error);
                                //         });
                                // }
                            },
                            /** lay ra danh sach su kien theo tuan */
                            getWeekEventList: function (item) {
                                var vm = this;
                                var w = vm.selectWeekModel;
                                var y = vm.selectYearModel;
                                if (item < 54) {
                                    w = item;
                                } else if (item > 54) {
                                    y = item;
                                }

                                var formatDate = 'DD/MM/YYYY';
                                var formatDate1 = 'MM/DD/YYYY';
                                var listDaysInWeek = []
                                for (var i = 1; i <=7; i++) {
                                    listDaysInWeek.push(
                                      moment().weekday(i).year(y).week(w)
                                    );
                                }
                                listDaysInWeek = listDaysInWeek.sort(function(a,b){return a > b});
                                
                                var fromdate = listDaysInWeek[0].format('YYYYMMDD');
                                var todate = listDaysInWeek[6].format('YYYYMMDD');
                                var url = vm.endPoint + 'activities?sort=startDate&order=true&fromdate=' + fromdate +
                                    '&todate=' + todate+ '&template=false&type=EVENT';

                                axios.get(url, config).then(function (response) {
                                    var serializable = response.data;
                                    var weekEventItems = [];
                                    if (serializable.hasOwnProperty('data') && Array.isArray(serializable.data)) {
                                        weekEventItems = serializable.data;
                                    }else if (typeof (serializable.data) == 'object') {
                                      weekEventItems = [serializable.data];
                                    }
                                    var _formatEventsWeek = [];
                                    for (var key in listDaysInWeek) {
                                        _formatEventsWeek.push({
                                            day: listDaysInWeek[key].format('dddd').capitalize(),
                                            dateMm: listDaysInWeek[key],
                                            date: listDaysInWeek[key].format('DD/MM'),
                                            obj: weekEventItems.filter(function (
                                                item) {
                                                return moment(item.startDate).format(formatDate) == listDaysInWeek[key].format(formatDate)
                                            }),
                                            date1: Date.parse(listDaysInWeek[key].format(formatDate1)),
                                        });
                                    }
                                    if (_formatEventsWeek.length > 1 && _formatEventsWeek[0]
                                        .dateMm > _formatEventsWeek[1].dateMm) {
                                        _formatEventsWeek.push(_formatEventsWeek.shift());
                                    }
                                    vm.formatEventsWeek = _formatEventsWeek;

                                })
                                    .catch(function (error) { });
                            },

                            /** hien thi tim kiem nang cao */
                            advancedSearch: function () {
                                var vm = this;
                                if (vm.loadAdvancedSearch != true) {
                                    vm._initadvanced__trang_thai();
                                    vm._initadvanced__don_vi_to_chuc_chu_tri();
                                    vm._initadvanced__nguoi_chu_tri_phu_trach();
                                    vm._initadvanced__du_an_chuong_trinh();
                                    vm._initadvanced__dia_chi();
                                    vm.advanced_hoat_dong=[
                                        {itemName: 'Cuộc họp, hội nghị', itemCode: 'EVENT'},
                                        {itemName: 'Giao nhiệm vụ', itemCode: 'TASK'},
                                        {itemName: 'Đề xuất, kiến nghị', itemCode: 'REQUEST'},
                                        {itemName: 'Kế hoạch công tác', itemCode: 'PLAN'},
                                        {itemName: 'Yêu cầu hỗ trợ', itemCode: 'TICKET'}
                                    ];
                                }
                                vm.loadAdvancedSearch = true;
                                vm.wantAdvancedSearch = !vm.wantAdvancedSearch;

                            },
                            /** an tim kiem nang cao */
                            cancelAdvancedSearch: function () {
                                var vm = this;
                                vm.advanced__trang_thai = [];
                                vm.advanced__startDate = '';
                                vm.advanced__endDate = '';
                                vm.advanced__don_vi_to_chuc_chu_tri = [];
                                vm.advanced__nguoi_chu_tri_phu_trach = [];
                                vm.advanced__du_an_chuong_trinh = [];
                                vm.advanced__dia_chi = [];
                                vm.wantAdvancedSearch = !vm.wantAdvancedSearch;
                            },
                            /** load lai danh sach khi click tim kiem nang cao */
                            submitAdvancedSearch: function () {
                                var vm = this;
                                vm.keywordsSearchable=!vm.keywordsSearchable;
                                vm.todo.search='';
                                vm.todo.state = vm.advanced__trang_thai.value__;
                                vm.todo.hosting = vm.advanced__don_vi_to_chuc_chu_tri.itemCode;
                                vm.todo.manager = vm.advanced__nguoi_chu_tri_phu_trach.employeeId;
                                vm.todo.project = vm.advanced__du_an_chuong_trinh.projectId;
                                vm.todo.type = vm.model_hoat_dong;
                                vm.todo.location = vm.advanced__dia_chi.locationId;
                                vm.todo.fromdate = vm.formatDateAdvanced(vm.advanced__startDate);
                                vm.todo.todate = vm.formatDateAdvanced(vm.advanced__endDate);
                                vm.runTable();
                            },
                            formatDateAdvanced: function(date) {
                                if (!date) {
                                    return null
                                }
                                var res = date.split('/');
                                var result = '';
                                for (var i = 0; i < res.length; i++) {
                                    result = res[i] + result;
                                }
                                return result;
                            },
                            /** load chi tiết */
                            detail__all: function (item, index) {
                                console.log("RUN DETAIL");
                                var vm = this;
                                vm.class_pk = item.activityId;
                                vm.detailModelSelected = item;
                                // window.history.pushState('', '', themeDisplay.getLayoutURL() + '/-/detail/' + item.activityId);
                                vm.options.target = '/o/v2/mobilink/fileattachs/upload/'+vm.class_name_activity+'/'+vm.class_pk+'/'+vm.groupId;
                                if(item.activityType=='EVENT'){
                                    setTimeout(function(){
                                        $("#hostingClass .labelClass").html("Đơn vị chuẩn bị:");
                                        $("#descriptionClass .labelClass").html("Nội dung:");
                                        $("#leaderClass .labelClass").html("Người chủ trì:");
                                    },500);                                
                                }
                                else if(item.activityType=='TASK'||item.activityType=='REQUEST'||item.isTemplate==true){
                                    setTimeout(function(){
                                        $("#hostingClass .labelClass").html("Đơn vị chủ trì:");
                                        $("#descriptionClass .labelClass").html("Mô tả:");
                                        $("#leaderClass .labelClass").html("Lãnh đạo giao việc:");

                                    },500);  
                                    
                                }

                                vm._initdetail__activityCat();
                                vm._initdetail__hostingId();
                                vm._initdetail__managerId();
                                vm._initdetail__locationId();
                                vm._initdetail__projectId();
                                vm._initdetail__priority();
                                vm._initVisibilities();
                                vm._initdetail__leaderId();

                                vm.detail__priority=item.priority;
                                vm.keywordsSearch='';
                                
                                vm.activityCatSelect ={itemName: item.categoryName, itemCode: item.activityCat};
                                vm.locationIdSelect ={location: item.location, locationId: item.locationId};
                                var url = vm.endPoint + 'activities/' + item.activityId;
                                axios.get(url, config).then(function (response) {
                                    var serializable = response.data;
                                    if (serializable.contact) {
                                        vm.contactId = serializable.contact.contactId;
                                        serializable.contactId = vm.contactId;
                                    } else {
                                        serializable.contactId = 0;
                                    }
                                    vm.detailModelSelected = serializable;

                                    setTimeout(function(){
                                        
                                        vm.initEditableControl(
                                       [
                                         {
                                         name: 'detail__subject',
                                         value: 'subject'
                                         },
                                         {
                                         name: 'detail__activityCat',
                                         value: 'activityCat'
                                         },
                                         {
                                         name: 'detail__hostingId',
                                         value: 'hostingId'
                                         },
                                         {
                                         name: 'detail__managerId',
                                         value: 'managerId'
                                         },
                                         {
                                         name: 'detail__priority',
                                         value: 'priority'
                                         },
                                         {  
                                         name: 'detail__projectId',
                                         value: 'projectId'
                                        },
                                         {
                                         name: 'detail__description',
                                         value: 'description'
                                        },
                                        {
                                         name: 'detail__leaderId',
                                         value: 'leaderId'
                                        }

                                        ],
                                        vm.detailModelSelected, 
                                        vm.detailModelSelected.activityId,
                                        vm.detailModelSelected['permission'] == "manager" || vm.detailModelSelected['permission'] == "owner" || vm.detailModelSelected['permission'] == "hoster" || vm.detailModelSelected['permission'] == "leader",
                                        vm
                                      );
                                    
                                    }, 500);

                                    vm.detail__description = serializable.description;
                                    
                                })
                                    .catch(function (error) {
                                        console.log(error);
                                    });

                                vm.currentListPage = false;
                            },
                            _initVisibilities: function () {
                                var vm = this;
                                var className=vm.class_name_activity;
                                var url = vm.endPoint + 'visibilities/'+ className+'/'+ vm.detailModelSelected.activityId+'/actions';
                                axios.get(url, config).then(function (response) {
                                    var serializable = response.data;
                                    if (serializable.hasOwnProperty('data')) {
                                        vm.detail__Visibilities = serializable.data;
                                    }
                                })
                                    .catch(function (error) {
                                        vm.detail__Visibilities = [];
                                    })
                            },
                            eventClick: function (event, jsEvent, pos) {                             
                                this.detail__all(event, 0);
                            },
                            /** thay đổi trạng thái State*/
                            changeState: function(item,index){
                                var vm=this;
                                var className=vm.class_name_activity;
                                var url = vm.endPoint + 'visibilities/'+className+'/'+vm.detailModelSelected.activityId;

                                var paramsChangeOpeningState = new URLSearchParams();

                                paramsChangeOpeningState.append('state', item.state);

                                axios.put(url,paramsChangeOpeningState, config).then(function (response) {
                                    var serializable = response.data;
                                    vm.detailModelSelected.stateName=serializable.stateName;
                                    vm.detailModelSelected.state=serializable.state;
                                    vm._initVisibilities();
                                })
                                    .catch(function (error) {
                                        console.log(error);
                                    });
                                
                            },
                            getColor: function(item){
                                var color;
                                switch (item) {
                                    case 1:
                                        color = "red";
                                        break;
                                    case 3:
                                        color = "red";
                                        break;
                                    case 4:
                                        color = "blue";
                                        break;
                                    case 5:
                                        color = "blue";
                                        break;
                                    case 7:
                                        color = "amber";
                                        break;
                                    case 8:
                                        color = "grey";
                                        
                                }
                                return color
                            },

                            show__startDate: function(data) {
                                var vm=this;
                                this.tempData3 = data.startDate;
                                this.codeStartDate_hidden = !this.codeStartDate_hidden;
                            },
                            startDateRolbackEvent: function(data) {
                                data.startDate = this.tempData3;
                                this.codeStartDate_hidden = !this.codeStartDate_hidden;
                            },
                            show__endDate: function(data) {
                                var vm=this;
                                this.tempData4 = data.endDate;
                                this.codeEndDate_hidden = !this.codeEndDate_hidden;
                            },
                            endDateRolbackEvent: function(data) {
                                data.endDate = this.tempData4;
                                this.codeEndDate_hidden = !this.codeEndDate_hidden;
                            },
                            locationTempleDataEvent: function(data) {
                                var vm=this;
                                vm._initdetail__locationId();
                                this.tempData5 = data.location;
                                this.location_hidden = !this.location_hidden;
                            },
                            locationRolbackEvent: function(data) {
                                data.location = this.tempData5;
                                this.location_hidden = !this.location_hidden;
                            },
                            locationUpdateEvent: function(item) {
                                var vm = this; 
                                var dataToAPI = new URLSearchParams();
                                dataToAPI.append("locationId", item.locationId);
                                    var url = vm.endPoint + 'activities/' +vm.detailModelSelected.activityId ;
                                    axios.put(url, dataToAPI, config).then(function(response) {
                                        vm.snackbartextactivityMgtViewJX = "Cập nhật dữ liệu thành công!";
                                        vm.snackbaractivityMgtViewJX = true;
                                        vm.location_hidden = !vm.location_hidden;
                                      })
                                      .catch(function(error) {
                                        console.log(error);
                                        vm.snackbartextactivityMgtViewJX = "Cập nhật dữ liệu thất bại!";
                                        vm.snackbareroractivityMgtViewJX = true;
                                      });
                            },
                            subjectTempleDataEvent: function(data) {
                                this.tempData2 = data.subject;
                                this.subject_hidden = !this.subject_hidden;
                            },
                            subjectRolbackEvent: function(data) {
                                data.subject = this.tempData2;
                                this.subject_hidden = !this.subject_hidden;
                            },
                            subjectUpdateEvent: function(item) {
                                var vm = this; 
                                var dataToAPI = new URLSearchParams();
                                dataToAPI.append("subject", item.subject);
                                    var url = vm.endPoint + 'activities/' +item.activityId ;
                                    axios.put(url, dataToAPI, config).then(function(response) {
                                        vm.snackbartextactivityMgtViewJX = "Cập nhật dữ liệu thành công!";
                                        vm.snackbaractivityMgtViewJX = true;
                                        vm.subject_hidden = !vm.subject_hidden;
                                      })
                                      .catch(function(error) {
                                        console.log(error);
                                        vm.snackbartextactivityMgtViewJX = "Cập nhật dữ liệu thất bại!";
                                        vm.snackbareroractivityMgtViewJX = true;
                                      });
                            },
                            resultnoteCreate: function(data) {
                                this.tempData6 = data.resultNote;
                                this.resultnote_hidden = !this.resultnote_hidden;
                            },
                            resultnoteBack: function(data) {
                                data.resultNote = this.tempData6;
                                this.resultnote_hidden = !this.resultnote_hidden;
                            },
                            resultnoteUpdate: function(item) {
                                var vm = this; 
                                var dataToAPI = new URLSearchParams();
                                dataToAPI.append("resultNote", item.resultNote);
                                    var url = vm.endPoint + 'activities/' +item.activityId ;
                                    axios.put(url, dataToAPI, config).then(function(response) {
                                        vm.snackbartextactivityMgtViewJX = "Cập nhật dữ liệu thành công!";
                                        vm.snackbaractivityMgtViewJX = true;
                                        vm.resultnote_hidden = !vm.resultnote_hidden;
                                      })
                                      .catch(function(error) {
                                        console.log(error);
                                        vm.snackbartextactivityMgtViewJX = "Cập nhật dữ liệu thất bại!";
                                        vm.snackbareroractivityMgtViewJX = true;
                                      });
                            },
                            startDateUpdateEvent:function(item){
                                var vm = this; 
                                var dataToAPI = new URLSearchParams();

                                dataToAPI.append("startDate",vm.parseDateFormat(vm.detailModelSelected.startDate));
                                var url = vm.endPoint + 'activities/' + item.activityId ;
                                axios.put(url, dataToAPI, config).then(function(response) {
                                    vm.snackbartextactivityMgtViewJX = "Cập nhật dữ liệu thành công!";
                                    vm.snackbaractivityMgtViewJX = true;
                                    vm.codeStartDate_hidden = !vm.codeStartDate_hidden;
                                  })
                                  .catch(function(error) {
                                    console.log(error);
                                    vm.snackbartextactivityMgtViewJX = "Cập nhật dữ liệu thất bại!";
                                    vm.snackbareroractivityMgtViewJX = true;
                                  });
                                
                            },
                            endDateUpdateEvent:function(item){
                                var vm = this; 
                                var dataToAPI = new URLSearchParams();

                                dataToAPI.append("endDate",vm.parseDateFormat(vm.detailModelSelected.endDate));
                                var url = vm.endPoint + 'activities/' + item.activityId ;
                                axios.put(url, dataToAPI, config).then(function(response) {
                                    vm.snackbartextactivityMgtViewJX = "Cập nhật dữ liệu thành công!";
                                    vm.snackbaractivityMgtViewJX = true;
                                    vm.codeEndDate_hidden = !vm.codeEndDate_hidden;
                                  })
                                  .catch(function(error) {
                                    console.log(error);
                                    vm.snackbartextactivityMgtViewJX = "Cập nhật dữ liệu thất bại!";
                                    vm.snackbareroractivityMgtViewJX = true;
                                  });
                                
                            },

                            _initdetail__locationId: function () {
                                var vm = this;
                                var url = vm.endPoint + 'locations';
                                axios.get(url, config).then(function (response) {
                                    var serializable = response.data;
                                    if (serializable.hasOwnProperty('data')) {
                                        vm.detail__locationIdItems = serializable.data;
                                    }
                                })
                                    .catch(function (error) {
                                        vm.detail__locationIdItems = [];
                                    })
                            },
                            parseDateFormat : function(fullDate){
                                var date;
                                if(fullDate){
                                    date = fullDate.getFullYear()+(fullDate.getMonth()+1).toString().padStart(2, '0')+fullDate.getDate().toString().padStart(2, '0')+fullDate.getHours().toString().padStart(2, '0')+fullDate.getMinutes().toString().padStart(2, '0');
                                } else {
                                    date = ""
                                }
                                return date
                            },
                            showdetailactivityresult: function(item){
                                // window.history.pushState('', '', themeDisplay.getLayoutURL() + '/-/detail/' + item.activityId);  
                                location.reload();
                            },
                            backToList: function(){
                                this.currentListPage = true;
                                var vm = this;
                                if (vm.typeListModel == 'EVENT' ) {
                                    vm.getTableEventList();
                                } else if (vm.typeListModel == 'TASK') {
                                    vm.getTableTaskList();
                                } else if (vm.typeListModel == 'REQUEST') {
                                    vm.getTablerequestList();
                                } else if (vm.typeListModel == 'WEEK') {
                                    vm.getWeekEventList();
                                } else if (vm.typeListModel == 'MONTH') {
                                    vm.getEventsOfMonth();
                                }
                                // window.history.pushState('', '', themeDisplay.getLayoutURL());
                            },
                            /** xóa trong list danh sách sau khi tìm kiếm*/
                            remove_activity: function (item, index, tableListItems) {
                                var vm = this;

                                vm.$dialog.confirm('Xác nhận xóa dữ liệu', {
                                    html: true,
                                    loader: true,
                                    okText: vm.translate('xac_nhan'),
                                    cancelText: vm.translate('quay_lai'),
                                    animation: 'fade'
                                })
                                .then(function (dialog) {

                                    var url = vm.endPoint + "activities/" + item.activityId;
                                    axios.delete(url, config).then(function (response) {
                                        tableListItems.splice(index, 1);
                                        vm.snackbartextactivityMgtViewJX = vm.translate(
                                            'xoa_du_lieu_thanh_cong');
                                        vm.snackbaractivityMgtViewJX = true;
                                        vm.loadingactivityMgtViewJX = false;
                                    })
                                        .catch(function (error) {
                                            console.log(error);
                                            vm.snackbartextactivityMgtViewJX = vm.translate(
                                                'xoa_du_lieu_that_bai');
                                            vm.snackbareroractivityMgtViewJX = true;
                                            vm.loadingactivityMgtViewJX = false
                                        });

                                    dialog.close();
                                    return false;
                                })
                                .catch(function (e) {
                                    console.log(e)
                                })
                            },
                            /** Tìm kiếm */
                            filterTableKeywords: function (event) {
                                    var vm=this;
                                    vm.keywordsSearchable=!vm.keywordsSearchable;
                                    vm.todo.search = vm.keywordsSearch;
                                    
                                    vm.runTable1();
                            },
                            getKanban:function(){
                                var vm = this;
                                var permissionCheck='';
                                var typeCheck='';

                                if(vm.checkbox_kanban_1==true){
                                    permissionCheck="manager";
                                }
                                if(vm.checkbox_kanban_2==true){
                                    permissionCheck="follow";
                                }
                                if((vm.checkbox_kanban_1==true&&vm.checkbox_kanban_2==true)||(vm.checkbox_kanban_1==false&&vm.checkbox_kanban_2==false)){
                                    permissionCheck="follow,manager";
                                }
                                if(vm.checkbox_kanban_3==true){
                                    typeCheck="TASK"
                                }
                                if(vm.checkbox_kanban_4==true){
                                    typeCheck="REQUEST"
                                }
                                if((vm.checkbox_kanban_3==true&&vm.checkbox_kanban_4==true)||(vm.checkbox_kanban_3==false&&vm.checkbox_kanban_4==false)){
                                    typeCheck="TASK,REQUEST";
                                }
                                console.log("test permission",permissionCheck);
                                console.log("test type",typeCheck);
                                kanban_api_get: "127.0.0.1:8081/activities?permission="+permissionCheck+"&type="+typeCheck;
                                kanban_api_put:"127.0.0.1:8081/activities/";
                            },

                        }
                    },






                    'advanced__startDate': {
                        'id': 'advanced__startDate',
                        'name': 'advanced__startDate',
                        'type': 'date'
                    },
                    'advanced__endDate': {
                        'id': 'advanced__endDate',
                        'name': 'advanced__endDate',
                        'type': 'date'
                    },
                    'advanced__trang_thai': {
                        'id': 'advanced__trang_thai',
                        'name': 'advanced__trang_thai',
                        "type": "select",
                        "item_text": "text__",
                        "item_value": "value__",
                        "single_line": true,
                        "hide_selected": true,
                        "multiple": false,
                        "tags": false,
                        "chips": true,
                        "loading": false,
                        "no_data_text": ".......",
                        "items": [],
                        'onChange': 'filteradvanced__trang_thai($event)',
                        "onRemove": 'filteradvanced__trang_thaiOnRemove',
                        'onClick': 'filteradvanced__trang_thaiOnClear',
                        "events": {
                            _initadvanced__trang_thai: function () {
                                var vm = this;

                                vm.advanced__trang_thaiItems = [{
                                    text__: vm.translate('planned'),
                                    value__: 'planned'
                                },
                                {
                                    text__: vm.translate('started'),
                                    value__: 'started'
                                },
                                {
                                    text__: vm.translate('closed'),
                                    value__: 'closed'
                                },
                                {
                                    text__: vm.translate('canceled'),
                                    value__: 'canceled'
                                },
                                {
                                    text__: vm.translate('opening'),
                                    value__: 'opening'
                                }
                                ];
                            },
                            filteradvanced__trang_thai: function (data) {
                                var vm = this;
                                vm.advanced__trang_thai = data;

                            },
                            filteradvanced__trang_thaiOnRemove: function () {
                                var vm = this;
                                vm.advanced__trang_thai = [];
                            },
                            filteradvanced__trang_thaiOnClear: function () {
                                this.advanced__trang_thai = [];
                            }
                        }
                    },
                    'advanced__don_vi_to_chuc_chu_tri': {
                        'id': 'advanced__don_vi_to_chuc_chu_tri',
                        'name': 'advanced__don_vi_to_chuc_chu_tri',
                        "type": "select",
                        "item_text": "itemName",
                        "item_value": "itemCode",
                        "single_line": true,
                        "hide_selected": true,
                        "multiple": false,
                        "tags": false,
                        "chips": true,
                        "loading": false,
                        "no_data_text": ".......",
                        "items": [],
                        'onChange': 'filteradvanced__don_vi_to_chuc_chu_tri($event)',
                        "onRemove": 'filteradvanced__don_vi_to_chuc_chu_triOnRemove',
                        'onClick': 'filteradvanced__don_vi_to_chuc_chu_triOnClear',
                        "events": {
                            _initadvanced__don_vi_to_chuc_chu_tri: function () {
                                var vm = this;

                                var url = vm.endPoint +
                                    'dictcollections/GOVERMENT_AGENCY/dictitems';
                                var config = {
                                    headers: {
                                        'groupId': 2014
                                    }

                                };
                                axios.get(url, config).then(function (response) {
                                    var serializable = response.data;
                                    if (serializable.hasOwnProperty('data')) {
                                        vm.advanced__don_vi_to_chuc_chu_triItems =
                                            serializable.data;
                                    }
                                })
                                    .catch(function (error) {
                                        console.log(error);
                                    });
                            },
                            filteradvanced__don_vi_to_chuc_chu_tri: function (data) {
                                var vm = this;
                                vm.advanced__don_vi_to_chuc_chu_tri = data;

                            },
                            filteradvanced__don_vi_to_chuc_chu_triOnRemove: function () {
                                var vm = this;
                                vm.advanced__don_vi_to_chuc_chu_tri = [];
                            },
                            filteradvanced__don_vi_to_chuc_chu_triOnClear: function () {
                                this.advanced__don_vi_to_chuc_chu_tri = [];
                            }
                        }
                    },
                    'advanced__nguoi_chu_tri_phu_trach': {
                        'id': 'advanced__nguoi_chu_tri_phu_trach',
                        'name': 'advanced__nguoi_chu_tri_phu_trach',
                        "type": "select",
                        "item_text": "fullName",
                        "item_value": "employeeId",
                        "single_line": true,
                        "hide_selected": true,
                        "multiple": false,
                        "tags": false,
                        "chips": true,
                        "loading": false,
                        "no_data_text": ".......",
                        "items": [],
                        'onChange': 'filteradvanced__nguoi_chu_tri_phu_trach($event)',
                        "onRemove": 'filteradvanced__nguoi_chu_tri_phu_trachOnRemove',
                        'onClick': 'filteradvanced__nguoi_chu_tri_phu_trachOnClear',
                        "events": {
                            _initadvanced__nguoi_chu_tri_phu_trach: function () {
                                var vm = this;

                                var url = vm.endPoint + 'employees?active=true';
                                var config = {
                                    headers: {
                                        'groupId': 2014
                                    }

                                };
                                axios.get(url, config).then(function (response) {
                                    var serializable = response.data;
                                    if (serializable.hasOwnProperty('data')) {
                                        var arrTemp = []
                                        for (var key in serializable.data) {
                                            arrTemp.push({
                                            fullName: serializable.data[key].fullName,
                                            employeeId: serializable.data[key].mappingUser.userId
                                            })
                                        }
                                        vm.advanced__nguoi_chu_tri_phu_trachItems = arrTemp;

                                    }
                                })
                                    .catch(function (error) {
                                        console.log(error);
                                    });
                            },
                            filteradvanced__nguoi_chu_tri_phu_trach: function (data) {
                                var vm = this;
                                vm.advanced__nguoi_chu_tri_phu_trach = data;

                            },
                            filteradvanced__nguoi_chu_tri_phu_trachOnRemove: function () {
                                var vm = this;
                                vm.advanced__nguoi_chu_tri_phu_trach = [];
                            },
                            filteradvanced__nguoi_chu_tri_phu_trachOnClear: function () {
                                this.advanced__nguoi_chu_tri_phu_trach = [];
                            }
                        }
                    },
                    'advanced__du_an_chuong_trinh': {
                        'id': 'advanced__du_an_chuong_trinh',
                        'name': 'advanced__du_an_chuong_trinh',
                        "type": "select",
                        "item_text": "projectName",
                        "item_value": "projectId",
                        "single_line": true,
                        "hide_selected": true,
                        "multiple": false,
                        "tags": false,
                        "chips": true,
                        "loading": false,
                        "no_data_text": ".......",
                        "items": [],
                        'onChange': 'filteradvanced__du_an_chuong_trinh($event)',
                        "onRemove": 'filteradvanced__du_an_chuong_trinhOnRemove',
                        'onClick': 'filteradvanced__du_an_chuong_trinhOnClear',
                        "events": {
                            _initadvanced__du_an_chuong_trinh: function () {
                                var vm = this;

                                var url = vm.endPoint + 'projects';
                                var config = {
                                    headers: {
                                        'groupId': 2014
                                    }

                                };
                                axios.get(url, config).then(function (response) {
                                    var serializable = response.data;
                                    if (serializable.hasOwnProperty('data')) {
                                        vm.advanced__du_an_chuong_trinhItems = serializable
                                            .data;
                                    }
                                })
                                    .catch(function (error) {
                                        console.log(error);
                                    });
                            },
                            filteradvanced__du_an_chuong_trinh: function (data) {
                                var vm = this;
                                vm.advanced__du_an_chuong_trinh = data;

                            },
                            filteradvanced__du_an_chuong_trinhOnRemove: function () {
                                var vm = this;
                                vm.advanced__du_an_chuong_trinh = [];
                            },
                            filteradvanced__du_an_chuong_trinhOnClear: function () {
                                this.advanced__du_an_chuong_trinh = [];
                            }
                        }
                    },
                    'advanced__dia_chi': {
                        'id': 'advanced__dia_chi',
                        'name': 'advanced__dia_chi',
                        "type": "select",
                        "item_text": "location",
                        "item_value": "locationId",
                        "single_line": true,
                        "hide_selected": true,
                        "multiple": false,
                        "tags": false,
                        "chips": true,
                        "loading": false,
                        "no_data_text": ".......",
                        "items": [],
                        'onChange': 'filteradvanced__dia_chi($event)',
                        "onRemove": 'filteradvanced__dia_chiOnRemove',
                        'onClick': 'filteradvanced__dia_chiOnClear',
                        "events": {
                            _initadvanced__dia_chi: function () {
                                var vm = this;

                                var url = vm.endPoint + 'locations';
                                var config = {
                                    headers: {
                                        'groupId': 2014
                                    }

                                };
                                axios.get(url, config).then(function (response) {
                                    var serializable = response.data;
                                    if (serializable.hasOwnProperty('data')) {
                                        vm.advanced__dia_chiItems = serializable.data;
                                    }
                                })
                                    .catch(function (error) {
                                        console.log(error);
                                    });
                            },
                            filteradvanced__dia_chi: function (data) {
                                var vm = this;
                                vm.advanced__dia_chi = data;

                            },
                            filteradvanced__dia_chiOnRemove: function () {
                                var vm = this;
                                vm.advanced__dia_chi = [];
                            },
                            filteradvanced__dia_chiOnClear: function () {
                                this.advanced__dia_chi = [];
                            }
                        }
                    },
                    'detail__hostingId': {
                        'id': 'hostingId',
                        'name': 'detail__hostingId',
                        'type': 'select',
                        'label': 'Đơn vị chuẩn bị:',
                        'mode': 'editable',
                        'labelClass': 'xs12 sm4',
                        'controlClass': 'xs12 sm8',
                        'updateapi': '/o/v2/mobilink/activities',
                        "item_text": "name",
                        "item_value": "workingUnitId",
                        "hide_selected": true,
                        "loading": false,
                        "items": [],
                        'success_msg': 'Cập nhật trường thành công',
                        'error_msg': 'Cập nhật trường thất bại',
                        'call_back_success': 'mySuccesssnackbarCall',
                        'call_back_error': 'myErrorsnackbarCall',
                        'events': {
                            _initdetail__hostingId: function () {
                                var vm = this;
                                var url = vm.endPoint + 'workingunits';
                                axios.get(url, config).then(function (response) {
                                    var serializable = response.data;
                                    if (serializable.hasOwnProperty('data')) {
                                        vm.detail__hostingIdItems = serializable.data;
                                    }
                                })
                                    .catch(function (error) {
                                        vm.detail__hostingIdItems = [];
                                    })
                            },
                            myErrorsnackbarCall: function (value) {
                                console.log(value);
                            },
                            mySuccesssnackbarCall: function (response) {
                                console.log(response);
                            }
                        }
                    },
                    'detail__activityCat': {
                        'id': 'activityCat',
                        'name': 'detail__activityCat',
                        'type': 'select',
                        'label': 'Lĩnh vực: ',
                        'mode': 'editable',
                        'labelClass': 'xs12 sm2',
                        'controlClass': 'xs12 sm10',
                        'updateapi': '/o/v2/mobilink/activities',
                        "item_text": "categoryName",
                        "item_value": "activityCat",
                        "hide_selected": true,
                        "loading": false,
                        "items": [],
                        'success_msg': 'Cập nhật trường thành công',
                        'error_msg': 'Cập nhật trường thất bại',
                        'call_back_success': 'mySuccesssnackbarCall',
                        'call_back_error': 'myErrorsnackbarCall',
                        'events': {
                            _initdetail__activityCat: function () {
                                var vm = this;
                                var url = vm.endPoint + 'dictcollections/ACTIVITY_TYPE/dictitems?parent='+ vm.detailModelSelected.activityType;
                                axios.get(url, config).then(function (response) {
                                    var serializable = response.data;

                                    if (serializable.hasOwnProperty('data')) {
                                        var arrTemp = []
                                        for (var key in serializable.data) {
                                            arrTemp.push({
                                            activityCat: serializable.data[key].itemCode,
                                            categoryName: serializable.data[key].itemName
                                            })
                                        }
                                        vm.detail__activityCatItems = arrTemp;
                                    }
                                })
                                    .catch(function (error) {
                                        vm.detail__activityCatItems = [];
                                    })
                            }
                        }
                    },
                    'detail__managerId': {
                        'id': 'managerId',
                        'name': 'detail__managerId',
                        'type': 'select',
                        'label': 'Người phụ trách: ',
                        'mode': 'editable',
                        'labelClass': 'xs12 sm4',
                        'controlClass': 'xs12 sm8',
                        'updateapi': '/o/v2/mobilink/activities',
                        "item_text": "fullName",
                        "item_value": "employeeId",
                        "hide_selected": true,
                        "loading": false,
                        "items": [],
                        'success_msg': 'Cập nhật trường thành công',
                        'error_msg': 'Cập nhật trường thất bại',
                        'call_back_success': 'mySuccesssnackbarCall',
                        'call_back_error': 'myErrorsnackbarCall',
                        'events': {
                            _initdetail__managerId: function () {
                                var vm = this;
                                var url = vm.endPoint + 'employees?active=true';
                                axios.get(url, config).then(function (response) {
                                    var serializable = response.data;

                                    if (serializable.hasOwnProperty('data')) {
                                        var arrTemp = []
                                        for (var key in serializable.data) {
                                            arrTemp.push({
                                            fullName: serializable.data[key].fullName,
                                            employeeId: serializable.data[key].mappingUser.userId
                                            })
                                        }
                                        vm.detail__managerIdItems = arrTemp;
                                    }
                                })
                                    .catch(function (error) {
                                        vm.detail__managerIdItems = [];
                                    })
                            }
                        }
                    },
                    'detail__leaderId': {
                        'id': 'leaderId',
                        'name': 'detail__leaderId',
                        'type': 'select',
                        'label': 'Người chủ trì: ',
                        'mode': 'editable',
                        'labelClass': 'xs12 sm4',
                        'controlClass': 'xs12 sm8',
                        'updateapi': '/o/v2/mobilink/activities',
                        "item_text": "fullName",
                        "item_value": "employeeId",
                        "hide_selected": true,
                        "loading": false,
                        "items": [],
                        'success_msg': 'Cập nhật trường thành công',
                        'error_msg': 'Cập nhật trường thất bại',
                        'call_back_success': 'mySuccesssnackbarCall',
                        'call_back_error': 'myErrorsnackbarCall',
                        'events': {
                            _initdetail__leaderId: function () {
                                var vm = this;
                                var url = vm.endPoint + 'employees?active=true';
                                axios.get(url, config).then(function (response) {
                                    var serializable = response.data;

                                    if (serializable.hasOwnProperty('data')) {
                                        var arrTemp = []
                                        for (var key in serializable.data) {
                                            arrTemp.push({
                                            fullName: serializable.data[key].fullName,
                                            employeeId: serializable.data[key].mappingUser.userId
                                            })
                                        }
                                        vm.detail__leaderIdItems = arrTemp;
                                    }
                                })
                                    .catch(function (error) {
                                        vm.detail__leaderIdItems = [];
                                    })
                            }
                        }
                    },
                    'detail__projectId': {
                        'id': 'projectId',
                        'name': 'detail__projectId',
                        'type': 'select',
                        'label': 'Thuộc dự án: ',
                        'mode': 'editable',
                        'labelClass': 'xs12 sm2',
                        'controlClass': 'xs12 sm10',
                        'updateapi': '/o/v2/mobilink/activities',
                        "item_text": "projectName",
                        "item_value": "projectId",
                        "hide_selected": true,
                        "loading": false,
                        "items": [],
                        'success_msg': 'Cập nhật trường thành công',
                        'error_msg': 'Cập nhật trường thất bại',
                        'call_back_success': 'mySuccesssnackbarCall',
                        'call_back_error': 'myErrorsnackbarCall',
                        'events': {
                            _initdetail__projectId: function () {
                                var vm = this;
                                var url = vm.endPoint + 'projects';
                                axios.get(url, config).then(function (response) {
                                    var serializable = response.data;
                                    if (serializable.hasOwnProperty('data')) {
                                        vm.detail__projectIdItems = serializable.data;
                                    }
                                })
                                    .catch(function (error) {
                                        vm.detail__projectIdItems = [];
                                    })
                            }
                        }
                    },
                    'detail__priority': {
                        'id': 'priority',
                        'name': 'detail__priority',
                        'type': 'select',
                        'label': 'Mức độ ưu tiên: ',
                        'mode': 'editable',
                        'labelClass': 'xs12 sm4',
                        'controlClass': 'xs12 sm8',
                        'updateapi': '/o/v2/mobilink/activities',
                        "item_text": "text",
                        "item_value": "priority",
                        "hide_selected": true,
                        "loading": false,
                        "items": [],
                        'success_msg': 'Cập nhật trường thành công',
                        'error_msg': 'Cập nhật trường thất bại',
                        'call_back_success': 'mySuccesssnackbarCall',
                        'call_back_error': 'myErrorsnackbarCall',
                        'events': {
                            _initdetail__priority: function () {
                                var vm = this;
                                vm.detail__priorityItems = [
                                    { text: 'thường', priority: 0},
                                    { text: 'cao', priority: 1 },
                                    { text: 'khẩn', priority: 2 }
                                ];
                            }
                        }
                    },

                    'detail__description': {
                        'id': 'description',
                        'name': 'detail__description',
                        'type': 'text',
                        'label': 'Nội dung: ',
                        'mode': 'editable',
                        'labelClass': 'xs12 sm2',
                        'controlClass': 'xs12 sm10',
                        'updateapi': '/o/v2/mobilink/activities',
                        "loading": false,
                        'success_msg': 'Cập nhật trường thành công',
                        'error_msg': 'Cập nhật trường thất bại',
                        'call_back_success': 'mySuccesssnackbarCall',
                        'call_back_error': 'myErrorsnackbarCall',
                        'multi_line': true
                    },










                    'typesListFilter': {
                        'id': 'typesListFilter',
                        'name': 'typesListFilter',
                        'type': 'listgroup',
                        'child_items': 'items',
                        'data_title': 'title',
                        'data_value': 'id',
                        'onLoad': '_initTypesListFilter',
                        'onClick': 'typeListFilterChange',
                        'events': {
                            typeListFilterChange: function (item) {
                                var vm = this;
                                vm.typesListFilterselected = item.id;
                                vm.typesListFilterItem = item;
                                vm.typeListModel = item.type;
                                switch (vm.typeListModel) {
                                    case 'WEEK':
                                        vm.keywordsSearch='';
                                        vm.keywordsSearchable=false;
                                        vm.wantAdvancedSearch=false;
                                        vm.getWeekEventList();
                                        break;
                                    case 'MONTH':
                                        vm.keywordsSearch='';
                                        vm.keywordsSearchable=false;
                                        vm.wantAdvancedSearch=false;
                                        vm.getEventsOfMonth();
                                        break;
                                    case 'KANBAN':
                                        vm.keywordsSearch='';
                                        vm.wantAdvancedSearch=false;
                                        vm.keywordsSearchable=false;
                                        vm.getKanban();
                                        break;
                                    case 'EVENT':
                                        vm.keywordsSearch='';
                                        vm.wantAdvancedSearch=false;
                                        vm.keywordsSearchable=false;
                                        vm.setViewBreadCrumbs(item);
                                        vm.getTableEventList();
                                        break;
                                    case 'TASK':
                                        vm.keywordsSearch='';
                                        vm.wantAdvancedSearch=false;
                                        vm.keywordsSearchable=false;
                                        vm.setViewBreadCrumbs(item);
                                        vm.getTableTaskList();
                                        break;
                                    case 'REQUEST':
                                        vm.keywordsSearch='';
                                        vm.wantAdvancedSearch=false;
                                        vm.keywordsSearchable=false;
                                        vm.setViewBreadCrumbs(item);
                                        vm.getTablerequestList();
                                        break;
                                    default:
                                        console.log("TODO DEFAULT " + item.type);
                                        break;

                                };
                            },
                            _initTypesListFilter: function () {
                                var vm = this;
                                vm.typesListFilterItems = [
                                {
                                    "action": "insert_invitation",
                                    "action_active": "event_available",
                                    "id": -1,
                                    "title": vm.translate('lich_tuan'),
                                    "type": 'WEEK',
                                    "active": true,
                                    "parent": {
                                        "id": 0
                                    }
                                    
                                }, 
                                {
                                    "action": "content_paste",
                                    "action_active": "event_note",
                                    "id": -2,
                                    "title": vm.translate('lich_thang'),
                                    "type": 'MONTH',
                                    "active": false,
                                    "parent": {
                                        "id": 0
                                    }
                                    
                                },
                                {
                                    "action": "date_range",
                                    "action_active": "event_note",
                                    "id": -3,
                                    "title": 'Bảng Kanban',
                                    "type": 'KANBAN',
                                    "active": false,
                                    "parent": {
                                        "id": 0
                                    }
                                },
                                {
                                    "action": "group_add",
                                    "action_active": "group",
                                    "id": -4,
                                    "title": 'Cuộc họp, hội nghị',
                                    "type": 'EVENT',
                                    "active": false,
                                    "parent": {
                                        "id": 0
                                    }
                                }, 
                                {
                                    "action": "spellcheck",
                                    "action_active": "done_all",
                                    "id": -5,
                                    "title": 'Giao nhiệm vụ',
                                    "type": 'TASK',
                                    "active": false,
                                    "parent": {
                                        "id": 0
                                    }
                                }, 
                                {
                                    "action": "open_in_browser",
                                    "action_active": "settings_backup_restore",
                                    "id": -6,
                                    "title": 'Đề xuất, kiến nghị',
                                    "type": 'REQUEST',
                                    "active": false,
                                    "parent": {
                                        "id": 0
                                    }
                                    
                                }, 
                                {
                                    "action": "extension",
                                    "action_active": "exit_to_app",
                                    "id": -7,
                                    "title": 'Theo dõi kết luận',
                                    "type": 'FOLLOW',
                                    "active": false,
                                    "parent": {
                                        "id": 0
                                    }

                                }];
                                vm.typesListFilterselected = -1;
                                vm._initTypesListFilterChild();
                            },
                            _initTypesListFilterChild: function () {
                                var vm = this;
                                var url = vm.endPoint + 'dictcollections/ACTIVITY_TYPE/dictitems?parent='
                                    + vm.typesListFilterItems[3].type;
                                axios.get(url, config).then(function (response) {
                                    var serializable = response.data;
                                    if (serializable.hasOwnProperty('data')) {
                                        vm.typesListFilterItems[3].items = serializable.data
                                            .map(
                                            function (item) {
                                                return {
                                                    id: item.itemCode,
                                                    title: item.itemName,
                                                    type: vm.typesListFilterItems[3].type,
                                                    parent: {
                                                        id: vm.typesListFilterItems[3].id,
                                                        title: vm.typesListFilterItems[
                                                            3].title
                                                    }
                                                }
                                            }
                                            );
                                    }

                                })
                                    .catch(function (error) {
                                        vm.typesListFilterItems[3].items = [];
                                    })

                                var url = vm.endPoint + 'dictcollections/ACTIVITY_TYPE/dictitems?parent='
                                    + vm.typesListFilterItems[4].type;
                                axios.get(url, config).then(function (response) {
                                    var serializable = response.data;
                                    if (serializable.hasOwnProperty('data')) {
                                        vm.typesListFilterItems[4].items = serializable.data
                                            .map(
                                            function (item) {
                                                return {
                                                    id: item.itemCode,
                                                    title: item.itemName,
                                                    type: vm.typesListFilterItems[4].type,
                                                    parent: {
                                                        id: vm.typesListFilterItems[4].id,
                                                        title: vm.typesListFilterItems[
                                                            4].title
                                                    }
                                                }
                                            }
                                            );
                                    }

                                })
                                    .catch(function (error) {
                                        vm.typesListFilterItems[4].items = [];
                                    })
                                var url = vm.endPoint + 'dictcollections/ACTIVITY_TYPE/dictitems?parent='
                                    + vm.typesListFilterItems[5].type;
                                axios.get(url, config).then(function (response) {
                                    var serializable = response.data;
                                    if (serializable.hasOwnProperty('data')) {
                                        vm.typesListFilterItems[5].items = serializable.data
                                            .map(
                                            function (item) {
                                                return {
                                                    id: item.itemCode,
                                                    title: item.itemName,
                                                    type: vm.typesListFilterItems[5].type,
                                                    parent: {
                                                        id: vm.typesListFilterItems[5].id,
                                                        title: vm.typesListFilterItems[5].title
                                                    }
                                                }
                                            }
                                            );
                                    }

                                })
                                    .catch(function (error) {
                                        vm.typesListFilterItems[5].items = [];
                                    })
    

                            },
                            setViewBreadCrumbs: function (item) {
                                var vm = this;
                                if (item) {
                                    if (item.parent.id == 0) {
                                        vm.viewBreadcrumbs = [item];
                                    } else {
                                        vm.viewBreadcrumbs = [item.parent, item]
                                    }
                                }
                            }
                        }
                    },

                    /** table tableEventList */
                    'tableEventList': {
                        'id': 'tableEventList',
                        'name': 'tableEventList',
                        'type': 'table',
                        'cssClass': 'tableEventList__class',
                        'item_key': 'id',
                        'headers': 'headers',
                        'template': 'table_event_list_template',
                        'pagging': '_paggingTableEvent_list',
                        'onLoad': '_initTableEventList',
                        'events': {
                            _initTableEventList: function (item) {

                                var vm = this;
                                this.tableEventListheaders = [{
                                    text: '#',
                                    align: 'left',
                                    sortable: true,
                                    value: 'activityId'
                                },
                                {
                                    text: vm.translate('thoi_gian'),
                                    align: 'left',
                                    sortable: true,
                                    value: 'startDate'
                                },
                                {
                                    text: 'Sự kiện',
                                    align: 'left',
                                    sortable: true,
                                    value: 'subject'
                                },
                                {
                                    text: vm.translate('don_vi_to_chuc'),
                                    align: 'left',
                                    sortable: true,
                                    value: 'hosting'
                                },
                                {
                                    text: 'Người chủ trì',
                                    align: 'left',
                                    sortable: true,
                                    value: 'managerName'
                                },
                                {
                                    text: 'Thành phần',
                                    align: 'left',
                                    sortable: true,
                                    value: 'invitation'
                                },
                                {
                                    text: '',
                                    align: 'left',
                                    sortable: false,
                                    value: 'clear'
                                }
                                ];

                                
                            },
                            runTable: function(){
                                var vm = this;
                                setTimeout(function(){
                                    vm.$refs.activitySearchRef.search_advanced();
                                },100)
                                
                            },
                            runTable1: function(){
                                var vm = this;
                                setTimeout(function(){
                                    vm.$refs.activitySearchRef.search_by_key();
                                },100)
                                
                            },
                            getTableEventList: function () {
                                var vm = this;
                                var paramsActivityBuilder = {
                                    start: vm.tableEventListpage * 10 - 10,
                                    end: vm.tableEventListpage * 10,
                                    type: 'EVENT',
                                    keywords: vm.keywordsSearch,
                                    template:false,
                                    sort:'startDate_Number',
                                    order:true
                                };
                                var configGetActivity = {
                                    params: paramsActivityBuilder,
                                    headers: {
                                        groupId: 2014
                                    }
                                };
                                var url = vm.endPoint + 'activities';
                                axios.get(url, configGetActivity).then(function (response) {
                                    var serializable = response.data;
                                    if (serializable.hasOwnProperty('data') && Array.isArray(serializable.data)) {
                                        vm.tableEventListItems = serializable.data;
                                        vm.tableEventListCout=serializable.total;

                                    } else if (typeof (serializable.data) == 'object') {
                                        vm.tableEventListItems = [serializable.data];
                                    } else {
                                        vm.tableEventListItems = [];
                                    }
                                    vm.tableEventListTotal = Math.ceil(serializable.total /
                                        10);
                                })
                                    .catch(function (error) {
                                        console.log(error);
                                        vm.tableEventListItems = [];
                                    })
                            },
                            _paggingTableEvent_list: function () {
                                this.getTableEventList();
                            },
                            toRemoveEvent: function (item, index) {
                                var vm = this;
                                vm.$dialog.confirm(vm.translate('ban_muon_xoa_su_kien'), {
                                    html: true,
                                    loader: true,
                                    okText: vm.translate('xac_nhan'),
                                    cancelText: vm.translate('quay_lai'),
                                    animation: 'fade'
                                })
                                    .then(function (dialog) {

                                        var url = vm.endPoint + "activities/" + item.activityId;
                                        axios.delete(url, config).then(function (response) {
                                            vm.tableEventListItems.splice(index, 1);
                                            vm._initTableEventList(null);
                                            vm.backToList();
                                            vm.snackbartextactivityMgtViewJX = vm.translate(
                                                'xoa_du_lieu_thanh_cong');
                                            vm.snackbaractivityMgtViewJX = true;
                                            vm.loadingactivityMgtViewJX = false;
                                        })
                                            .catch(function (error) {
                                                console.log(error);
                                                vm.snackbartextactivityMgtViewJX = vm.translate(
                                                    'xoa_du_lieu_that_bai');
                                                vm.snackbaractivityMgtViewJX = true;
                                                vm.loadingactivityMgtViewJX = false
                                            });

                                        dialog.close();
                                        return false;
                                    })
                                    .catch(function (e) {
                                        console.log(e)
                                    })
                            }
                        }
                    },
                    /** table checkList */
                    'tableTaskList': {
                        'id': 'tableTaskList',
                        'name': 'tableTaskList',
                        'type': 'table',
                        'cssClass': 'tableTaskList__class',
                        'item_key': 'id',
                        'headers': 'headers',
                        'template': 'table_task_list_template',
                        'pagging': '_paggingTableTaskList',
                        'onLoad': '_inittableTaskList',
                        'events': {
                            _inittableTaskList: function (item) {
                                var vm = this;
                                this.tableTaskListheaders = [{
                                    text: '#',
                                    align: 'left',
                                    sortable: true,
                                    value: 'activityId'
                                },
                                {
                                    text: 'Ngày bắt đầu',
                                    align: 'left',
                                    sortable: true,
                                    value: 'startDate'
                                },
                                {
                                    text: vm.translate('ten_nhiem_vu'),
                                    align: 'left',
                                    sortable: true,
                                    value: 'subject'
                                },
                                {
                                    text: vm.translate('don_vi_chu_tri'),
                                    align: 'left',
                                    sortable: true,
                                    value: 'hosting'
                                },
                                {
                                    text: vm.translate('nguoi_phu_trach'),
                                    align: 'left',
                                    sortable: true,
                                    value: 'managerName'
                                },
                                {
                                    text: vm.translate('trang_thai'),
                                    align: 'left',
                                    sortable: true,
                                    value: 'activityStatus'
                                },
                                {
                                    text: vm.translate('han_hoan_thanh'),
                                    align: 'left',
                                    sortable: true,
                                    value: 'endDate'
                                },
                                {
                                    text: '',
                                    align: 'left',
                                    sortable: false,
                                    value: 'clear'
                                }
                                ];
                            },
                            getTableTaskList: function () {
                                var vm = this;
                                var paramsCheckListBuilder = {
                                    start: vm.tableTaskListpage * 10 - 10,
                                    end: vm.tableTaskListpage * 10,
                                    type: 'TASK',
                                    keywords: vm.keywordsSearch,
                                    template:false,
                                    sort:'startDate_Number',
                                    order:true
                                };

                                var configGetCheckList = {
                                    params: paramsCheckListBuilder,
                                    headers: {
                                        groupId: 2014
                                    }
                                };

                                var url = vm.endPoint + 'activities';
                                axios.get(url, configGetCheckList).then(function (response) {
                                    var serializable = response.data;
                                    if (serializable.hasOwnProperty('data') && Array.isArray(serializable.data)) {

                                        vm.tableTaskListItems = serializable.data;
                                        vm.tableTaskListCout=serializable.total;
                                    } else if (typeof (serializable.data) == 'object') {

                                        vm.tableTaskListItems = serializable.data;
                                        for(var key in vm.tableTaskListItems){
                                            if(vm.tableTaskListItems[key].subject.length>13){
                                            vm.tableTaskListItems[key].subject=vm.tableTaskListItems[key].subject.replace(/^(.{13}[^\s]*).*/, "$1") + " ...";
                                             }
                                        }
                                    } else {

                                        vm.tableTaskListItems = [];
                                    }
                                    vm.tableTaskListTotal = Math.ceil(serializable.total /
                                        10);
                                })
                                    .catch(function (error) {
                                        vm.tableTaskListItems = [];
                                    })
                            },
                            _paggingTableTaskList: function () {
                                this.getTableTaskList();
                            },
                            toRemoveTask: function (item, index) {
                                var vm = this;
                                vm.$dialog.confirm(vm.translate('ban_muon_xoa_nhiem_vu'), {
                                    html: true,
                                    loader: true,
                                    okText: vm.translate('xac_nhan'),
                                    cancelText: vm.translate('quay_lai'),
                                    animation: 'fade'
                                })
                                    .then(function (dialog) {

                                        var url = vm.endPoint + "activities/" + item.activityId;
                                        axios.delete(url, config).then(function (response) {
                                            vm.tableTaskListItems.splice(index, 1);
                                            vm._inittableTaskList(null);
                                            vm.backToList();
                                            vm.snackbartextactivityMgtViewJX = vm.translate(
                                                'xoa_du_lieu_thanh_cong');
                                            vm.snackbaractivityMgtViewJX = true;
                                            vm.loadingactivityMgtViewJX = false;
                                        })
                                            .catch(function (error) {
                                                console.log(error);
                                                vm.snackbartextactivityMgtViewJX = vm.translate(
                                                    'xoa_du_lieu_that_bai');
                                                vm.snackbaractivityMgtViewJX = true;
                                                vm.loadingactivityMgtViewJX = false
                                            });

                                        dialog.close();
                                        return false;
                                    })
                                    .catch(function (e) {
                                        console.log(e)
                                    })
                            }
                        }
                    },
                    'tablerequestList': {
                        'id': 'tablerequestList',
                        'name': 'tablerequestList',
                        'type': 'table',
                        'cssClass': 'tablerequestList__class',
                        'item_key': 'id',
                        'headers': 'headers',
                        'template': 'table_request_list_template',
                        'pagging': '_paggingTablerequestList',
                        'onLoad': '_inittablerequestList',
                        'events': {
                            _inittablerequestList: function (item) {
                                var vm = this;
                                this.tablerequestListheaders = [{
                                    text: '#',
                                    align: 'left',
                                    sortable: true,
                                    value: 'activityId'
                                },
                                {
                                    text: 'Ngày bắt đầu',
                                    align: 'left',
                                    sortable: true,
                                    value: 'startDate'
                                },
                                {
                                    text: 'Đề xuất',
                                    align: 'left',
                                    sortable: true,
                                    value: 'subject'
                                },
                                {
                                    text: 'Người tạo',
                                    align: 'left',
                                    sortable: true,
                                    value: 'userName'
                                },
                                {
                                    text: 'Đơn vị xử lý',
                                    align: 'left',
                                    sortable: true,
                                    value: 'hosting'
                                },
                                {
                                    text: 'Người phụ trách',
                                    align: 'left',
                                    sortable: true,
                                    value: 'managerName'
                                },
                                {
                                    text: 'Hạn xử lý',
                                    align: 'left',
                                    sortable: true,
                                    value: 'endDate'
                                },
                                {
                                    text: vm.translate('trang_thai'),
                                    align: 'left',
                                    sortable: true,
                                    value: 'openingState'
                                },
                                {
                                    text: '',
                                    align: 'left',
                                    sortable: false,
                                    value: 'clear'
                                }
                                ];
                            },
                            getTablerequestList: function () {
                                var vm = this;
                                var paramsCheckListBuilder = {
                                    start: vm.tablerequestListpage * 10 - 10,
                                    end: vm.tablerequestListpage * 10,
                                    type: 'REQUEST',
                                    keywords: vm.keywordsSearch,
                                    template:false,
                                    sort:'startDate_Number',
                                    order:true
                                };


                                var configGetCheckList = {
                                    params: paramsCheckListBuilder,
                                    headers: {
                                        groupId: 2014
                                    }
                                };

                                var url = vm.endPoint + 'activities';
                                axios.get(url, configGetCheckList).then(function (response) {
                                    var serializable = response.data;
                                    if (serializable.hasOwnProperty('data') && Array.isArray(serializable.data)) {

                                        vm.tablerequestListItems = serializable.data;
                                        vm.tableRequestListCout=serializable.total;
                                    } else if (typeof (serializable.data) == 'object') {

                                        vm.tablerequestListItems = [serializable.data];
                                    } else {

                                        vm.tablerequestListItems = [];
                                    }
                                    vm.tablerequestListTotal = Math.ceil(serializable.total /
                                        10);
                                })
                                    .catch(function (error) {
                                        vm.tablerequestListItems = [];
                                    })
                            },
                            _paggingTablerequestList: function () {
                                this.getTablerequestList();
                            },
                            toRemoverequest: function (item, index) {
                                var vm = this;
                                vm.$dialog.confirm(vm.translate('ban_muon_xoa_nhiem_vu'), {
                                    html: true,
                                    loader: true,
                                    okText: vm.translate('xac_nhan'),
                                    cancelText: vm.translate('quay_lai'),
                                    animation: 'fade'
                                })
                                    .then(function (dialog) {

                                        var url = vm.endPoint + "activities/" + item.activityId;
                                        axios.delete(url, config).then(function (response) {
                                            vm.tablerequestListItems.splice(index, 1);
                                            vm._inittablerequestList(null);
                                            vm.backToList();
                                            vm.snackbartextactivityMgtViewJX = vm.translate(
                                                'xoa_du_lieu_thanh_cong');
                                            vm.snackbaractivityMgtViewJX = true;
                                            vm.loadingactivityMgtViewJX = false;
                                        })
                                            .catch(function (error) {
                                                console.log(error);
                                                vm.snackbartextactivityMgtViewJX = vm.translate(
                                                    'xoa_du_lieu_that_bai');
                                                vm.snackbaractivityMgtViewJX = true;
                                                vm.loadingactivityMgtViewJX = false
                                            });

                                        dialog.close();
                                        return false;
                                    })
                                    .catch(function (e) {
                                        console.log(e)
                                    })
                            }
                        }
                    },
                    
                    /** popup */
                    'popUpEditActivity': {
                        'id': 'popUpEditActivity',
                        'name': 'popUpEditActivity',
                        "type": "dialogsm",
                        "type_dialog": "fullScreen",
                        'icon_save': 'undo',
                        'label_save': 'Quay lại',
                        "color": "primary",
                        "template": "popUpEditActivityTemplate",
                        "events": {
                            popUpEditActivityClose: function () {
                                this.popUpEditActivity = false;
                                this.$refs.activityAddRef.clearDataForm();
                            },
                            popUpEditActivitySave: function () {
                                this.$refs.activityAddRef.submitAdd();
                            },
                            submiteevent: function (activity) {

                                var vm = this;
                                if (activity.activityType == 'EVENT' && vm.typeListModel == 'EVENT' ) {
                                    vm.tableEventListItems.push(activity);
                                } else if (activity.activityType == 'TASK' && vm.typeListModel == 'TASK') {
                                    vm.tableTaskListItems.push(activity);
                                } else if (activity.activityType == 'REQUEST' && vm.typeListModel == 'REQUEST') {
                                    vm.tablerequestListItems.push(activity);
                                } else if (activity.isTempalate == true && vm.typeListModel == 'EVENT') {
                                    vm.tableActivityTempListItems.push(activity);
                                } else if (vm.typeListModel == 'WEEK') {
                                    vm.getWeekEventList();
                                } else if (vm.typeListModel == 'MONTH') {
                                    vm.monthEventItems.push(activity);
                                }
                                vm.popUpEditActivity = false;
                                vm.snackbartextactivityMgtViewJX= "Thêm mới dữ liệu thành công!";
                                vm.snackbaractivityMgtViewJX = true;
                                this.$refs.activityAddRef.clearDataForm();
                                vm.detail__all(activity,0);
                            }
                        }
                    }

                }
            });

            activityMgtViewJX._builder('activityMgtViewJX');

        });


        String.prototype.capitalize = function() {
            return this.charAt(0).toUpperCase() + this.slice(1);
        }

    </script>
    
    
    <style type="text/css" media="screen">
        a {
            text-decoration: none;
        }

        .header_tools.row-blue {
            background: #e1e2e1;
        }
        body .carousel { height: 300px !important;}
          .star-rating span input{
            visibility: hidden;
            position: absolute;
        }
        .carousel__item {
            width: 100%;
            height: 100%;
            background-position: center;
            background-size: cover;
        }
        .row-blue {
            background-color: #dbebf0;
            padding-right: 15px;
            font-family: 'Roboto-Bold';
            align-items: center;
        }
    
        .row-blue .order-number {
            float: left;
            padding: 7px 10px;
            background-color: #aad0de;
            color: white;
            margin-right: 15px;
        }
    
        .row-blue .order-number-detail {
            align-items: center;
            padding: 7px 10px;
        }
    
        .row-blue .order-number-detail>span:first-child {
            color: red;
        }
    
        .row-blue .label-info {
            color: white;
            margin-right: 15px;
        }
    
        .background-triangle-small,
        .background-triangle-big {
            background-color: #0b72ba;
            display: inline-block;
            padding: 3px;
            width: 25px;
            text-align: right;
            color: white;
            position: relative;
            margin-right: 20px;
            text-transform: uppercase;
        }
    
        .background-triangle-small:before,
        .background-triangle-big:before {
            content: "";
            position: absolute;
            top: 1px;
            -webkit-transform: rotate(45deg);
            transform: rotate(45deg);
            right: -4px;
            border-top: 28px solid #0b72ba;
            border-left: 28px solid transparent;
            border-bottom: 28px solid transparent;
        }
    
        .background-triangle-small+div.header_tools,
        .background-triangle-big+div.header_tools {
            width: -webkit-calc( 100% - 100%);
            width: calc(100% - 100%);
        }
    
        .background-triangle-small+div.header_tools .switch-control,
        .background-triangle-big+div.header_tools .switch-control {
            margin: 3px 0px 0 20px;
        }
    
        .background-triangle-small i.setting_action_all,
        .background-triangle-big i.setting_action_all {
            font-size: 16px;
            padding: 0 3px 0 9px;
            cursor: pointer;
        }
    
        .background-triangle-big {
            padding: 10px 5px 10px 15px;
            width: auto;
            margin-right: 30px;
        }
    
        .background-triangle-big+div .input-group {
            min-height: inherit;
        }
    
        .background-triangle-big+div .input-group .input-group__input {
            padding: 0 16px;
        }
    
        .background-triangle-big+div button {
            margin-top: 0;
            margin-bottom: 0;
            margin-right: 0;
        }
    
        .row-blue+.panel {
            border-radius: 0;
            margin-bottom: 0;
        }
    
        .card {
            width: 100%;
            box-shadow: none;
            border-color: #e1e2e1;
            margin: 0;
        }
    
        .jx-content {
            width: -webkit-calc(100% - 300px);
            width: calc(100% - 300px);
        }
    
        .jx-content .jx-content-wrap {
            width: 100%;
        }
    
        .jx-content .jx-content-wrap .row-header {
            background-color: #e1e2e1;
            overflow: hidden;
            display: -webkit-flex;
            display: flex;
            align-items: center;
            width: 100%;
        }
        .row-detail{
            overflow: hidden;
            display: -webkit-flex;
            display: flex;
            align-items: center;
            width: 100%;
        }
    </style>
    
    <style>
        .nav_drawn_width_none aside {
            width: 0px !important;
        }
    
        .max-width {
            width: 100% !important;
            max-width: 100% !important;
        }
    
        .no-width {
            width: 0px !important;
            max-width: 0px !important;
            display: none;
        }
    
        .max-width146 .labelClass {
            max-width: 146px;
        }
    
        .detail_show_more {
            margin: 0;
        }
    
        .detail_show_more .btn__content {
            padding: 0;
            text-transform: none;
            color: #939393;
        }


        body table.table td i{
             cursor: pointer;
        }

        body .tableEventList__class table.table td,body .tableTaskList__class table.table td,body .tablerequestList__class table.table td,body .tableActivityTempList__class table.table td{
            padding: 0 5px!important;
        }
        body .tableEventList__class table.table th,body .tableTaskList__class table.table th,body .tablerequestList__class table.table th,body .tableActivityTempList__class table.table th{
            text-align: center!important;
        }
        /*tableEventList__class*/
        .tableEventList__class table.table td i{
            font-size: 13px;
        }
        .tableEventList__class table.table td button{
            width: 30px;
            height: 30px;
        }
        body .tableEventList__class table.table td:nth-child(1) div,body .tableEventList__class table.table td:nth-child(2) div,body .tableEventList__class table.table td:nth-child(3) div,body .tableEventList__class table.table td:nth-child(4) div,body .tableEventList__class table.table td:nth-child(5) div,body .tableEventList__class table.table td:nth-child(6) div{
            overflow: hidden;
            text-overflow: ellipsis; 
            white-space: nowrap; 
        }
        body .tableEventList__class table.table th:nth-child(1),body .tableEventList__class table.table td:nth-child(1){
            width: 5%!important;
        }
        body .tableEventList__class table.table th:nth-child(2),body .tableEventList__class table.table td:nth-child(2){
            width: 15%!important;
        }
        body .tableEventList__class table.table th:nth-child(3),body .tableEventList__class table.table td:nth-child(3){
            width: 25%!important;
        }
        body .tableEventList__class table.table th:nth-child(4),body .tableEventList__class table.table td:nth-child(4){
            width: 19%!important;
        }
        body .tableEventList__class table.table th:nth-child(5),body .tableEventList__class table.table td:nth-child(5){
            width: 18%!important;
        }
        body .tableEventList__class table.table th:nth-child(6),body .tableEventList__class table.table td:nth-child(6){
            width: 15%!important;
        }
        body .tableEventList__class table.table th:nth-child(7),body .tableEventList__class table.table td:nth-child(7){
            width: 3%!important;
        }


        /*tableTaskList__class*/
        .tableTaskList__class table.table td i{
            font-size: 13px;
        }
        .tableTaskList__class table.table td button{
            width: 30px;
            height: 30px;
        }
        body .tableTaskList__class table.table td:nth-child(1) div,body .tableTaskList__class table.table td:nth-child(2) div,body .tableTaskList__class table.table td:nth-child(3) div,body .tableTaskList__class table.table td:nth-child(4) div,body .tableTaskList__class table.table td:nth-child(5) div,body .tableTaskList__class table.table td:nth-child(6) div,body .tableTaskList__class table.table td:nth-child(7) div{
            overflow: hidden;
            text-overflow: ellipsis; 
            white-space: nowrap; 
        }
        body .tableTaskList__class table.table td div{
            margin-top: 4px;
        }

        .tableTaskList__class table thead tr th,.tableEventList__class table thead tr th,.tablerequestList__class table thead tr th,.tableActivityTempList__class table thead tr th{
            border: 1px solid #ddd !important;
        }
        .tableTaskList__class table tbody td,.tableEventList__class table tbody td,.tablerequestList__class table tbody td,.tableActivityTempList__class table tbody td {
            border: 1px solid #ddd !important;
        }

        body .tableTaskList__class table.table th:nth-child(1),body .tableTaskList__class table.table td:nth-child(1) {
            width: 3%!important;
        }
        body .tableTaskList__class table.table th:nth-child(2),body .tableTaskList__class table.table td:nth-child(2) {
            width: 10%!important;
        }
        body .tableTaskList__class table.table th:nth-child(3),body .tableTaskList__class table.table td:nth-child(3) {
            width: 25%!important;
        }
        body .tableTaskList__class table.table th:nth-child(4),body .tableTaskList__class table.table td:nth-child(4) {
            width: 19%!important;
        }
        body .tableTaskList__class table.table th:nth-child(5),body .tableTaskList__class table.table td:nth-child(5) {
            width: 15%!important;
        }
        body .tableTaskList__class table.table th:nth-child(6),body .tableTaskList__class table.table td:nth-child(6) {
            width: 15%!important;
        }
        body .tableTaskList__class table.table th:nth-child(7),body .tableTaskList__class table.table td:nth-child(7) {
            width: 10%!important;
        }
        body .tableTaskList__class table.table th:nth-child(8),body .tableTaskList__class table.table td:nth-child(8){
            width: 3%!important;
        }

        /*tablerequestList__class*/
        body .tablerequestList__class table.table td:nth-child(1) div,body .tablerequestList__class table.table td:nth-child(2) div,body .tablerequestList__class table.table td:nth-child(3) div,body .tablerequestList__class table.table td:nth-child(4) div,body .tablerequestList__class table.table td:nth-child(5) div,body .tablerequestList__class table.table td:nth-child(6) div,body .tablerequestList__class table.table td:nth-child(7) div,body .tablerequestList__class table.table td:nth-child(8) div{
            overflow: hidden;
            text-overflow: ellipsis; 
            white-space: nowrap; 
        }
        body .tablerequestList__class table.table td div{
            margin-top: 4px;
        }
        .tablerequestList__class table.table td i{
            font-size: 13px;
        }
        .tablerequestList__class table.table td button{
            width: 30px;
            height: 30px;
        }
        body .tablerequestList__class table.table th:nth-child(1),body .tablerequestList__class table.table td:nth-child(1) {
            width: 2%!important;
        }
        body .tablerequestList__class table.table th:nth-child(2),body .tablerequestList__class table.table td:nth-child(2) {
            width: 10%!important;
        }
        body .tablerequestList__class table.table th:nth-child(3),body .tablerequestList__class table.table td:nth-child(3) {
            width: 21%!important;
        }
        body .tablerequestList__class table.table th:nth-child(4),body .tablerequestList__class table.table td:nth-child(4) {
            width: 15%!important;
        }
        body .tablerequestList__class table.table th:nth-child(5),body .tablerequestList__class table.table td:nth-child(5) {
            width: 15%!important;
        }
        body .tablerequestList__class table.table th:nth-child(6),body .tablerequestList__class table.table td:nth-child(6) {
            width: 15%!important;
        }
        body .tablerequestList__class table.table th:nth-child(7),body .tablerequestList__class table.table td:nth-child(7) {
            width: 10%!important;
        }
        body .tablerequestList__class table.table th:nth-child(8),body .tablerequestList__class table.table td:nth-child(8) {
            width: 10%!important;
        }
        body .tablerequestList__class table.table th:nth-child(9),body .tablerequestList__class table.table td:nth-child(9) {
            width: 2%!important;
        }
        .tablerequestList__class .chip{
            display: inline-block;
            text-align: center;
            width: 90%;
        }
        .tableTaskList__class .chip{
            display: inline-block;
            text-align: center;
            width: 90%;
        }
        /*tableActivityTempList__class*/
        body .tableActivityTempList__class table.table td:nth-child(1) div,body .tableActivityTempList__class table.table td:nth-child(2) div,body .tableActivityTempList__class table.table td:nth-child(3) div,body .tableActivityTempList__class table.table td:nth-child(4) div,body .tableActivityTempList__class table.table td:nth-child(5) div,body .tableActivityTempList__class table.table td:nth-child(6) div{
            overflow: hidden;
            text-overflow: ellipsis; 
            white-space: nowrap; 
        }
        .tableActivityTempList__class table.table td i{
            font-size: 13px;
        }
        .tableActivityTempList__class table.table td button{
            width: 30px;
            height: 30px;
        }
        body .tableActivityTempList__class table.table th:nth-child(1),body .tableActivityTempList__class table.table td:nth-child(1) {
            width: 5%;
        }
    
        body .tableActivityTempList__class table.table th:nth-child(2),body .tableActivityTempList__class table.table td:nth-child(2) {
            width: 15%;
        }
        body .tableActivityTempList__class table.table th:nth-child(3),body .tableActivityTempList__class table.table td:nth-child(3) {
            width: 30%;
        }
        body .tableActivityTempList__class table.table th:nth-child(4),body .tableActivityTempList__class table.table td:nth-child(4) {
            width: 5%;
        }
        body .tableActivityTempList__class table.table th:nth-child(5),body .tableActivityTempList__class table.table td:nth-child(5) {
            width: 20%;
        }
        body .tableActivityTempList__class table.table th:nth-child(6),body .tableActivityTempList__class table.table td:nth-child(6) {
            width: 20%;
        }
        body .tableActivityTempList__class table.table th:nth-child(7),body .tableActivityTempList__class table.table td:nth-child(7) {
            width: 5%;
        }
        .btn__nopadding {
            padding: 0px;
        }
    
        .nav__btn__custom .btn__content {
            justify-content: left;
            padding: 0;
            align-items: flex-end;
            text-transform: none;
        }
    
        .nav__btn__custom .btn__content .material-icons {
            padding-right: 5px;
        }
    
        .mobilink-shared-root.editable-wrap.editable-wrap-before-select .input-group--chips label {
            display: block;
        }
    
        .mobilink-shared-root.editable-wrap.editable-wrap-before-select .input-group {
            padding-top: 20px;
        }
    
        .codeNo__codeNotation .input-group {
            padding-top: 0px;
        }
        .weekly_calendar__month,.weekly_calendar__year{
            padding: 0;
        }
        .tooltip{
            white-space: nowrap!important;
            opacity: 1!important;
            z-index: 1!important;
        }
        .openingState__class{
            padding: 4px;
            width: 120px;
            margin-left: auto;
            border-radius: 20px;
            margin-bottom: 0px;
            text-align: center;
            font-weight: 600;
        }
        .DateClass .mx-datepicker .mx-input-icon{
            display: none;
        }
        .DateClass .mx-datepicker .mx-input {
            box-shadow: none;
            background: none;
            border-top: none;
            border-right: none;
            border-left: none;
            border-radius: 0;
            border-bottom: 1px solid rgba(0,0,0,0.42);
            height: 30px;
            font-size: 13px;
            padding: 0;
            font-family: 'Roboto', sans-serif;
            color: black;
            
        }
        .editable__content__value{
            font-size: 13px;
        }
        .DateClass .editable__content__value{
            margin-top: -1px;
        }
        .subjectClass .input-group--text-field{
            padding: 0;
        }
        .headerClassDetail_right,.headerClass_right{
            margin-left: auto;
        }
        .headerClass_right button{
            margin: auto;
        }
        .color_openingState_0{
            background: #C2185B;
            color: #fff;
        }
        .color_openingState_1{
            background: #6A1B9A;
            color: #fff;
        }
        .color_openingState_2{
            background: #90CAF9;
            color: #fff;
        }
        .color_openingState_3{
            background: #29B6F6;
            color: #fff;
        }
        .color_openingState_4{
            background: #CDDC39;
            color: #fff;
        }
        .categoryNameClass{
            color: #29B6F6;
            font-weight: 600
        }
        .categoryNameEditClass{
            padding: 0!important;
        }
        .week1Class{
            border-right: 2px dotted #eee;

        }
        .weekClass{
            border-bottom: 2px dotted #eee;
            line-height: 2;

        }
        .weekClass_hidden{
            border-bottom: 2px dotted #fff;
            margin-top: -2px;

        }
        #activityHeader .row-header {
            background-color: #3486D7!important;
            color: #ffffff!important;
            overflow: hidden;
            align-items: center;
            width: 100%;
        }
        .colorCheck label,.colorCheck i{
            color: #fff!important;
            padding: 0;
        }
        #activityHeader  .row-header .checkbox_month_tack{
            margin-top: auto;
        }
        #activityHeader .row-header .checkbox_month_tack .input-group__input,#activityHeader .row-header .checkbox_month .input-group__input{
            background-color: #3486D7!important;
        }
        #activityHeader .row-header .keywordsSearch .input-group__input,#activityHeader .row-header .weekly_calendar__year .input-group__input,#activityHeader .row-header .weekly_calendar__month .input-group__input{
            background-color: #ffffff!important;
            padding-left: 3px!important;
            border-radius: 2px!important;
            color: #3486D7 !important;
        }
        #activityHeader .row-header .input-group .input-group__details{
            display: none!important;
        }
        #activityHeader .row-header .keywordsSearch label{
            top: 0px!important;
            padding-left: 10px;
        }
        .location_week
        {
            color: #D32F2F!important;
        }
        .breadcrumbs
        {
            padding: 0;
        }
        .kanbanClass{
            margin: auto;
            font-size: 14px;
        }
        .checkbox_kanban_1,.checkbox_kanban_2,.checkbox_kanban_3,.checkbox_kanban_4{
            margin:auto;
        }
        .ellipsisWeekClass{
            white-space: nowrap; 
            width: 90%; 
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .testWeek div:not(:first-child) {
            display: none;
        }
        .locationClass span{
            color: rgba(0,0,0,0.87)!important;
        }
        .menu_left_class .list{
            padding:0;
        }
        .menu__content ul li a:before{
            content:'';
        }
        .tableEventList__class table{
            table-layout: fixed
        } 
        .tableTaskList__class table{
            table-layout: fixed
        }  
        .tablerequestList__class table{
            table-layout: fixed
        }   
    </style>

</body>

</html>