<!DOCTYPE html>
<html>

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <title>Activity detail</title>
        <link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons' rel="stylesheet" type="text/css">
        
        <!-- vuejs -->
        <script type="text/javascript" src="../js/axios.min.js"></script>
        <script type="text/javascript" src="../js/vue.min.js"></script>
        <script type="text/javascript" src="../js/vuejx.min.js"></script>
        <script type="text/javascript" src="../js/vuejx_dev.js"></script>
        <script type="text/javascript" src="../js/moment-with-locales.min.js"></script>
        <script type="text/javascript" src="../js/moment.min.js"></script>
        <script type="text/javascript" src="../js/vue-jx-lib.js?"></script>
        <script src="https://cdn.jsdelivr.net/lodash/4.13.1/lodash.js"></script>
        <!-- <script src="https://unpkg.com/vuetify/dist/vuetify.js"></script> -->
        <script type="text/javascript" src="../js/vuetify017.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
        <script src="http://dhtn.longbien.gov.vn/o/mobilink_npm-theme/js/jquery-comments.js"></script>
        <script type="text/javascript" src="../js/bootstrap-datetimepicker.js"></script>
        <script type="text/javascript" src="../js/locales/bootstrap-datetimepicker.fr.js"></script>

        <!-- <link href="../css/vuetify017.css" rel="stylesheet"> -->
        <link href="http://dhtn.longbien.gov.vn/o/mentions-web/css/mentions.css" rel="stylesheet" type="text/css">
        <link href="http://dhtn.longbien.gov.vn/o/dynamic-data-mapping-form-renderer/css/main.css" rel="stylesheet">
        <link href="http://dhtn.longbien.gov.vn/o/mobilink_npm-theme/css/aui.css" rel="stylesheet">
        <link href="http://dhtn.longbien.gov.vn/o/frontend-css-web/main.css" rel="stylesheet">
        <link href="http://dhtn.longbien.gov.vn/o/mobilink_npm-theme/css/orgin.css" rel="stylesheet">
        <link href="http://dhtn.longbien.gov.vn/o/mobilink_npm-theme/css/page/dist/page.css" rel="stylesheet">
        <link href="http://dhtn.longbien.gov.vn/o/mobilink_npm-theme/css/page/dist/nav.css" rel="stylesheet">
        <link href="http://dhtn.longbien.gov.vn/o/mobilink_npm-theme/css/component/dist/list_header.css" rel="stylesheet">
        <link href="http://dhtn.longbien.gov.vn/o/mobilink_npm-theme/css/component/dist/input.css" rel="stylesheet">
        <link href="http://dhtn.longbien.gov.vn/o/mobilink_npm-theme/css/component/dist/button.css" rel="stylesheet">
        <link href="http://dhtn.longbien.gov.vn/o/mobilink_npm-theme/css/component/dist/select.css" rel="stylesheet">
        <link href="http://dhtn.longbien.gov.vn/o/mobilink_npm-theme/css/component/dist/table.css" rel="stylesheet">
        <link href="http://dhtn.longbien.gov.vn/o/mobilink_npm-theme/css/component/dist/tabmenu.css" rel="stylesheet">
        <link href="http://dhtn.longbien.gov.vn/o/mobilink_npm-theme/css/component/dist/navigation_drawer.css" rel="stylesheet">
        <link href="http://dhtn.longbien.gov.vn/o/mobilink_npm-theme/css/component/dist/mycomponent.css" rel="stylesheet">
        <link href="http://dhtn.longbien.gov.vn/o/mobilink_npm-theme/css/jquery-comments.css" rel="stylesheet">
      </head>

      <body>

        <!-- TODO Template Xây dựng navigation -->
<div id="menu_left_filter_template" class="hidden">
    <v-slide-x-transition>
        <div class="layout row wrap" v-show="currentListPage">

            <div class="flex xs12">
                <v-menu transition="slide-x-transition" full-width>
                    <v-btn slot="activator" block color="primary">
                        <v-icon>library_add</v-icon>
                        <span v-lang.them_moi></span>
                    </v-btn>
                    <v-list>
                        <v-list-tile v-for="item in addNewOptions" :key="item.id" @click="addNewOptionSelect(item)">
                            <v-list-tile-title>
                                {{ item.title }}
                            </v-list-tile-title>
                        </v-list-tile>
                    </v-list>
                </v-menu>

            </div>

            <div class="flex xs12 px-0" jx-bind="typesListFilter"></div>

        </div>
    </v-slide-x-transition>

</div>

<!-- TODO activityViewJX_form_template template one page -->
<div id="activityViewJX_form_template" class="hidden">

    <div class="jx-content-wrap layout wrap">
        
        <div class="xs6" :class="{'max-width': !currentListPage, 'no-width': currentListPage}">

            <v-slide-x-transition>

                <!-- activity List detail -->
                <v-layout wrap v-if="!currentListPage">
                    <v-flex xs12 sm8>
                        <div class="panel">
                            <div class="panel-heading">
                                <v-layout wrap>
                                    <v-btn flat icon v-on:click.native="backToList">
                                        <v-icon>undo</v-icon>
                                    </v-btn>
                                    <v-flex sm6 style="padding: 0">
                                        <v-layout wrap>

                                            <v-flex xs12 class="editable-wrap">
                                                <div class="layout wrap">
                                                    <v-flex xs12 class="layout">
                                                        <span v-if="detailModelSelected.isTemplate!=true" class="mt-2 categoryNameClass">
                                                            # {{detailModelSelected.activityId}} - &nbsp;
                                                        </span>
                                                        <span v-if="detailModelSelected.isTemplate==true" class="mt-2 categoryNameClass">
                                                            <v-icon>event</v-icon>
                                                            {{detailModelSelected.templateNo}} - &nbsp;
                                                        </span>
                                                        <span v-if="categoryName_hidden" class="editable__content__value categoryNameClass categoryNameEditClass">
                                                            {{activityCatSelect.itemName}}
                                                            
                                                            <v-btn flat icon class="btn--editable btn--editable--done mx-0 my-0"
                                                                v-if="categoryName_hidden && (detailModelSelected.permission == 'write' || detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager')"
                                                                @click.stop.prevent="categoryName_TempleDataEvent(activityCatSelect)" 
                                                                :loading="categoryName_hidden_loading" 
                                                                :disabled="categoryName_hidden_loading">
                                                                <v-icon>create</v-icon>
                                                            </v-btn>

                                                        </span>

                                                        <v-select 
                                                        v-bind:items="detail__activityCatItems" 
                                                        v-model="activityCatSelect"
                                                        return-object
                                                        single-line bottom item-text="itemName" 
                                                        item-value="itemCode" class="weekly_calendar__month" 
                                                        v-if="!categoryName_hidden && (detailModelSelected.permission == 'write' || detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager')" >
                                                        </v-select>
                                                    </v-flex>
                                                </div>
                                                <div class="editable-tool">
                                
                                                    <v-btn flat icon class="btn--editable btn--editable--done mx-0 my-0"
                                                        v-if="!categoryName_hidden && (detailModelSelected.permission == 'write' || detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager')"
                                                        @click.stop.prevent="categoryName_UpdateEvent(activityCatSelect)" 
                                                        :loading="categoryName_hidden_loading" 
                                                        :disabled="categoryName_hidden_loading"
                                                    >
                                                        <v-icon>done</v-icon>
                                                    </v-btn>
                                                    
                                                    <v-btn flat icon class="mx-0 my-0"
                                                        v-if="!categoryName_hidden && (detailModelSelected.permission == 'write' || detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager')"
                                                        @click.stop.prevent="categoryName_RolbackEvent(activityCatSelect)" 
                                                        :loading="categoryName_hidden_loading" 
                                                        :disabled="categoryName_hidden_loading"
                                                    >
                                                        <v-icon color="red darken-3">clear</v-icon>
                                                    </v-btn>
                                                </div>
                                            </v-flex>
                                            <v-flex xs12 class="editable-wrap subjectClass">
                                                <div class="layout wrap">
                                                    <v-flex xs12 class="layout">
                                                        <span v-if="subject_hidden" class="editable__content__value pt-0 ">
                                                            {{detailModelSelected.subject}}
                                                            <v-btn flat icon class="btn--editable btn--editable--done mx-0 my-0"
                                                                v-if="subject_hidden && (detailModelSelected.permission == 'write' || detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager')"
                                                                @click.stop.prevent="subjectTempleDataEvent(detailModelSelected)" 
                                                                :loading="subject_hidden_loading" 
                                                                :disabled="subject_hidden_loading"
                                                            >
                                                                <v-icon>create</v-icon>
                                                            </v-btn>
                                                        </span>
                                                            <v-text-field v-if="!subject_hidden && (detailModelSelected.permission == 'write' || detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager')"
                                                              class="flex sm12"
                                                              v-model="detailModelSelected.subject"
                                                            ></v-text-field>
                                                    </v-flex>
                                                </div>
                                                <div class="editable-tool">
                                                    
                                                    <v-btn flat icon class="btn--editable btn--editable--done mx-0 my-0"
                                                        v-if="!subject_hidden && (detailModelSelected.permission == 'write' || detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager')"
                                                        @click.stop.prevent="subjectUpdateEvent(detailModelSelected)" 
                                                        :loading="subject_hidden_loading" 
                                                        :disabled="subject_hidden_loading"
                                                    >
                                                        <v-icon>done</v-icon>
                                                    </v-btn>
                                                    
                                                    <v-btn flat icon class="mx-0 my-0"
                                                        v-if="!subject_hidden && (detailModelSelected.permission == 'write' || detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager')"
                                                        @click.stop.prevent="subjectRolbackEvent(detailModelSelected)" 
                                                        :loading="subject_hidden_loading" 
                                                        :disabled="subject_hidden_loading"
                                                    >
                                                        <v-icon color="red darken-3">clear</v-icon>
                                                    </v-btn>
                                                </div>
                                            </v-flex>
                                        </v-layout>
                                    </v-flex>
                                    <v-flex xs12 sm5 class="headerClassDetail_right">
                                        <v-layout wrap>
                                            <div class="headerClass_right">
                                                <i class="text-gray">
                                                Tạo bởi: {{detailModelSelected.userName}} - {{detailModelSelected.createDate | datetime}}
                                                </i>
                                                <v-btn flat icon v-on:click.native="detailShowMore1 = !detailShowMore1">
                                                    <v-icon v-if="!detailShowMore1">expand_less</v-icon>
                                                    <v-icon v-if="detailShowMore1">expand_more</v-icon>
                                                </v-btn>
                                            </div>
                                        </v-layout>
                                        <v-layout wrap v-if="detailModelSelected.isTemplate!=true" class="color_openingState">
                                            <v-flex xs12>
                                                <div class="openingState__class color_openingState_0" v-if="openingState1[detailModelSelected.openingState].openingState=='0'||openingState2[detailModelSelected.openingState].openingState=='0'">
                                                    <span v-if="detailModelSelected.activityType=='EVENT'">
                                                        <b>{{openingState1[detailModelSelected.openingState].event}}</b>
                                                    </span>
                                                    <span  v-if="detailModelSelected.activityType=='TASK' || detailModelSelected.activityType=='TICKET'" >
                                                        <b>{{openingState2[detailModelSelected.openingState].task_ticket}}</b>
                                                    </span>
                                                </div>
                                                <div class="openingState__class color_openingState_1" v-if="openingState1[detailModelSelected.openingState].openingState=='1'||openingState2[detailModelSelected.openingState].openingState=='1'">
                                                    <span v-if="detailModelSelected.activityType=='EVENT'">
                                                        <b>{{openingState1[detailModelSelected.openingState].event}}</b>
                                                    </span>
                                                    <span  v-if="detailModelSelected.activityType=='TASK' || detailModelSelected.activityType=='TICKET'">
                                                        <b>{{openingState2[detailModelSelected.openingState].task_ticket}}</b>
                                                    </span>
                                                </div>
                                                <div class="openingState__class color_openingState_2" v-if="openingState1[detailModelSelected.openingState].openingState=='2'||openingState2[detailModelSelected.openingState].openingState=='2'">
                                                    <span v-if="detailModelSelected.activityType=='EVENT'">
                                                        <b>{{openingState1[detailModelSelected.openingState].event}}</b>
                                                    </span>
                                                    <span  v-if="detailModelSelected.activityType=='TASK' || detailModelSelected.activityType=='TICKET'">
                                                        <b>{{openingState2[detailModelSelected.openingState].task_ticket}}</b>
                                                    </span>
                                                </div>
                                                <div class="openingState__class color_openingState_3" v-if="openingState1[detailModelSelected.openingState].openingState=='3'||openingState2[detailModelSelected.openingState].openingState=='3'">
                                                    <span v-if="detailModelSelected.activityType=='EVENT'">
                                                        <b>{{openingState1[detailModelSelected.openingState].event}}</b>
                                                    </span>
                                                    <span  v-if="detailModelSelected.activityType=='TASK' || detailModelSelected.activityType=='TICKET'">
                                                        <b>{{openingState2[detailModelSelected.openingState].task_ticket}}</b>
                                                    </span>
                                                </div>
                                                <div class="openingState__class color_openingState_4" v-if="openingState2[detailModelSelected.openingState].openingState=='4'">
                                      
                                                    <span  v-if="detailModelSelected.activityType=='TASK' || detailModelSelected.activityType=='TICKET'">
                                                        <b>{{openingState2[detailModelSelected.openingState].task_ticket}}</b>
                                                    </span>
                                                </div>
                                            </v-flex>
                                        </v-layout>
                                    </v-flex>
                                    
                                </v-layout>
                            </div>
                            <div>
                                <v-slide-y-transition>
                                    <v-layout wrap class="pt-2" v-if="detailShowMore1">
                                        <v-flex xs12 sm6 jx-bind="detail__hostingId" class="px-3" id="hostingClass" :class="{'order-lg1': true}">
                                        </v-flex>
                                        <v-flex xs12 sm6 v-if="detailModelSelected.isTemplate !=true " class="px-3" :class="{'order-lg1': true}">
                                            <div class="editable-wrap editable-wrap-before-select">
                                                <v-layout wrap>
                                                    <v-flex v-if="detailModelSelected.activityType=='EVENT'" class="labelClass text-bold" xs12 sm4>
                                                        Bắt đầu: 
                                                    </v-flex>
                                                    <v-flex v-if="detailModelSelected.activityType=='TASK' || detailModelSelected.activityType=='TICKET'" class="labelClass text-bold" xs12 sm4>
                                                        Thời gian bắt đầu: 
                                                    </v-flex>
                                                    <v-flex xs12 sm8 class="controlClass DateClass">

                                                        <v-layout wrap>
                                                            <v-flex xs12 class="editable-wrap">
                                                                <div class="layout wrap">
                                                                    <v-flex xs12 class="layout">
                                                                        <span v-if="codeStartDate_hidden" class="editable__content__value">
                                                                            <span>
                                                                                {{ detailModelSelected.startDate|datetime }}
                                                                            </span>
                                                                            
                                                                        </span>
                                                                        <date-picker v-if="!codeStartDate_hidden && (detailModelSelected.permission == 'write' || detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager')" ref="inputStart" 
                                                                        v-model="detailModelSelected.startDate" lang="en" type="datetime" format="dd/MM/yyyy HH:mm" :time-picker-options ="{start: '00:00',step: '00:10',end: '23:00'}" confirm="true">
                                                                        </date-picker>
                                                                    </v-flex>
                                                                </div>
                                                            </v-flex>
                                                        </v-layout>
                                                    </v-flex>
                                                </v-layout>
                                                <div class="editable-tool">
                                                    <v-button v-if="codeStartDate_hidden && (detailModelSelected.permission == 'write' || detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager')" @click="show__startDate(detailModelSelected)" class="btn--editable btn--editable--done mx-0 my-0 btn btn--flat btn--icon" 
                                                    :loading="codeStartDate_hidden_loading" 
                                                    :disabled="codeStartDate_hidden_loading" >
                                                        <div class="btn__content">
                                                            <v-icon>create</v-icon>
                                                        </div>
                                                        
                                                    </v-button>
                                                    <v-btn flat icon class="btn--editable btn--editable--done mx-0 my-0"
                                                        v-if="!codeStartDate_hidden && (detailModelSelected.permission == 'write' || detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager')"
                                                        @click.stop.prevent="startDateUpdateEvent(detailModelSelected)" 
                                                        :loading="codeStartDate_hidden_loading" 
                                                        :disabled="codeStartDate_hidden_loading">
                                                        <div class="btn__content">
                                                            <v-icon>done</v-icon>
                                                        </div>
                                                    </v-btn>
                                                    
                                                    <v-btn flat icon class="mx-0 my-0"
                                                        v-if="!codeStartDate_hidden && (detailModelSelected.permission == 'write' || detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager')"
                                                        @click.stop.prevent="startDateRolbackEvent(detailModelSelected)" 
                                                        :loading="codeStartDate_hidden_loading" 
                                                        :disabled="codeStartDate_hidden_loading">
                                                        <div class="btn__content">
                                                            <v-icon color="red darken-3">clear</v-icon>
                                                        </div>
                                                        
                                                    </v-btn>
                                                </div>
                                            </div>
                                        </v-flex>
                                        <v-flex xs12 sm6 jx-bind="detail__managerId" class="px-3" id="managerClass" :class="{'order-lg1': true}">
                                        </v-flex>
                                        <v-flex xs12 sm6 v-if="detailModelSelected.isTemplate!=true" class="px-3" :class="{'order-lg1': true}">
                                            <div class="editable-wrap editable-wrap-before-select">
                                                <v-layout wrap>
                                                    <v-flex xs12 sm4 v-if="detailModelSelected.activityType=='EVENT'" class="text-bold labelClass">
                                                        Kết thúc:
                                                    </v-flex>
                                                    <v-flex xs12 sm4 v-if="detailModelSelected.activityType=='TASK' || detailModelSelected.activityType=='TICKET'" class="text-bold labelClass">
                                                        Thời gian hoàn thành:
                                                    </v-flex>
                                                    <v-flex xs12 sm8 class="controlClass DateClass">
                                                        <v-layout wrap>
                                                            <v-flex xs12 class="editable-wrap">
                                                                <div class="layout wrap">
                                                                    <v-flex xs12 class="layout">
                                                                        <span v-if="codeEndDate_hidden" class="editable__content__value">
                                                                            <span>
                                                                                {{ detailModelSelected.endDate|datetime }}
                                                                            </span>
                                                                            
                                                                        </span>
                                                                        <date-picker v-if="!codeEndDate_hidden && (detailModelSelected.permission == 'write' || detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager')" ref="inputEnd" v-model="detailModelSelected.endDate" lang="en" type="datetime" format="dd/MM/yyyy HH:mm"  :time-picker-options ="{start: '00:00',step: '00:10',end: '23:00'}" confirm="true">
                                                                        </date-picker>
                                                                    </v-flex>
                                                                </div>
                                                                
                                                            </v-flex>
                                                        </v-layout>

                                                    </v-flex>
                                                </v-layout>
                                                <div class="editable-tool">
                                                    <v-button v-if="codeEndDate_hidden && (detailModelSelected.permission == 'write' || detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager')" @click="show__endDate(detailModelSelected)" class="btn--editable btn--editable--done mx-0 my-0 btn btn--flat btn--icon" 
                                                    :loading="codeEndDate_hidden_loading" 
                                                    :disabled="codeEndDate_hidden_loading" >
                                                        <div class="btn__content">
                                                            <v-icon>create</v-icon>
                                                        </div>
                                                    </v-button>
                                                    <v-btn flat icon class="btn--editable btn--editable--done mx-0 my-0"
                                                        v-if="!codeEndDate_hidden && (detailModelSelected.permission == 'write' || detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager')"
                                                        @click.stop.prevent="endDateUpdateEvent(detailModelSelected)" 
                                                        :loading="codeEndDate_hidden_loading" 
                                                        :disabled="codeEndDate_hidden_loading">
                                                        <div class="btn__content">
                                                            <v-icon>done</v-icon>
                                                        </div>
                                                    </v-btn>
                                                    
                                                    <v-btn flat icon class="mx-0 my-0"
                                                        v-if="!codeEndDate_hidden && (detailModelSelected.permission == 'write' || detailModelSelected.permission == 'owner' || detailModelSelected.permission == 'manager')"
                                                        @click.stop.prevent="endDateRolbackEvent(detailModelSelected)" 
                                                        :loading="codeEndDate_hidden_loading" 
                                                        :disabled="codeEndDate_hidden_loading">
                                                        <div class="btn__content">
                                                            <v-icon color="red darken-3">clear</v-icon>
                                                        </div>
                                                    </v-btn>
                                                </div>
                                            </div>
                                            
                                        </v-flex>
                                        <v-flex flex xs12 sm12 jx-bind="detail__participators" 
                                            v-if="detailShowMore && detailModelSelected.activityType=='EVENT'"
                                            class="px-3" :class="{'order-lg1': true}">
                                        </v-flex>
                                        <v-flex xs12 sm6 jx-bind="detail__locationId"
                                            v-if="detailShowMore && detailModelSelected.activityType=='EVENT'" class="px-3" 
                                            :class="{'order-lg1': true}">
                                        </v-flex>
                                        <v-flex xs12 sm6 jx-bind="detail__projectId" 
                                            v-if="detailShowMore && detailModelSelected.isTemplate!=true" 
                                            class="px-3" :class="{'order-lg1': true}">
                                        </v-flex>
                                        <v-flex xs12 sm6 jx-bind="detail__onCalendar" 
                                            v-if="detailShowMore && detailModelSelected.activityType=='TASK'" 
                                            class="px-3" :class="{'order-lg1': true}">
                                        </v-flex>
                                        
                                        <v-flex xs12 sm12 jx-bind="detail__contactId" 
                                            v-if="detailShowMore && detailModelSelected.isTemplate!=true" 
                                            class="px-3" :class="{'order-lg1': true}">
                                        </v-flex>
                                        <v-flex xs12 v-if="detailShowMore && detailModelSelected.isTemplate!=true" class="px-3" :class="{'order-lg1': true}">
                                            <v-layout wrap>
                                                <v-flex xs12 sm2 class="labelClass text-bold" style="padding-top: 8px;">
                                                    Thẻ nhãn:
                                                </v-flex>
                                                <v-flex xs12 sm10>
                                                    <jx-mobilink-label
                                                        :class_name="class_name_activity"
                                                        :class_pk="class_pk"
                                                        :group_id="groupId"
                                                        item_text="labelName"
                                                        item_value="labelId"
                                                        label_api="/o/v2/mobilink/resourcelabels"
                                                        :permission="detailModelSelected.permission"
                                                    ></jx-mobilink-label>
                                                </v-flex>
                                            </v-layout>
                                        </v-flex>
                                        <v-flex xs12 sm12 jx-bind="detail__description" id="descriptionClass" 
                                            v-if="detailShowMore || detailModelSelected.isTemplate==true" class="px-3" 
                                            :class="{'order-lg1': true}">
                                        </v-flex>
                                    </v-layout>
                                </v-slide-y-transition>
                                <v-layout wrap v-if="detailShowMore1 && detailModelSelected.isTemplate!=true">
                                    <v-btn flat block v-on:click.native="detailShowMore = !detailShowMore" class="detail_show_more">
                                        <i v-if="!detailShowMore">
                                            <span v-lang.xem_them></span>
                                        </i>
                                        <i v-else>
                                            <span v-lang.thu_gon></span>
                                        </i>
                                        <v-icon v-if="!detailShowMore">keyboard_arrow_down</v-icon>
                                        <v-icon v-else>keyboard_arrow_up</v-icon>
                                    </v-btn>
                                </v-layout>
                            </div>
                        </div>
                        <div class="panel" v-if="detailModelSelected.isTemplate!=true">
                            <div class="panel-heading">
                                <v-layout wrap>
                                    <div class="" v-if="detailModelSelected.permission=='owner'||detailModelSelected.permission=='manager'">
                                        <v-btn v-for="(item,index) in openingState1" v-if="change_openingState== item.openingState && detailModelSelected.activityType=='EVENT'" v-on:click.stop.prevent="changeOpeningState(item,index)">
                                            <v-icon color="success">check_circle</v-icon>&nbsp;&nbsp;
                                            {{item.event}}
                                        </v-btn>
                                        <v-btn v-for="(item,index) in openingState2" v-if="change_openingState == item.openingState && (detailModelSelected.activityType=='TASK'||detailModelSelected.activityType=='TICKET')" v-on:click.stop.prevent="changeOpeningState(item,index)">
                                            <v-icon color="success">check_circle</v-icon>&nbsp;&nbsp;
                                            {{item.task_ticket}}
                                        </v-btn>
                                        <v-btn v-for="(item,index) in openingState1" v-if="change_openingState1 == item.openingState && detailModelSelected.activityType=='EVENT'" v-else="detailShowMore" v-on:click.stop.prevent="changeOpeningState(item,index)">
                                            <v-icon color="red">delete</v-icon>&nbsp;&nbsp;
                                            {{ item.event_huy}}
                                        </v-btn>
                                        <v-btn v-for="(item,index) in openingState2" v-if="change_openingState1 == item.openingState && (detailModelSelected.activityType=='TASK'||detailModelSelected.activityType=='TICKET')" v-on:click.stop.prevent="changeOpeningState(item,index)">
                                            <v-icon color="red">delete</v-icon>&nbsp;&nbsp; 
                                            {{ item.task_ticket_huy }}
                                        </v-btn>
                                    </div>
                                    <div class="" v-else>
                                        <v-btn v-for="(item,index) in openingState1" v-if="change_openingState2== item.openingState && detailModelSelected.activityType=='EVENT'" v-on:click.stop.prevent="changeOpeningState(item,index)">
                                            {{item.event}}
                                        </v-btn>
                                        <v-btn v-for="(item,index) in openingState2" v-if="change_openingState2 == item.openingState && (detailModelSelected.activityType=='TASK'||detailModelSelected.activityType=='TICKET')" v-on:click.stop.prevent="changeOpeningState(item,index)">
                                            {{item.task_ticket}}
                                        </v-btn>
                                    </div>
                                    <div class="flex w-100-xs" style="display: flex;display: -webkit-box;align-items: center;padding: 0">
                                        <div class="flex w-100-xs pt-2 pl-2" v-if="detailModelSelected.activityType=='TASK'||detailModelSelected.activityType=='TICKET'" jx-bind="detail__okrArchive" style="padding: 0"></div>
                                    </div>
                                </v-layout>

                            </div>
                        </div>


                        
                        <v-layout wrap>
                            <v-flex xs12>
                                <div style="padding-bottom: 20px;">
                                  <jx-mobilink-activity-result ref="refActivityResult"
                                    :id="detailModelSelected.activityId" 
                                    :class_pk="detailModelSelected.activityId" 
                                    :class_name="class_name_activity"
                                    :end_point="endPoint"
                                    :group_id="groupId" 
                                    :activity_type="detailModelSelected.activityType" 
                                    :permission="detailModelSelected.permission"
                                    @showdetail="showdetailactivityresult">
                                    </jx-mobilink-activity-result>
                                </div>
                                                
                                   
                            </v-flex>

                            <v-flex xs12>
                                <div style="padding-bottom: 20px;">
                                    <jx-mobilink-checklist ref="refChecklist" class="test-fc" 
                                      :id="detailModelSelected.activityId" :class_pk="detailModelSelected.activityId"
                                      :class_name="class_name_activity" 
                                      :group_id="groupId" 
                                      album_api="/o/v2/mobilink/albumfiles" 
                                      :permission="detailModelSelected.permission"
                                      :end_point="endPoint"
                                      :user_id="current_user_id">
                                    </jx-mobilink-checklist>
                                </div>  
                            </v-flex>
                        </v-layout>
                        <div v-if="detailModelSelected.isTemplate != true" >

                            <jx-mobilink-comment
                                id="1"
                                @init-comment="initComment"
                                :class_name="class_name_activity"
                                :class_pk="class_pk"
                                :group_id="groupId"
                                comments_api="/o/v2/mobilink/comments"
                                expanded="true"
                                :user_id="current_user_id"
                                :full_name="current_user_name"
                              ></jx-mobilink-comment>
                        </div>
                    </v-flex>
                    <v-flex xs12 sm4 class="pl-3">
                        <div v-if="detailModelSelected.isTemplate != true">
                            <jx-mobilink-share 
                                visibilities_api="/o/v2/mobilink/visibilities"
                                resourceworkspace_get_api="/o/v2/mobilink/resourceworkspaces"
                                resourceroles_get_api="/o/v2/mobilink/resourceroles"
                                resourceusers_get_api="/o/v2/mobilink/resourceusers"
                                changelogs_get_api="/o/v2/mobilink/changelogs"
                                :class_name="class_name_activity"
                                :class_pk="class_pk"
                                :group_id="groupId"
                                :permission="detailModelSelected.permission"
                                share_for="detailModelSelected"
                            ></jx-mobilink-share>
                        </div>
                        <br>
                        <div>
                            <uploader :options="options" class="uploader-example">
                                <uploader-unsupport></uploader-unsupport>
                                <uploader-list 
                                    id="1"
                                    developer-key='AIzaSyAouTfMdrvMHjAwvF9RVsvwsuN1WSzGjmM'
                                    client-id='790244148120-0grj2n5evkij0kqqthkbtgb18i0gup1j.apps.googleusercontent.com'
                                    view-id='DOCS'
                                    :class_name="class_name_activity"
                                    :class_pk="class_pk"
                                    :group_id="groupId"
                                    file_attach_api="/o/v2/mobilink/fileattachs"
                                    extensions_upload="true"
                                    :permission="detailModelSelected.permission"
                                ></uploader-list>
                            </uploader>
                            <script type="text/javascript" src="http://apis.google.com/js/api.js?onload=onApiLoad"></script> 
                        </div>  
                        <br>
                        <div v-if="detailModelSelected.isTemplate != true">
                            <jx-mobilink-album-image-use
                            :id="1"
                            :class_name="class_name_activity"
                            :class_pk="class_pk"
                            :group_id="groupId"
                            @init-album-file-upload="initAlbumFileUpload"
                            :options="optionsAlbum"
                            album_api="/o/v2/mobilink/albumfiles"
                            ></jx-mobilink-album-image-use>
                            <br>
                            <jx-mobilink-voting
                                :class_name="class_name_activity"
                                :class_pk="class_pk"
                                :group_id="groupId"
                                expanded="true"
                                voting-title="Lấy ý kiến thống nhất"
                                voting_api="/o/v2/mobilink/votings"
                                :permission="detailModelSelected.permission"
                            ></jx-mobilink-voting>
                        </div>
                    </v-flex>
                </v-layout>

            </v-slide-x-transition>
        </div>

        <div class="xs6" :class="{'no-width': !currentListPage, 'max-width': currentListPage}">
            <v-slide-x-transition>
                <div class="row-header" v-if="!keywordsSearchable">
                    <v-layout wrap>
                        
                        <div class="row-header flex-break" v-if="!keywordsSearchable">
                            <div class="" >
                                <v-layout wrap>
                                    <div xs12 sm6 class="ml-4" v-if="typeListModel=='WEEK'">
                                        <v-select v-bind:items="selectWeek" v-model="selectWeekModel" label="Select" single-line bottom item-text="text" item-value="id" class="weekly_calendar__month"
                                            @change="getWeekEventList">
                                        </v-select>
                                    </div>
                                    <div xs12 sm6 class="ml-3" v-if="typeListModel=='WEEK'">
                                        <v-select v-bind:items="selectYear" v-model="selectYearModel" label="Select" single-line bottom item-text="text" item-value="id" class="weekly_calendar__year"
                                            @change="getWeekEventList">
                                        </v-select>
                                    </div>
                                    <v-flex xs12 sm12 v-if="typeListModel=='MONTH'">
            
                                        <v-btn icon @click.stop="goPrev">
                                            <v-icon>fast_rewind</v-icon>
                                        </v-btn>
                                        {{monthListTitle}}
                                        <v-btn icon @click.stop="goNext">
                                            <v-icon>fast_forward</v-icon>
                                        </v-btn>
                                    </v-flex>
                                    <v-flex xs12 sm12 v-if="typeListModel!='WEEK' && typeListModel!='MONTH'">
                                        <v-breadcrumbs>
                                            <v-icon slot="divider">chevron_right</v-icon>
                                            <v-breadcrumbs-item v-for="item in viewBreadcrumbs" :key="item.title">
                                                {{ item.title }}
                                            </v-breadcrumbs-item>
                                        </v-breadcrumbs>
                                    </v-flex>
                                </v-layout>
                            </div>
                            <div class="flex w-100-xs" style="display: flex;display: -webkit-flex;align-items: center;">

                                <div class="flex w-100-xs" jx-bind="keywordsSearch" ref="search" style="display: flex;display: -webkit-flex;">
                                </div>
                                <v-btn icon v-if="typeListModel!='WEEK' && typeListModel!='MONTH'" v-on:click.native="advancedSearch">

                                    <v-icon>settings</v-icon>
                                </v-btn>
                            </div>
                            
                        
                        </div>
                        

                    </v-layout>
                </div>
            </v-slide-x-transition>
            <jx-mobilink-activity-search class="xs-12" v-bind="todo" ref="activitySearchRef" @view_detail="detail__all" @delete_activity="remove_activity" style="width: 100%;"></jx-mobilink-activity-search>
            <v-slide-y-transition>

                <div style="border:1px solid #eee" v-if="wantAdvancedSearch" class="add__new">
                    <v-layout wrap pt-2 pl-2 pb-2 pr-2>
                        <v-flex xs2>
                            <div class="mt-4 ml-3"><span v-lang.tu_ngay></span></div>
                        </v-flex>
                        <v-flex xs4>
                            <div jx-bind="advanced__startDate"></div>
                        </v-flex>
                        <v-flex xs2>
                            <div class="mt-4 ml-3"><span v-lang.den_ngay></span></div>
                        </v-flex>
                        <v-flex xs4>
                            <div jx-bind="advanced__endDate"></div>
                        </v-flex>
                        <v-flex xs2>
                            <div class="mt-4 ml-3"><span v-lang.trang_thai></span></div>
                        </v-flex>
                        <v-flex xs4>
                            <div jx-bind="advanced__trang_thai"></div>
                        </v-flex>
                        <v-flex xs2>
                            <div class="mt-4 ml-3"><span v-lang.don_vi_to_chuc_chu_tri></span></div>
                        </v-flex>
                        <v-flex xs4>
                            <div jx-bind="advanced__don_vi_to_chuc_chu_tri"></div>
                        </v-flex>
                        <v-flex xs2>
                            <div class="mt-4 ml-3"><span v-lang.nguoi_chu_tri_phu_trach></span></div>
                        </v-flex>
                        <v-flex xs4>
                            <div jx-bind="advanced__nguoi_chu_tri_phu_trach"></div>
                        </v-flex>
                        <v-flex xs2>
                            <div class="mt-4 ml-3"><span v-lang.du_an_chuong_trinh></span></div>
                        </v-flex>
                        <v-flex xs4>
                            <div jx-bind="advanced__du_an_chuong_trinh"></div>
                        </v-flex>
                        <v-flex xs2>
                            <div class="mt-4 ml-3"><span v-lang.dia_chi></span></div>
                        </v-flex>
                        <v-flex xs4>
                            <div jx-bind="advanced__dia_chi"></div>
                        </v-flex>
                        <v-flex xs2>
                            <div class="mt-4 ml-3"><span v-lang.the_nhan></span></div>
                        </v-flex>
                        <v-flex xs4>
                            <div jx-bind="advanced__the_nhan"></div>
                        </v-flex>
                        <v-flex xs12>
                            <div class="center">
                                <v-btn v-on:click.native="submitAdvancedSearch">
                                    <span v-lang.tim_kiem></span>
                                </v-btn>
                                <v-btn v-on:click.native="cancelAdvancedSearch">
                                    <span v-lang.huy></span>
                                </v-btn>
                            </div>
                        </v-flex>
                    </v-layout>
                </div>
            </v-slide-y-transition>

            <v-slide-x-transition v-if="typeListModel=='WEEK'">
                
                <v-expansion-panel expand>
                    <v-expansion-panel-content v-for="(item,index) in formatEventsWeek" :key="item.id" v-bind:value="item.obj.length>0">
                        <div slot="header">
                            {{ item.day }}&nbsp;&nbsp;&nbsp;
                            <span>{{ item.date }}</span>  
                            
                        </div>
                        <v-card>
                            <v-card-text>
                                <div v-for="(items,indexs) in item.obj" v-if="items.activityId">
                                    <p>

                                        {{indexs+1}}.
                                        <a href="javascript:;" @click.stop.prevent="detail__all(items,indexs)">
                                            {{ items.subject }}</a> | 
                                            <span v-if="items.activityType=='EVENT'">
                                                {{openingState1[items.openingState].event}}
                                            </span>
                                            <span v-if="items.activityType=='TASK' || items.activityType=='TICKET'">
                                                {{openingState2[items.openingState].task_ticket}}
                                            </span>

                                    </p>
                                    <p>
                                        <v-icon>schedule</v-icon> {{ items.startDate|datetime }} - {{ items.endDate|datetime }}
                                    </p>
                                    <p>
                                        <v-icon>person</v-icon> Host: {{ items.hosting }} - Manager: {{ items.managerName }}
                                    </p>
                                    <p>
                                        <v-icon>place</v-icon> {{ items.location }}
                                    </p>
                                    <hr v-if="indexs+1 < item.obj.length" class="divider">
                                </div>
                            </v-card-text>
                        </v-card>
                    </v-expansion-panel-content>
                </v-expansion-panel>
            </v-slide-x-transition>

            <v-slide-x-transition v-if="typeListModel=='MONTH'">
                    <jx-mobilink-activity-search class="xs-12" v-bind="todo" ref="activitySearchRef" @view_detail="detail__all" @delete_activity="remove_activity" style="width: 100%;"></jx-mobilink-activity-search>
                <jx-mobilink-full-calendar ref="monthEventRef" 
                    @eventClick="eventClick" @changeMonth="changeMonth" 
                    class="test-fc" :events="monthEventItems"
                    first-day='1' :locale="language">
                    <template slot="fc-event-card" scope="p">
                        <p>
                            <i class="fa">{{ p.event.cellIndex }}</i> {{ p.event.subject }}</p>
                    </template>
                </jx-mobilink-full-calendar>
            </v-slide-x-transition>

            <v-slide-x-transition v-if="typeListModel=='EVENT'">
                <div class="layout wrap" jx-bind="tableEventList">

                </div>
            </v-slide-x-transition>

            <v-slide-x-transition v-if="typeListModel=='TASK'">
                <div class="layout wrap" jx-bind="tableTaskList">

                </div>
            </v-slide-x-transition>

            <v-slide-x-transition v-if="typeListModel=='TICKET'">
                <div class="layout wrap" jx-bind="tableTicketList">

                </div>
            </v-slide-x-transition>

            <v-slide-x-transition v-if="typeListModel=='TEMPLATE'">
                <div class="layout wrap" jx-bind="tableActivityTempList">

                </div>
            </v-slide-x-transition>

        </div>
    </div>
</div>

<!-- table_event_list_template -->
<div id="table_event_list_template" class="hidden">
    <template slot="items" slot-scope="props">

        <tr v-bind:class="{'active': props.index%2==1}">
            <td class="pt-2 pb-2">
                <span>{{props.item.activityId}}</span>
            </td>
            <td class="pt-2 pb-2">
                <span>{{props.item.startDate|datetime}}</span>
            </td>
            <td class="pt-2 pb-2">
                <a href="javascript:;" @click.stop.prevent="toTableEventDetail(props.item,props.index)">
                    <span>{{props.item.subject}}</span>
                </a>
            </td>
            <td class="pt-2 pb-2">
                <span>{{props.item.hosting}}</span>
            </td>
            <td class="pt-2 pb-2">
                <span>{{props.item.managerName}}</span>
            </td>
            <td class="pt-2 pb-2">
                <span>{{props.item.location}}</span>
            </td>
            <td>
                <v-btn v-if="props.item.permission=='owner'||props.item.permission=='manager'" icon v-on:click.native="toRemoveEvent(props.item, props.index)" class="mx-0 my-0">
                    <v-icon color="red darken-3">clear</v-icon>
                </v-btn> 
            </td>
        </tr>
    </template>
</div>

<!-- table_task_list_template -->
<div id="table_task_list_template" class="hidden">
    <template slot="items" slot-scope="props">

        <tr v-bind:class="{'active': props.index%2==1}">
            <td class="pt-2 pb-2">
                <span>{{props.item.activityId}}</span>
            </td>
            <td class="pt-2 pb-2">
                <a href="javascript:;" @click.stop.prevent="toTableTaskDetail(props.item)">
                    <span>{{props.item.subject}}</span>
                </a>
            </td>
            <td class="pt-2 pb-2">
                <span>{{props.item.activityCat}}</span>
            </td>
            <td class="pt-2 pb-2">
                <span>{{props.item.hosting}}</span>
            </td>
            <td class="pt-2 pb-2">
                <span>{{props.item.managerName}}</span>
            </td>
            <td class="pt-2 pb-2">
                <span>{{openingState2[props.item.openingState].task_ticket}}</span>
            </td>
            <td class="pt-2 pb-2">
                <span>{{props.item.endDate|datetime}}</span>
            </td>
            <td>
                <v-btn v-if="props.item.permission=='owner'||props.item.permission=='manager'" icon v-on:click.native="toRemoveTask(props.item, props.index)" class="mx-0 my-0">
                    <v-icon color="red darken-3">clear</v-icon>
                </v-btn> 
            </td>
        </tr>
    </template>
</div>

<!-- table_ticket_list_template -->
<div id="table_ticket_list_template" class="hidden">
    <template slot="items" slot-scope="props">

        <tr v-bind:class="{'active': props.index%2==1}">
            <td class="pt-2 pb-2">
                <span>{{props.item.activityId}}</span>
            </td>
            <td class="pt-2 pb-2">
                <a href="javascript:;" @click.stop.prevent="toTableTicketDetail(props.item)">
                    <span>{{props.item.subject}}</span>
                </a>
            </td>
            <td class="pt-2 pb-2">
                <span>{{props.item.activityCat}}</span>
            </td>
            <td class="pt-2 pb-2">
                <span>{{props.item.hosting}}</span>
            </td>
            <td class="pt-2 pb-2">
                <span>{{props.item.managerName}}</span>
            </td>
            <td class="pt-2 pb-2">
                <span>{{openingState2[props.item.openingState].task_ticket}}</span>
            </td>
            <td class="pt-2 pb-2">
                <span>{{props.item.endDate|datetime}}</span>
            </td>
            <td>
                <v-btn v-if="props.item.permission=='owner'||props.item.permission=='manager'" icon v-on:click.native="toRemoveTicket(props.item, props.index)" class="mx-0 my-0">
                    <v-icon color="red darken-3">clear</v-icon>
                </v-btn> 
            </td>
        </tr>
    </template>
</div>

<!-- tableActivityTemp_list_template -->
<div id="tableActivityTemp_list_template" class="hidden">
    <template slot="items" slot-scope="props">

        <tr v-bind:class="{'active': props.index%2==1}">
            <td class="pt-2 pb-2">
                <span>{{props.item.templateNo}}</span>
            </td>
            <td class="pt-2 pb-2">
                <a href="javascript:;" @click.stop.prevent="toTableActivityTempDetail(props.item)">
                    <span>{{props.item.subject}}</span>
                </a>
            </td>
            <td class="pt-2 pb-2">
                <span>{{ props.item.activityType }} - {{ props.item.categoryName }}</span>
            </td>
            <td class="pt-2 pb-2">
                <span>{{props.item.hosting}}</span>
            </td>
            <td>
                <v-btn v-if="props.item.permission=='owner'||props.item.permission=='manager'" icon v-on:click.native="toRemoveTableActivityTemp(props.item, props.index)" class="mx-0 my-0">
                    <v-icon color="red darken-3">clear</v-icon>
                </v-btn>
            </td>
        </tr>
    </template>
</div>

<div id="popUpEditActivityTemplate">
    <div class="layout wrap flex xs12 text-center">
        <jx-mobilink-activity-add ref='activityAddRef' @call-back-add="submiteevent" :group_id="groupId" :type_activity="typeActivity"
            :end_point="endPoint">
        </jx-mobilink-activity-add>
    </div>
</div>

<div id="activityMgtViewJX" :class="{'nav_drawn_width_none': !currentListPage}"></div>

<script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function (event) {
        var config = {
            headers: {
                groupId: 2014
            }
        }
        var activityMgtViewJX = new VueJX({
            el: 'activityMgtViewJX',
            pk: 1,
            groupid: 2014,
            data: {
                todo: {
              group_id: "20147",
              end_point: "http://127.0.0.1:8081/api/",
              search:'Nghiệm thu',
              category:'EVENT1',
              state:'started',
              hosting:'',
              manager:'',
              project:'',
              label: 101,
              location:101,
              fromdate:'20180315',
              todate:'20180318'
            },
                currentListPage: true,
                keywordsSearchable: false,
                addNewOptions: [],
                typeListModel: 'WEEK',
                endPoint: 'http://127.0.0.1:8081/api/',
                openingState1: [],
                openingState2: [],
                change_openingState:'',
                change_openingState1:'',
                change_openingState2:'',
                selectYear: [],
                selectYearModel: 0,
                selectWeek: [],
                selectWeekModel: 0,

                activityCatSelect:'',

                formatEventsWeek: [],
                monthEventItems: [],
                monthListTitle: '',
                viewBreadcrumbs: [],
                wantAdvancedSearch: false,
                detailShowMore: false,
                detailShowMore1: true,
                typeActivity: '',
                groupId: 2014,
                detailModelSelected: {},
                class_pk: 0,
                class_name_activity: 'org.mobilink.activitymgt.model.Activity',
                current_user_id: 2015,
                current_user_name: 2016,
                options: {
                    target: '/o/v2/mobilink/fileattachs/upload',
                    chunkSize: 100*1024*1024,
                    headers: {
                        groupId: 2014,
                        appendix: true
                    }
                },
                optionsAlbum: {
                    target: '/o/v2/mobilink/albumfiles/upload/',
                    testChunks: false,
                    headers: {
                        groupId: 2014,
                        appendix: true
                    }
                },
                config: {
                    format: 'DD/MM/YYYY h:mm:ss',
                    useCurrent: false,
                    showClear: true,
                    showClose: true,
                },
                categoryName_hidden: true,
                categoryName_hidden_loading: false,
                subject_hidden:true,
                subject_hidden_loading:false,
                codeStartDate_hidden:true,
                codeStartDate_hidden_loading:false,
                codeEndDate_hidden:true,
                codeEndDate_hidden_loading:false,
                tempData1:'',
                tempData2:'',
                tempData3:'',
                tempData4:'',

                current_activity_id: 1, /** ${Request.activityId} **/

                

            },
            schema: {
                /** TODO menu filter */
                'navigationFilter': {
                    'id': 'navigationFilter',
                    'name': 'navigationFilter',
                    'type': 'navigation',
                    'template': 'menu_left_filter_template',
                    'template_content': 'activityViewJX_form_template',
                    'onLoad': 'initTableEventList_constructor',
                    'events': {
                        initComment: function(prevewConfig) {
                            $('#mobilink-comments-container').comments(prevewConfig);
                        },
                        initAlbumFileUpload: function (prevewConfig) {
                            var vm=this;
                            var className=vm.class_name_activity;
                            var classPk = vm.detailModelSelected.activityId;
                            this.optionsAlbum.target = '/o/v2/mobilink/albumfiles/upload/' + prevewConfig.className + '/' + prevewConfig.classPK +'/' + prevewConfig.groupId;
                        },

                        /** click vao lua chon: them su kien - them nhiem vu - them quy trinh */
                        addNewOptionSelect: function (item) {
                            var vm = this;
                            vm.typeActivity = item.typeActivity;
                            vm.activityMgtViewJXTitle = item.title;
                            vm.popUpEditActivity = !vm.popUpEditActivity;
                            this.$refs.activityAddRef.initGetData();
                        },
                        /** lay ra danh sach su kien trong thang*/
                        getEventsOfMonth: function () {
                            var vm = this;
                            var url = vm.endPoint + 'activities?fromdate=' + vm.fromdate +
                                '&todate=' + vm.todate + '&template=false';
                            axios.get(url, config)
                                .then(function (response) {
                                    var serializable = response.data
                                    if (serializable.hasOwnProperty('data') && Array.isArray(serializable.data)) {
                                        vm.monthEventItems = serializable.data;
                                    }
                                })
                                .catch(function (error) {
                                    console.log(error)
                                })
                        },
                        /** lay ra danh sach su kien trong thang*/
                        changeMonth: function (start, end, current) {
                            var vm = this;
                            vm.fromdate = start.format('YYYYMMDD');
                            vm.todate = end.format('YYYYMMDD');
                            vm.monthListTitle = current.format('MMMM YYYY');
                            vm.getEventsOfMonth();
                        },
                        /** xem thang truoc*/
                        goPrev: function () {
                            var vm = this;
                            vm.$refs.monthEventRef.goPrev();
                        },
                        /** xem thang tiep theo*/
                        goNext: function () {
                            var vm = this;
                            vm.$refs.monthEventRef.goNext();
                        },
                        
                        /** khoi tao xem danh sach khi moi vao man hinh*/
                        initTableEventList_constructor: function () {
                            var vm = this;
                            
                            var arrTemp = [];
                            moment.locale(vm.language);
                            vm.selectWeekModel = moment().weeks();
                            for (var i = 1; i <= 53; i++) {
                                arrTemp.push({
                                    id: i,
                                    text: vm.translate('tuan') + ' ' + i
                                });
                            }
                            vm.selectWeek = arrTemp;
                            arrTemp = [];
                            vm.selectYearModel = moment().year();
                            for (var i = vm.selectYearModel; i >= vm.selectYearModel - 10; i--) {
                                arrTemp.push({
                                    id: i,
                                    text: vm.translate('nam') + ' ' + i
                                });
                            }
                            vm.selectYear = arrTemp;
                            vm.getWeekEventList();
                            vm.addNewOptions = [{
                                title: vm.translate('them_moi_su_kien'),
                                id: 1,
                                typeActivity: 'events'
                            }, {
                                title: vm.translate('them_moi_nhiem_vu'),
                                id: 2,
                                typeActivity: 'tasks'
                            },{
                                title: vm.translate('them_moi_yeu_cau'),
                                id: 4,
                                typeActivity: 'tickets'
                            }, {
                                title: vm.translate('them_moi_quy_trinh'),
                                id: 3,
                                typeActivity: 'process'
                            }];
                            vm.openingState1 = [{
                                openingState: 0,
                                event: vm.translate('chua_bat_dau'),
                            },
                            {
                                openingState: 1,
                                event: vm.translate('dang_dien_ra'),
                            },
                            {
                                openingState: 2,
                                event: vm.translate('da_ket_thuc')
                            },
                            {
                                openingState: 3,
                                event: vm.translate('da_huy'),
                                event_huy:vm.translate('huy')
                            }
                            ];
                            vm.openingState2= [{
                                openingState: 0,
                                task_ticket: vm.translate('moi')

                            },
                            {
                                openingState: 1,
                                task_ticket: vm.translate('dang_thuc_hien')
                            },
                            {
                                openingState: 2,
                                task_ticket:vm.translate('hoan_thanh')
                            },
                            {
                                openingState: 3,
                                task_ticket: vm.translate('da_huy'),
                                task_ticket_huy:vm.translate('huy')
                            },
                            {
                                openingState: 4,
                                task_ticket: vm.translate('bao_hoan_thanh')
                            }
                            ];

                            // if(vm.current_activity_id>0){
                            //     var url = vm.endPoint + 'activities/'+vm.current_activity_id;

                            //     axios.get(url, config).then(function (response) {
                            //         var serializable = response.data;
                            //         vm.detail__all(serializable, 0);
                            //     })
                            //         .catch(function (error) {
                            //             console.log(error);
                            //         });
                            // }
                        },
                        /** lay ra danh sach su kien theo tuan */
                        getWeekEventList: function (item) {
                            var vm = this;
                            var w = vm.selectWeekModel;
                            var y = vm.selectYearModel;
                            if (item < 54) {
                                w = item;
                            } else if (item > 54) {
                                y = item;
                            }
                            var formatDate = 'DD/MM/YYYY';
                            var fromdate = moment().day(moment.weekdays(1)).week(w).year(y).format(
                                'YYYYMMDD');
                            var todate = moment().day(moment.weekdays(0)).week(w).year(y).format(
                                'YYYYMMDD');
                            var url = vm.endPoint + 'activities?fromdate=' + fromdate +
                                '&todate=' + todate+ '&template=false';

                            axios.get(url, config).then(function (response) {
                                var serializable = response.data;
                                var weekEventItems = [];
                                if (serializable.hasOwnProperty('data') && Array.isArray(serializable.data)) {
                                    weekEventItems = serializable.data;
                                }else if (typeof (serializable.data) == 'object') {
                                  weekEventItems = [serializable.data];
                                }
                                var _formatEventsWeek = [];
                                for (var key in moment.weekdays(true)) {

                                    _formatEventsWeek.push({
                                        day: moment.weekdays(true)[key],
                                        dateMm: moment().day(moment.weekdays(
                                            true)[key]).week(w).year(y),
                                        date: moment().day(moment.weekdays(true)[
                                            key]).week(w).year(y).format(
                                            formatDate),
                                        obj: weekEventItems.filter(function (
                                            item) {
                                            return moment(item.startDate).format(
                                                formatDate) ==
                                                moment().day(moment.weekdays(
                                                    true)[key]).week(w)
                                                    .year(y).format(
                                                    formatDate)
                                        })
                                    });
                                }
                                if (_formatEventsWeek.length > 1 && _formatEventsWeek[0]
                                    .dateMm > _formatEventsWeek[1].dateMm) {
                                    _formatEventsWeek.push(_formatEventsWeek.shift());
                                }
                                vm.formatEventsWeek = _formatEventsWeek;

                            })
                                .catch(function (error) { });
                        },
                        /** hien thi tim kiem nang cao */
                        advancedSearch: function () {
                            var vm = this;
                            if (vm.loadAdvancedSearch != true) {
                                vm._initadvanced__trang_thai();
                                vm._initadvanced__don_vi_to_chuc_chu_tri();
                                vm._initadvanced__nguoi_chu_tri_phu_trach();
                                vm._initadvanced__du_an_chuong_trinh();
                                vm._initadvanced__dia_chi();
                                vm._initadvanced__the_nhan();
                            }
                            vm.loadAdvancedSearch = true;
                            vm.wantAdvancedSearch = !vm.wantAdvancedSearch;
                        },
                        /** an tim kiem nang cao */
                        cancelAdvancedSearch: function () {
                            var vm = this;
                            vm.advanced__trang_thai = [];
                            vm.advanced__startDate = '';
                            vm.advanced__endDate = '';
                            vm.advanced__don_vi_to_chuc_chu_tri = [];
                            vm.advanced__nguoi_chu_tri_phu_trach = [];
                            vm.advanced__du_an_chuong_trinh = [];
                            vm.advanced__dia_chi = [];
                            vm.advanced__the_nhan = [];
                            vm.wantAdvancedSearch = !vm.wantAdvancedSearch;
                        },
                        /** load lai danh sach khi click tim kiem nang cao */
                        submitAdvancedSearch: function () {
                            var vm = this;
                            vm.routerFilterDataTable();
                        },
                        detail__all: function (item, index) {
                            var vm = this;
                            vm.class_pk = item.activityId;
                            item.dataItemIndex = index;
                            vm.detailModelSelected = item;
                            // window.history.pushState('', '', themeDisplay.getLayoutURL() + '/-/detail/' + item.activityId);
                            vm.options.target = '/o/v2/mobilink/fileattachs/upload/'+vm.class_name_activity+'/'+vm.class_pk+'/'+vm.groupId;
                            if(item.activityType=='EVENT'){
                                setTimeout(function(){
                                    $("#hostingClass .labelClass").html("Đơn vị tổ chức:");
                                    $("#managerClass .labelClass").html("Người chủ trì:");
                                    $("#descriptionClass .labelClass").html("Nội dung:");

                                },500);                                
                            }
                            else if(item.activityType=='TASK'||item.activityType=='TICKET'||item.isTemplate==true){
                                setTimeout(function(){
                                    $("#hostingClass .labelClass").html("Đơn vị chủ trì:");
                                    $("#managerClass .labelClass").html("Người phụ trách:");
                                    $("#descriptionClass .labelClass").html("Mô tả:");

                                },500);  
                                
                            }

                            vm._initdetail__activityCat();
                            vm._initdetail__hostingId();
                            vm._initdetail__managerId();
                            vm._initdetail__participators();
                            vm._initdetail__locationId();
                            vm._initdetail__projectId();
                            vm._initdetail__contactId();
                            vm._initdetail__onCalendar();

                            if(vm.detailModelSelected.openingState==0){
                                vm.change_openingState = 1;
                                vm.change_openingState1=3;
                                vm.change_openingState2=1;
                            }
                            else if(vm.detailModelSelected.openingState==1){
                                vm.change_openingState = 2;
                                vm.change_openingState1=3;
                                vm.change_openingState2=4;
                            }
                            else if(vm.detailModelSelected.openingState==2){
                                vm.change_openingState = 1;
                                vm.change_openingState1=3;
                                vm.change_openingState2=5;
                            }
                            else if(vm.detailModelSelected.openingState==3){
                                vm.change_openingState = 1;
                                vm.change_openingState1=5;
                                vm.change_openingState2=5;
                            }
                            else if(vm.detailModelSelected.openingState==4){
                                vm.change_openingState = 2;
                                vm.change_openingState1=3;
                                vm.change_openingState2=1;
                            }

                            vm.keywordsSearch='';
                            vm.detail__hostingId = item.hostingId;
                            vm.detail__managerId = item.managerId;
                            vm.detail__onCalendar = item.onCalendar;
                            vm.detail__locationId = item.locationId;
                            vm.detail__projectId = item.projectId;
                            vm.detail__okrArchive = item.okrArchive;
                            vm.activityCatSelect ={itemName: item.categoryName, itemCode: item.activityCat}

                            var url = vm.endPoint + 'activities/' + item.activityId;
                            axios.get(url, config).then(function (response) {
                                var serializable = response.data;
                                if (serializable.contact) {
                                    vm.contactId = serializable.contact.contactId;
                                    serializable.contactId = vm.contactId;
                                } else {
                                    serializable.contactId = 0;
                                }
                                vm.detailModelSelected = serializable;

                                setTimeout(function(){
                                    
                                    vm.initEditableControl(
                                   [
                                     {
                                     name: 'detail__activityCat',
                                     value: 'activityCat'
                                     },
                                     {
                                     name: 'detail__subject',
                                     value: 'subject'
                                     },
                                     {
                                     name: 'detail__hostingId',
                                     value: 'hostingId'
                                     },
                                     {
                                     name: 'detail__managerId',
                                     value: 'managerId'
                                     },
                                     {
                                     name: 'detail__startDate',
                                     value: 'startDate',
                                     type: 'date'
                                     },
                                     {
                                     name: 'detail__endDate',
                                     value: 'endDate',
                                     type: 'date'
                                     },
                                     {
                                     name: 'detail__onCalendar',
                                     value: 'onCalendar'
                                     },
                                     {
                                     name: 'detail__locationId',
                                     value: 'locationId'
                                     },
                                     {  
                                     name: 'detail__projectId',
                                     value: 'projectId'
                                    },
                                     {
                                     name: 'detail__description',
                                     value: 'description'
                                    },
                                    {
                                        name: 'detail__okrArchive',
                                        value: 'okrArchive'
                                    }
                                    ],
                                    vm.detailModelSelected,
                                   vm.detailModelSelected.activityId,
                                   vm.detailModelSelected['permission'],
                                   vm
                                  );
                                
                                }, 500);
                                
                                if (serializable.participators && Array.isArray(serializable.participators)) {
                                    vm.detail__participators = serializable.participators;
                                } else if ( typeof(serializable.participators) == 'object') {
                                    vm.detail__participators = [serializable.participators];
                                }
                                vm.detail__description = serializable.description;
                                
                            })
                                .catch(function (error) {
                                    console.log(error);
                                });

                            vm.currentListPage = false;
                            console.log("run detail all")
                        },
                        eventClick: function (event, jsEvent, pos) {
                            console.log('eventClick', event, jsEvent, pos);
                            this.detail__all(event, 0);
                        },
                        changeOpeningState: function(item,index){
                            var vm=this;
                            var url = vm.endPoint + 'activities/'+vm.detailModelSelected.activityId;

                            var paramsChangeOpeningState = new URLSearchParams();

                            paramsChangeOpeningState.append('openingState', item.openingState);

                            axios.put(url,paramsChangeOpeningState, config).then(function (response) {
                                var serializable = response.data;
                                vm.detailModelSelected.openingState=serializable.openingState;
                                if(vm.detailModelSelected.openingState==0){
                                    vm.change_openingState = 1;
                                    vm.change_openingState1= 3;
                                    vm.change_openingState2= 1;
                                }
                                else if(vm.detailModelSelected.openingState==1){
                                    vm.change_openingState = 2;
                                    vm.change_openingState1= 3;
                                    vm.change_openingState2= 4;
                                }
                                else if(vm.detailModelSelected.openingState==2){
                                    vm.change_openingState = 1;
                                    vm.change_openingState1= 3;
                                    vm.change_openingState2= 5;
                                }
                                else if(vm.detailModelSelected.openingState==3){
                                    vm.change_openingState = 1;
                                    vm.change_openingState1= 5;
                                    vm.change_openingState2= 5;
                                }
                                else if(vm.detailModelSelected.openingState==4){
                                    vm.change_openingState = 2;
                                    vm.change_openingState1= 3;
                                    vm.change_openingState2= 1;
                                }
                            })
                                .catch(function (error) {
                                    console.log(error);
                                });
                            
                        },
                         categoryName_TempleDataEvent: function(data) {
                            var vm=this;
                            vm._initdetail__activityCat();
                            this.tempData1 = data.itemName;
                            this.categoryName_hidden = !this.categoryName_hidden;
                        },
                        categoryName_RolbackEvent: function(data) {
                            data.itemName= this.tempData1;
                            this.categoryName_hidden = !this.categoryName_hidden;
                        },
                        show__startDate: function(data) {
                            var vm=this;
                            this.tempData3 = data.startDate;
                            this.codeStartDate_hidden = !this.codeStartDate_hidden;
                        },
                        startDateRolbackEvent: function(data) {
                            data.startDate = this.tempData3;
                            this.codeStartDate_hidden = !this.codeStartDate_hidden;
                        },
                        show__endDate: function(data) {
                            var vm=this;
                            this.tempData4 = data.endDate;
                            this.codeEndDate_hidden = !this.codeEndDate_hidden;
                        },
                        endDateRolbackEvent: function(data) {
                            data.endDate = this.tempData4;
                            this.codeEndDate_hidden = !this.codeEndDate_hidden;
                        },
                        subjectTempleDataEvent: function(data) {
                            this.tempData2 = data.subject;
                            this.subject_hidden = !this.subject_hidden;
                        },
                        subjectRolbackEvent: function(data) {
                            data.subject = this.tempData2;
                            this.subject_hidden = !this.subject_hidden;
                        },
                        subjectUpdateEvent: function(item) {
                            var vm = this; 
                            var validator = document.querySelector(".editable-wrap .error--text"); 
                            var dataToAPI = new URLSearchParams();
                            dataToAPI.append("subject", item.subject);
                            if(validator == null) {
                                var url = vm.endPoint + 'activities/' +item.activityId ;
                                axios.put(url, dataToAPI, config).then(function(response) {
                                    vm.mySuccesssnackbarCall(response.data);
                                    vm.snackbartextactivityMgtViewJX = "Cập nhật dữ liệu thành công!";
                                    vm.snackbaractivityMgtViewJX = true;
                                    vm.subject_hidden = !vm.subject_hidden;
                                  })
                                  .catch(function(error) {
                                    console.log(error);
                                    vm.snackbartextactivityMgtViewJX = "Cập nhật dữ liệu thất bại!";
                                    vm.snackbareroractivityMgtViewJX = true;
                                  });
                            }
                        },
                        categoryName_UpdateEvent: function(item) {
                            var vm = this; 

                            var validator = document.querySelector(".editable-wrap .error--text"); 
                            var dataToAPI = new URLSearchParams();

                            dataToAPI.append("activityCat", item.itemCode);
                            if(validator == null) {
                               var url = vm.endPoint + 'activities/'+ vm.detailModelSelected.activityId;
                                axios.put(url, dataToAPI, config).then(function(response) {
                                    vm.mySuccesssnackbarCall(response.data);
                                    vm.snackbartextactivityMgtViewJX= "Cập nhật dữ liệu thành công!";
                                    vm.snackbaractivityMgtViewJX = true;
                                    vm.categoryName_hidden = !vm.categoryName_hidden;
                                  })
                                  .catch(function(error) {
                                    console.log(error);
                                    vm.snackbartextactivityMgtViewJX = "Cập nhật dữ liệu thất bại!";
                                    vm.snackbareroractivityMgtViewJX= true;
                                  });
                            }
                        },
                        startDateUpdateEvent:function(item){
                            var vm = this; 
                            var dataToAPI = new URLSearchParams();

                            dataToAPI.append("startDate",vm.parseDateFormat(vm.detailModelSelected.startDate));
                            var url = vm.endPoint + 'activities/' + item.activityId ;
                            axios.put(url, dataToAPI, config).then(function(response) {
                                vm.mySuccesssnackbarCall(response.data);
                                vm.snackbartextactivityMgtViewJX = "Cập nhật dữ liệu thành công!";
                                vm.snackbaractivityMgtViewJX = true;
                                vm.codeStartDate_hidden = !vm.codeStartDate_hidden;
                              })
                              .catch(function(error) {
                                console.log(error);
                                vm.snackbartextactivityMgtViewJX = "Cập nhật dữ liệu thất bại!";
                                vm.snackbareroractivityMgtViewJX = true;
                              });
                            
                        },
                        endDateUpdateEvent:function(item){
                            var vm = this; 
                            var dataToAPI = new URLSearchParams();

                            dataToAPI.append("endDate",vm.parseDateFormat(vm.detailModelSelected.endDate));
                            var url = vm.endPoint + 'activities/' + item.activityId ;
                            axios.put(url, dataToAPI, config).then(function(response) {
                                vm.mySuccesssnackbarCall(response.data);
                                vm.snackbartextactivityMgtViewJX = "Cập nhật dữ liệu thành công!";
                                vm.snackbaractivityMgtViewJX = true;
                                vm.codeEndDate_hidden = !vm.codeEndDate_hidden;
                              })
                              .catch(function(error) {
                                console.log(error);
                                vm.snackbartextactivityMgtViewJX = "Cập nhật dữ liệu thất bại!";
                                vm.snackbareroractivityMgtViewJX = true;
                              });
                            
                        },
                        _initdetail__activityCat: function () {
                            var vm = this;
                            var url = vm.endPoint + 'dictcollections/ACTIVITY_TYPE/dictitems?parent='+ vm.detailModelSelected.activityType;
                            axios.get(url, config).then(function (response) {
                                var serializable = response.data;
                                if (serializable.hasOwnProperty('data')) {
                                    vm.detail__activityCatItems = serializable.data;
                                }
                            })
                                .catch(function (error) {
                                    vm.detail__activityCatItems = [];
                                })
                        },
                        parseDateFormat : function(fullDate){
                            var date;
                            if(fullDate){
                                date = fullDate.getFullYear()+(fullDate.getMonth()+1).toString().padStart(2, '0')+fullDate.getDate().toString().padStart(2, '0')+fullDate.getHours().toString().padStart(2, '0')+fullDate.getMinutes().toString().padStart(2, '0');
                            } else {
                                date = ""
                            }
                            return date
                        },
                        showdetailactivityresult: function(item){
                            // window.history.pushState('', '', themeDisplay.getLayoutURL() + '/-/detail/' + item.activityId);  
                            location.reload();
                        },
                        backToList: function(){
                            this.currentListPage = true;
                            this.detailShowMore = false;
                            // window.history.pushState('', '', themeDisplay.getLayoutURL());
                        },

                    }
                },

                'advanced__trang_thai': {
                    'id': 'advanced__trang_thai',
                    'name': 'advanced__trang_thai',
                    "type": "select",
                    "item_text": "text__",
                    "item_value": "value__",
                    "single_line": true,
                    "hide_selected": true,
                    "multiple": false,
                    "tags": false,
                    "chips": true,
                    "loading": false,
                    "no_data_text": ".......",
                    "items": [],
                    'onChange': 'filteradvanced__trang_thai($event)',
                    "onRemove": 'filteradvanced__trang_thaiOnRemove',
                    'onClick': 'filteradvanced__trang_thaiOnClear',
                    "events": {
                        _initadvanced__trang_thai: function () {
                            var vm = this;

                            vm.advanced__trang_thaiItems = [{
                                text__: vm.translate('planned'),
                                value__: 'planned'
                            },
                            {
                                text__: vm.translate('started'),
                                value__: 'started'
                            },
                            {
                                text__: vm.translate('closed'),
                                value__: 'closed'
                            },
                            {
                                text__: vm.translate('canceled'),
                                value__: 'canceled'
                            },
                            {
                                text__: vm.translate('opening'),
                                value__: 'opening'
                            }
                            ];
                        },
                        filteradvanced__trang_thai: function (data) {
                            var vm = this;
                            vm.advanced__trang_thai = data;

                        },
                        filteradvanced__trang_thaiOnRemove: function () {
                            var vm = this;
                            vm.advanced__trang_thai = [];
                            // vm._initActivities_list(null);
                        },
                        filteradvanced__trang_thaiOnClear: function () {
                            this.advanced__trang_thai = [];
                        }
                    }
                },
                'advanced__don_vi_to_chuc_chu_tri': {
                    'id': 'advanced__don_vi_to_chuc_chu_tri',
                    'name': 'advanced__don_vi_to_chuc_chu_tri',
                    "type": "select",
                    "item_text": "itemName",
                    "item_value": "itemCode",
                    "single_line": true,
                    "hide_selected": true,
                    "multiple": false,
                    "tags": false,
                    "chips": true,
                    "loading": false,
                    "no_data_text": ".......",
                    "items": [],
                    'onChange': 'filteradvanced__don_vi_to_chuc_chu_tri($event)',
                    "onRemove": 'filteradvanced__don_vi_to_chuc_chu_triOnRemove',
                    'onClick': 'filteradvanced__don_vi_to_chuc_chu_triOnClear',
                    "events": {
                        _initadvanced__don_vi_to_chuc_chu_tri: function () {
                            var vm = this;

                            var url = vm.endPoint +
                                'dictcollections/GOVERMENT_AGENCY/dictitems';
                            var config = {
                                headers: {
                                    'groupId': 2014
                                }

                            };
                            axios.get(url, config).then(function (response) {
                                var serializable = response.data;
                                if (serializable.hasOwnProperty('data')) {
                                    vm.advanced__don_vi_to_chuc_chu_triItems =
                                        serializable.data;
                                }
                            })
                                .catch(function (error) {
                                    console.log(error);
                                });
                        },
                        filteradvanced__don_vi_to_chuc_chu_tri: function (data) {
                            var vm = this;
                            vm.advanced__don_vi_to_chuc_chu_tri = data;

                        },
                        filteradvanced__don_vi_to_chuc_chu_triOnRemove: function () {
                            var vm = this;
                            vm.advanced__don_vi_to_chuc_chu_tri = [];
                            // vm._initActivities_list(null);
                        },
                        filteradvanced__don_vi_to_chuc_chu_triOnClear: function () {
                            this.advanced__don_vi_to_chuc_chu_tri = [];
                        }
                    }
                },
                'advanced__nguoi_chu_tri_phu_trach': {
                    'id': 'advanced__nguoi_chu_tri_phu_trach',
                    'name': 'advanced__nguoi_chu_tri_phu_trach',
                    "type": "select",
                    "item_text": "fullName",
                    "item_value": "employeeId",
                    "single_line": true,
                    "hide_selected": true,
                    "multiple": false,
                    "tags": false,
                    "chips": true,
                    "loading": false,
                    "no_data_text": ".......",
                    "items": [],
                    'onChange': 'filteradvanced__nguoi_chu_tri_phu_trach($event)',
                    "onRemove": 'filteradvanced__nguoi_chu_tri_phu_trachOnRemove',
                    'onClick': 'filteradvanced__nguoi_chu_tri_phu_trachOnClear',
                    "events": {
                        _initadvanced__nguoi_chu_tri_phu_trach: function () {
                            var vm = this;

                            var url = vm.endPoint + 'employees?active=true';
                            var config = {
                                headers: {
                                    'groupId': 2014
                                }

                            };
                            axios.get(url, config).then(function (response) {
                                var serializable = response.data;
                                if (serializable.hasOwnProperty('data')) {
                                    var arrTemp = []
                                    for (var key in serializable.data) {
                                        arrTemp.push({
                                        fullName: serializable.data[key].fullName,
                                        employeeId: serializable.data[key].mappingUser.userId
                                        })
                                    }
                                    vm.advanced__nguoi_chu_tri_phu_trachItems = arrTemp;

                                }
                            })
                                .catch(function (error) {
                                    console.log(error);
                                });
                        },
                        filteradvanced__nguoi_chu_tri_phu_trach: function (data) {
                            var vm = this;
                            vm.advanced__nguoi_chu_tri_phu_trach = data;

                        },
                        filteradvanced__nguoi_chu_tri_phu_trachOnRemove: function () {
                            var vm = this;
                            vm.advanced__nguoi_chu_tri_phu_trach = [];
                            // vm._initActivities_list(null);
                        },
                        filteradvanced__nguoi_chu_tri_phu_trachOnClear: function () {
                            this.advanced__nguoi_chu_tri_phu_trach = [];
                        }
                    }
                },
                'advanced__du_an_chuong_trinh': {
                    'id': 'advanced__du_an_chuong_trinh',
                    'name': 'advanced__du_an_chuong_trinh',
                    "type": "select",
                    "item_text": "projectName",
                    "item_value": "projectId",
                    "single_line": true,
                    "hide_selected": true,
                    "multiple": false,
                    "tags": false,
                    "chips": true,
                    "loading": false,
                    "no_data_text": ".......",
                    "items": [],
                    'onChange': 'filteradvanced__du_an_chuong_trinh($event)',
                    "onRemove": 'filteradvanced__du_an_chuong_trinhOnRemove',
                    'onClick': 'filteradvanced__du_an_chuong_trinhOnClear',
                    "events": {
                        _initadvanced__du_an_chuong_trinh: function () {
                            var vm = this;

                            var url = vm.endPoint + 'projects';
                            var config = {
                                headers: {
                                    'groupId': 2014
                                }

                            };
                            axios.get(url, config).then(function (response) {
                                var serializable = response.data;
                                if (serializable.hasOwnProperty('data')) {
                                    vm.advanced__du_an_chuong_trinhItems = serializable
                                        .data;
                                }
                            })
                                .catch(function (error) {
                                    console.log(error);
                                });
                        },
                        filteradvanced__du_an_chuong_trinh: function (data) {
                            var vm = this;
                            vm.advanced__du_an_chuong_trinh = data;

                        },
                        filteradvanced__du_an_chuong_trinhOnRemove: function () {
                            var vm = this;
                            vm.advanced__du_an_chuong_trinh = [];
                            // vm._initActivities_list(null);
                        },
                        filteradvanced__du_an_chuong_trinhOnClear: function () {
                            this.advanced__du_an_chuong_trinh = [];
                        }
                    }
                },
                'advanced__dia_chi': {
                    'id': 'advanced__dia_chi',
                    'name': 'advanced__dia_chi',
                    "type": "select",
                    "item_text": "location",
                    "item_value": "locationId",
                    "single_line": true,
                    "hide_selected": true,
                    "multiple": false,
                    "tags": false,
                    "chips": true,
                    "loading": false,
                    "no_data_text": ".......",
                    "items": [],
                    'onChange': 'filteradvanced__dia_chi($event)',
                    "onRemove": 'filteradvanced__dia_chiOnRemove',
                    'onClick': 'filteradvanced__dia_chiOnClear',
                    "events": {
                        _initadvanced__dia_chi: function () {
                            var vm = this;

                            var url = vm.endPoint + 'locations';
                            var config = {
                                headers: {
                                    'groupId': 2014
                                }

                            };
                            axios.get(url, config).then(function (response) {
                                var serializable = response.data;
                                if (serializable.hasOwnProperty('data')) {
                                    vm.advanced__dia_chiItems = serializable.data;
                                }
                            })
                                .catch(function (error) {
                                    console.log(error);
                                });
                        },
                        filteradvanced__dia_chi: function (data) {
                            var vm = this;
                            vm.advanced__dia_chi = data;

                        },
                        filteradvanced__dia_chiOnRemove: function () {
                            var vm = this;
                            vm.advanced__dia_chi = [];
                            // vm._initActivities_list(null);
                        },
                        filteradvanced__dia_chiOnClear: function () {
                            this.advanced__dia_chi = [];
                        }
                    }
                },
                'advanced__the_nhan': {
                    'id': 'advanced__the_nhan',
                    'name': 'advanced__the_nhan',
                    "type": "select",
                    "item_text": "name",
                    "item_value": "labelId",
                    "single_line": true,
                    "hide_selected": true,
                    "multiple": false,
                    "tags": false,
                    "chips": true,
                    "loading": false,
                    "no_data_text": ".......",
                    "items": [],
                    'onChange': 'filteradvanced__the_nhan($event)',
                    "onRemove": 'filteradvanced__the_nhanOnRemove',
                    'onClick': 'filteradvanced__the_nhanOnClear',
                    "events": {
                        _initadvanced__the_nhan: function () {
                            var vm = this;

                            var url = vm.endPoint + 'labels';
                            var config = {
                                headers: {
                                    'groupId': 2014
                                }

                            };
                            axios.get(url, config).then(function (response) {
                                var serializable = response.data;
                                if (serializable.hasOwnProperty('data')) {
                                    vm.advanced__the_nhanItems = serializable.data;
                                }
                            })
                                .catch(function (error) {
                                    console.log(error);
                                });
                        },
                        filteradvanced__the_nhan: function (data) {
                            var vm = this;
                            vm.advanced__the_nhan = data;

                        },
                        filteradvanced__the_nhanOnRemove: function () {
                            var vm = this;
                            vm.advanced__the_nhan = [];
                            // vm._initActivities_list(null);
                        },
                        filteradvanced__the_nhanOnClear: function () {
                            this.advanced__the_nhan = [];
                        }
                    }
                },
                'advanced__startDate': {
                    'id': 'advanced__startDate',
                    'name': 'advanced__startDate',
                    'type': 'date'
                },
                'advanced__endDate': {
                    'id': 'advanced__endDate',
                    'name': 'advanced__endDate',
                    'type': 'date'
                },
                'detail__hostingId': {
                    'id': 'detail__hostingId',
                    'name': 'detail__hostingId',
                    'type': 'select',
                    'label': 'Đơn vị tổ chức:',
                    'mode': 'editable',
                    'labelClass': 'text-bold xs12 sm4',
                    'controlClass': 'xs12 sm8',
                    'updateapi': '/o/v2/mobilink/activities',
                    "item_text": "name",
                    "item_value": "workingUnitId",
                    "hide_selected": true,
                    "loading": false,
                    "items": [],
                    'success_msg': 'Cập nhật trường thành công',
                    'error_msg': 'Cập nhật trường thất bại',
                    'call_back_success': 'mySuccesssnackbarCall',
                    'call_back_error': 'myErrorsnackbarCall',
                    'events': {
                        _initdetail__hostingId: function () {
                            var vm = this;
                            var url = vm.endPoint + 'workingunits';
                            axios.get(url, config).then(function (response) {
                                var serializable = response.data;
                                if (serializable.hasOwnProperty('data')) {
                                    vm.detail__hostingIdItems = serializable.data;
                                }
                            })
                                .catch(function (error) {
                                    vm.detail__hostingIdItems = [];
                                })
                        },
                        myErrorsnackbarCall: function (value) {
                            console.log(value);
                        },
                        mySuccesssnackbarCall: function (response) {
                            var activity = response.data;
                            var vm = this;
                            activity.dataItemIndex = vm.detailModelSelected.dataItemIndex;
                            if (activity.activityType == 'EVENT' && vm.typeListModel == 'EVENT' ) {
                                vm.tableEventListItems.splice(activity.dataItemIndex, 1, activity);
                            } else if (activity.activityType == 'TASK' && vm.typeListModel == 'TASK') {
                                vm.tableTaskListItems.splice(activity.dataItemIndex, 1, activity);
                            } else if (activity.activityType == 'TICKET' && vm.typeListModel == 'TICKET') {
                                vm.tableTicketListItems.splice(activity.dataItemIndex, 1, activity);
                            } else if (activity.isTempalate == true && vm.typeListModel == 'EVENT') {
                                vm.tableActivityTempListItems.splice(activity.dataItemIndex, 1, activity);
                            } else if (vm.typeListModel == 'WEEK') {
                                vm.getWeekEventList();
                            } else if (vm.typeListModel == 'MONTH') {
                                vm.getEventsOfMonth();
                            }
                            vm.detailModelSelected = activity;
                        }
                    }
                },
                'detail__managerId': {
                    'id': 'detail__managerId',
                    'name': 'detail__managerId',
                    'type': 'select',
                    'label': 'Người chủ trì: ',
                    'mode': 'editable',
                    'labelClass': 'text-bold xs12 sm4',
                    'controlClass': 'xs12 sm8',
                    'updateapi': '/o/v2/mobilink/activities',
                    "item_text": "fullName",
                    "item_value": "employeeId",
                    "hide_selected": true,
                    "loading": false,
                    "items": [],
                    'success_msg': 'Cập nhật trường thành công',
                    'error_msg': 'Cập nhật trường thất bại',
                    'call_back_success': 'mySuccesssnackbarCall',
                    'call_back_error': 'myErrorsnackbarCall',
                    'events': {
                        _initdetail__managerId: function () {
                            var vm = this;
                            var url = vm.endPoint + 'employees?active=true';
                            //actri=true;
                            axios.get(url, config).then(function (response) {
                                var serializable = response.data;

                                if (serializable.hasOwnProperty('data')) {
                                    var arrTemp = []
                                    for (var key in serializable.data) {
                                        arrTemp.push({
                                        fullName: serializable.data[key].fullName,
                                        employeeId: serializable.data[key].mappingUser.userId
                                        })
                                    }
                                    vm.detail__managerIdItems = arrTemp;
                                }
                            })
                                .catch(function (error) {
                                    vm.detail__managerIdItems = [];
                                })
                        }
                    }
                },
                "detail__participators": {
                    'id': 'detail__participators',
                    'name': 'detail__participators',
                    "type": "select",
                    'label': 'Đơn vị phối hợp: ',
                    'mode': 'editable',
                    'chips': true,
                    'deletable_chips':true,
                    'multiple': true,
                    'labelClass': 'text-bold xs12 sm2',
                    'controlClass': 'xs12 sm10',
                    "item_text_adv": "name",
                    "item_text": "name",
                    "item_value": "workingUnitId",
                    "hide_selected": true,
                    "loading": false,
                    "items": [],
                    'updateapi': '/o/v2/mobilink/activities',
                    'success_msg': 'Cập nhật trường text này thành công',
                    'error_msg': 'Cập nhật trường text này thất bại',
                    'call_back_success': 'updateParticipators',
                    'call_back_error': 'updateParticipators',
                    "events": {
                        _initdetail__participators: function () {
                            var vm = this;
                            vm.detail__participatorspk = vm.detailModelSelected.activityId;
                            vm.detail__participatorspermission = vm.detailModelSelected['permission'];
                            var url = vm.endPoint + 'workingunits';
                            axios.get(url, config).then(function (response) {
                                var serializable = response.data;
                                if (serializable.hasOwnProperty('data')) {
                                    vm.detail__participatorsItems = serializable.data;
                                }
                            })
                                .catch(function (error) {
                                    console.log(error);
                                });
                        },
                        updateParticipators: function (data) {
                            var vm = this;
                            var paramsUpdateParticipators = new URLSearchParams();
                            var participators = '';
                            for (var key in vm.detail__participators) {
                                participators += vm.detail__participators[key].workingUnitId + ',';
                            }
                            paramsUpdateParticipators.append('participators', participators);

                            axios.put(vm.endPoint + 'activities/' + vm.detailModelSelected.activityId,
                                paramsUpdateParticipators,
                                config
                            )
                                .then(function (response) {
                                    var activity = response.data;
                                    /** TODO: NOTHING */
                                })
                                .catch(function (error) {
                                    console.log(error)
                                })
                        }
                    }
                },
                'detail__locationId': {
                    'id': 'detail__locationId',
                    'name': 'detail__locationId',
                    'type': 'select',
                    'label': 'Địa điểm: ',
                    'mode': 'editable',
                    'labelClass': 'text-bold xs12 sm4',
                    'controlClass': 'xs12 sm8',
                    'updateapi': '/o/v2/mobilink/activities',
                    "item_text": "location",
                    "item_value": "locationId",
                    "hide_selected": true,
                    "loading": false,
                    "items": [],
                    'success_msg': 'Cập nhật trường thành công',
                    'error_msg': 'Cập nhật trường thất bại',
                    'call_back_success': 'mySuccesssnackbarCall',
                    'call_back_error': 'myErrorsnackbarCall',
                    'events': {
                        _initdetail__locationId: function () {
                            var vm = this;
                            var url = vm.endPoint + 'locations';
                            axios.get(url, config).then(function (response) {
                                var serializable = response.data;
                                if (serializable.hasOwnProperty('data')) {
                                    vm.detail__locationIdItems = serializable.data;
                                }
                            })
                                .catch(function (error) {
                                    vm.detail__locationIdItems = [];
                                })
                        }
                    }
                },
                'detail__projectId': {
                    'id': 'detail__projectId',
                    'name': 'detail__projectId',
                    'type': 'select',
                    'label': 'Dự án: ',
                    'mode': 'editable',
                    'labelClass': 'text-bold xs12 sm4',
                    'controlClass': 'xs12 sm8',
                    'updateapi': '/o/v2/mobilink/activities',
                    "item_text": "projectName",
                    "item_value": "projectId",
                    "hide_selected": true,
                    "loading": false,
                    "items": [],
                    'success_msg': 'Cập nhật trường thành công',
                    'error_msg': 'Cập nhật trường thất bại',
                    'call_back_success': 'mySuccesssnackbarCall',
                    'call_back_error': 'myErrorsnackbarCall',
                    'events': {
                        _initdetail__projectId: function () {
                            var vm = this;
                            var url = vm.endPoint + 'projects';
                            axios.get(url, config).then(function (response) {
                                var serializable = response.data;
                                if (serializable.hasOwnProperty('data')) {
                                    vm.detail__projectIdItems = serializable.data;
                                }
                            })
                                .catch(function (error) {
                                    vm.detail__projectIdItems = [];
                                })
                        }
                    }
                },
                'detail__onCalendar': {
                    'id': 'detail__onCalendar',
                    'name': 'detail__onCalendar',
                    'type': 'select',
                    'label': 'Ghi lịch tuần: ',
                    'mode': 'editable',
                    'labelClass': 'text-bold xs12 sm4',
                    'controlClass': 'xs12 sm8',
                    'updateapi': '/o/v2/mobilink/activities',
                    "item_text": "text",
                    "item_value": "value",
                    "hide_selected": true,
                    "loading": false,
                    "items": [],
                    'success_msg': 'Cập nhật trưeờng thành công',
                    'error_msg': 'Cập nhật trường thất bại',
                    'call_back_success': 'mySuccesssnackbarCall',
                    'call_back_error': 'myErrorsnackbarCall',
                    'events': {
                        _initdetail__onCalendar: function () {
                            var vm = this;
                            vm.detail__onCalendarItems = [
                                { text: 'có', value: 'true' },
                                { text: 'không', value: 'false' }
                            ];
                        }
                    }
                },
                'detail__contactId': {
                    'id': 'detail__contactId',
                    'name': 'detail__contactId',
                    'type': 'select',
                    'label': 'Người liên hệ: ',
                    'mode': 'editable',
                    'labelClass': 'text-bold xs12 sm2',
                    'controlClass': 'xs12 sm10',
                    'updateapi': '/o/v2/mobilink/activities',
                    "item_text": "text",
                    "item_value": "contactId",
                    "hide_selected": true,
                    "loading": false,
                    "items": [],
                    'success_msg': 'Cập nhật trường thành công',
                    'error_msg': 'Cập nhật trường thất bại',
                    'call_back_success': 'mySuccesssnackbarCall',
                    'call_back_error': 'myErrorsnackbarCall',
                    'events': {
                        _initdetail__contactId: function () {
                            var vm = this;
                            var url = vm.endPoint + 'contacts';
                            axios.get(url, config).then(function (response) {
                                var serializable = response.data;
                                var arrTemp = [];
                                if (serializable.hasOwnProperty('data')) {
                                    for (var k = 0; k < serializable.data.length; k++) {
                                        arrTemp.push({
                                            text: serializable.data[k].fullName + ' - ' + serializable.data[k].telNo + ' - ' + serializable.data[k].email,
                                            contactId: serializable.data[k].contactId
                                        });
                                    }
                                    vm.detail__contactIdItems = arrTemp;
                                }
                            })
                                .catch(function (error) {
                                    vm.detail__contactIdItems = [];
                                })
                        }
                    }
                },
                'detail__description': {
                    'id': 'detail__description',
                    'name': 'detail__description',
                    'type': 'text',
                    'label': 'Nội dung: ',
                    'mode': 'editable',
                    'labelClass': 'text-bold xs12 sm2',
                    'controlClass': 'xs12 sm10',
                    'updateapi': '/o/v2/mobilink/activities',
                    "loading": false,
                    'success_msg': 'Cập nhật trường thành công',
                    'error_msg': 'Cập nhật trường thất bại',
                    'call_back_success': 'mySuccesssnackbarCall',
                    'call_back_error': 'myErrorsnackbarCall',
                    'multi_line': true
                },
                'detail__okrArchive': {
                    'id': 'detail__okrArchive',
                    'name': 'detail__okrArchive',
                    'label': 'Đánh giá OKR: ',
                    'type':'number',
                    'mode': 'editable',
                    'labelClass': 'text-bold xs12 sm3',
                    'controlClass': 'xs12 sm9',
                    'updateapi': '/o/v2/mobilink/activities',
                    "loading": false,
                    'success_msg': 'Cập nhật trường thành công',
                    'error_msg': 'Cập nhật trường thất bại',
                    'call_back_success': 'mySuccesssnackbarCall',
                    'call_back_error': 'myErrorsnackbarCall'
                   
                },

                'typesListFilter': {
                    'id': 'typesListFilter',
                    'name': 'typesListFilter',
                    'type': 'listgroup',
                    'child_items': 'items',
                    'data_title': 'title',
                    'data_value': 'id',
                    'onLoad': '_initTypesListFilter',
                    'onClick': 'typeListFilterChange',
                    'events': {
                        typeListFilterChange: function (item) {
                            var vm = this;
                            vm.typesListFilterselected = item.id;
                            vm.typesListFilterItem = item;
                            vm.typeListModel = item.type;
                            switch (vm.typeListModel) {
                                case 'WEEK':
                                    vm.keywordsSearch='';
                                    vm.wantAdvancedSearch=false;
                                    vm.getWeekEventList();
                                    break;
                                case 'MONTH':
                                    vm.keywordsSearch='';
                                    vm.wantAdvancedSearch=false;
                                    vm.getEventsOfMonth();
                                    break;
                                case 'EVENT':
                                    vm.keywordsSearch='';
                                    vm.wantAdvancedSearch=false;
                                    vm.setViewBreadCrumbs(item);
                                    vm.getTableEventList();
                                    break;
                                case 'TASK':
                                    vm.keywordsSearch='';
                                    vm.wantAdvancedSearch=false;
                                    vm.setViewBreadCrumbs(item);
                                    vm.getTableTaskList();
                                    break;
                                case 'TICKET':
                                    vm.keywordsSearch='';
                                    vm.wantAdvancedSearch=false;
                                    vm.setViewBreadCrumbs(item);
                                    vm.getTableTicketList();
                                    break;
                                case 'TEMPLATE':
                                    vm.keywordsSearch='';
                                    vm.wantAdvancedSearch=false;
                                    vm.setViewBreadCrumbs(item);
                                    vm.getTableActivityTempList();
                                    break;
                                default:
                                    console.log("TODO DEFAULT " + item.type);
                                    break;

                            };
                        },
                        _initTypesListFilter: function () {
                            var vm = this;
                            vm.typesListFilterItems = [{
                                "action": "insert_invitation",
                                "action_active": "event_available",
                                "id": -1,
                                "title": vm.translate('lich_tuan'),
                                "type": 'WEEK',
                                "active": true,
                                "parent": {
                                    "id": 0
                                }
                            }, {
                                "action": "content_paste",
                                "action_active": "event_note",
                                "id": -2,
                                "title": vm.translate('lich_thang'),
                                "type": 'MONTH',
                                "active": false,
                                "parent": {
                                    "id": 0
                                }
                            }, {
                                "action": "group_add",
                                "action_active": "group",
                                "id": -3,
                                "title": vm.translate('su_kien'),
                                "type": 'EVENT',
                                "active": false,
                                "parent": {
                                    "id": 0
                                }
                            }, {
                                "action": "spellcheck",
                                "action_active": "done_all",
                                "id": -4,
                                "title": vm.translate('nhiem_vu'),
                                "type": 'TASK',
                                "active": false,
                                "parent": {
                                    "id": 0
                                }
                            }, {
                                "action": "open_in_browser",
                                "action_active": "settings_backup_restore",
                                "id": -5,
                                "title": vm.translate('yeu_cau'),
                                "type": 'TICKET',
                                "active": false,
                                "parent": {
                                    "id": 0
                                }
                            }, {
                                "action": "extension",
                                "action_active": "exit_to_app",
                                "id": -6,
                                "title": vm.translate('quy_trinh'),
                                "type": 'TEMPLATE',
                                "active": false,
                                "parent": {
                                    "id": 0
                                }
                            }];
                            vm.typesListFilterselected = -1;
                            vm._initTypesListFilterChild();
                        },
                        _initTypesListFilterChild: function () {
                            var vm = this;
                            var url = vm.endPoint + 'dictcollections/ACTIVITY_TYPE/dictitems?parent='
                                + vm.typesListFilterItems[2].type;
                            axios.get(url, config).then(function (response) {
                                var serializable = response.data;
                                if (serializable.hasOwnProperty('data')) {
                                    vm.typesListFilterItems[2].items = serializable.data
                                        .map(
                                        function (item) {
                                            return {
                                                id: item.itemCode,
                                                title: item.itemName,
                                                type: vm.typesListFilterItems[2].type,
                                                parent: {
                                                    id: vm.typesListFilterItems[2].id,
                                                    title: vm.typesListFilterItems[
                                                        2].title
                                                }
                                            }
                                        }
                                        );
                                }

                            })
                                .catch(function (error) {
                                    vm.typesListFilterItems[2].items = [];
                                })

                            var url = vm.endPoint + 'dictcollections/ACTIVITY_TYPE/dictitems?parent='
                                + vm.typesListFilterItems[3].type;
                            axios.get(url, config).then(function (response) {
                                var serializable = response.data;
                                if (serializable.hasOwnProperty('data')) {
                                    vm.typesListFilterItems[3].items = serializable.data
                                        .map(
                                        function (item) {
                                            return {
                                                id: item.itemCode,
                                                title: item.itemName,
                                                type: vm.typesListFilterItems[3].type,
                                                parent: {
                                                    id: vm.typesListFilterItems[3].id,
                                                    title: vm.typesListFilterItems[
                                                        3].title
                                                }
                                            }
                                        }
                                        );
                                }

                            })
                                .catch(function (error) {
                                    vm.typesListFilterItems[3].items = [];
                                })
                            var url = vm.endPoint + 'dictcollections/ACTIVITY_TYPE/dictitems?parent='
                                + vm.typesListFilterItems[4].type;
                            axios.get(url, config).then(function (response) {
                                var serializable = response.data;
                                if (serializable.hasOwnProperty('data')) {
                                    vm.typesListFilterItems[4].items = serializable.data
                                        .map(
                                        function (item) {
                                            return {
                                                id: item.itemCode,
                                                title: item.itemName,
                                                type: vm.typesListFilterItems[4].type,
                                                parent: {
                                                    id: vm.typesListFilterItems[4].id,
                                                    title: vm.typesListFilterItems[
                                                        4].title
                                                }
                                            }
                                        }
                                        );
                                }

                            })
                                .catch(function (error) {
                                    vm.typesListFilterItems[4].items = [];
                                })


                        },
                        setViewBreadCrumbs: function (item) {
                            var vm = this;
                            if (item) {
                                if (item.parent.id == 0) {
                                    vm.viewBreadcrumbs = [item];
                                } else {
                                    vm.viewBreadcrumbs = [item.parent, item]
                                }
                            }
                        }
                    }
                },
                /** table tableEventList */
                'tableEventList': {
                    'id': 'tableEventList',
                    'name': 'tableEventList',
                    'type': 'table',
                    'cssClass': 'tableEventList__class',
                    'item_key': 'id',
                    'headers': 'headers',
                    'template': 'table_event_list_template',
                    'pagging': '_paggingTableEvent_list',
                    'onLoad': '_initTableEventList',
                    'events': {
                        _initTableEventList: function (item) {

                            var vm = this;
                            this.tableEventListheaders = [{
                                text: '#',
                                align: 'left',
                                sortable: true,
                                value: 'activityId'
                            },
                            {
                                text: vm.translate('thoi_gian'),
                                align: 'left',
                                sortable: true,
                                value: 'startDate'
                            },
                            {
                                text: vm.translate('ten_su_kien'),
                                align: 'left',
                                sortable: true,
                                value: 'subject'
                            },
                            {
                                text: vm.translate('don_vi_to_chuc'),
                                align: 'left',
                                sortable: true,
                                value: 'hosting'
                            },
                            {
                                text: vm.translate('chu_tri'),
                                align: 'left',
                                sortable: true,
                                value: 'managerName'
                            },
                            {
                                text: vm.translate('dia_diem'),
                                align: 'left',
                                sortable: true,
                                value: 'location'
                            },
                            {
                                text: '',
                                align: 'left',
                                sortable: true,
                                value: 'clear'
                            }
                            ];
                            vm.runTable()

                        },
                        runTable: function(){
                            var vm = this;
                            vm.$refs.activitySearchRef.initGetData();
                        },
                        getTableEventList: function () {
                            var vm = this;
                            var paramsActivityBuilder = {
                                start: vm.tableEventListpage * 10 - 10,
                                end: vm.tableEventListpage * 10,
                                type: 'EVENT',
                                keywords: vm.keywordsSearch,
                                template:false,
                                sort:'startDate_Number',
                                order:true
                            };
                            if (!(vm.typesListFilterItem.id < 0)) {
                                paramsActivityBuilder.category = vm.typesListFilterItem.id
                            }
                            if (vm.wantAdvancedSearch) {
                                paramsActivityBuilder.state = vm.advanced__trang_thai.value;
                                paramsActivityBuilder.hosting = vm.advanced__don_vi_to_chuc_chu_tri
                                    .itemCode;
                                paramsActivityBuilder.manager = vm.advanced__nguoi_chu_tri_phu_trach
                                    .workingUnitId;
                                paramsActivityBuilder.project = vm.advanced__du_an_chuong_trinh
                                    .projectId;
                                paramsActivityBuilder.label = vm.advanced__the_nhan.labelId;
                                paramsActivityBuilder.location = vm.advanced__dia_chi.locationId;
                                paramsActivityBuilder.fromdate = vm.advanced__startDate ? moment(vm.advanced__startDate, 'DD/MM/YYYY').format('YYYYMMDD') : null;
                                paramsActivityBuilder.todate = vm.advanced__endDate ? moment(vm.advanced__endDate, 'DD/MM/YYYY').format('YYYYMMDD') : null;
                            }
                            var configGetActivity = {
                                params: paramsActivityBuilder,
                                headers: {
                                    groupId: 2014
                                }
                            };
                            var url = vm.endPoint + 'activities';
                            axios.get(url, configGetActivity).then(function (response) {
                                var serializable = response.data;
                                if (serializable.hasOwnProperty('data') && Array.isArray(serializable.data)) {
                                    vm.tableEventListItems = serializable.data;
                                } else if (typeof (serializable.data) == 'object') {
                                    vm.tableEventListItems = [serializable.data];
                                } else {
                                    vm.tableEventListItems = [];
                                }
                                vm.tableEventListTotal = Math.ceil(serializable.total /
                                    10);
                            })
                                .catch(function (error) {
                                    console.log(error);
                                    vm.tableEventListItems = [];
                                })
                        },
                        _paggingTableEvent_list: function () {
                            this.getTableEventList();
                        },
                        toTableEventDetail: function (item, index) {
                            this.detail__all(item, index);
                        },
                        toRemoveEvent: function (item, index) {
                            var vm = this;
                            console.log(index);
                            vm.$dialog.confirm(vm.translate('ban_muon_xoa_su_kien'), {
                                html: true,
                                loader: true,
                                okText: vm.translate('xac_nhan'),
                                cancelText: vm.translate('quay_lai'),
                                animation: 'fade'
                            })
                                .then(function (dialog) {

                                    var url = vm.endPoint + "activities/" + item.activityId;
                                    axios.delete(url, config).then(function (response) {
                                        vm.tableEventListItems.splice(index, 1);
                                        vm._initTableEventList(null);
                                        vm.backToList();
                                        vm.snackbartextactivityMgtViewJX = vm.translate(
                                            'xoa_du_lieu_thanh_cong');
                                        vm.snackbaractivityMgtViewJX = true;
                                        vm.loadingactivityMgtViewJX = false;
                                    })
                                        .catch(function (error) {
                                            console.log(error);
                                            vm.snackbartextactivityMgtViewJX = vm.translate(
                                                'xoa_du_lieu_that_bai');
                                            vm.snackbaractivityMgtViewJX = true;
                                            vm.loadingactivityMgtViewJX = false
                                        });

                                    dialog.close();
                                    return false;
                                })
                                .catch(function (e) {
                                    console.log(e)
                                })
                        },
                        // Bổ sung function xóa cho màn hình tìm kiếm
                        remove_activity: function (item, index, tableListItems) {
                            var vm = this;

                            vm.$dialog.confirm('Xác nhận xóa dữ liệu', {
                                html: true,
                                loader: true,
                                okText: vm.translate('xac_nhan'),
                                cancelText: vm.translate('quay_lai'),
                                animation: 'fade'
                            })
                            .then(function (dialog) {

                                var url = vm.endPoint + "activities/" + item.activityId;
                                axios.delete(url, config).then(function (response) {
                                    tableListItems.splice(index, 1);
                                    vm.snackbartextactivityMgtViewJX = vm.translate(
                                        'xoa_du_lieu_thanh_cong');
                                    vm.snackbaractivityMgtViewJX = true;
                                    vm.loadingactivityMgtViewJX = false;
                                })
                                    .catch(function (error) {
                                        console.log(error);
                                        vm.snackbartextactivityMgtViewJX = vm.translate(
                                            'xoa_du_lieu_that_bai');
                                        vm.snackbareroractivityMgtViewJX = true;
                                        vm.loadingactivityMgtViewJX = false
                                    });

                                dialog.close();
                                return false;
                            })
                            .catch(function (e) {
                                console.log(e)
                            })
                        }
                    }
                },
                /** table checkList */
                'tableTaskList': {
                    'id': 'tableTaskList',
                    'name': 'tableTaskList',
                    'type': 'table',
                    'cssClass': 'tableTaskList__class',
                    'item_key': 'id',
                    'headers': 'headers',
                    'template': 'table_task_list_template',
                    'pagging': '_paggingTableTaskList',
                    'onLoad': '_inittableTaskList',
                    'events': {
                        _inittableTaskList: function (item) {
                            var vm = this;
                            this.tableTaskListheaders = [{
                                text: '#',
                                align: 'left',
                                sortable: true,
                                value: 'name'
                            },
                            {
                                text: vm.translate('ten_nhiem_vu'),
                                align: 'left',
                                sortable: true,
                                value: 'subject'
                            },
                            {
                                text: vm.translate('loai_nhiem_vu'),
                                align: 'left',
                                sortable: true,
                                value: 'activityCat'
                            },
                            {
                                text: vm.translate('don_vi_chu_tri'),
                                align: 'left',
                                sortable: true,
                                value: 'hosting'
                            },
                            {
                                text: vm.translate('nguoi_phu_trach'),
                                align: 'left',
                                sortable: true,
                                value: 'managerName'
                            },
                            {
                                text: vm.translate('trang_thai'),
                                align: 'left',
                                sortable: true,
                                value: 'activityStatus'
                            },
                            {
                                text: vm.translate('han_hoan_thanh'),
                                align: 'left',
                                sortable: true,
                                value: 'endDate'
                            },
                            {
                                text: '',
                                align: 'left',
                                sortable: true,
                                value: 'clear'
                            }
                            ];
                        },
                        getTableTaskList: function () {
                            var vm = this;
                            var paramsCheckListBuilder = {
                                start: vm.tableTaskListpage * 10 - 10,
                                end: vm.tableTaskListpage * 10,
                                type: 'TASK',
                                keywords: vm.keywordsSearch,
                                template:false,
                                sort:'startDate_Number',
                                order:true
                            };
                            if (!(vm.typesListFilterItem.id < 0)) {
                                paramsCheckListBuilder.category = vm.typesListFilterItem.id
                            }
                            if (vm.wantAdvancedSearch) {
                                paramsCheckListBuilder.state = vm.advanced__trang_thai.value;
                                paramsCheckListBuilder.hosting = vm.advanced__don_vi_to_chuc_chu_tri
                                    .itemCode;
                                paramsCheckListBuilder.manager = vm.advanced__nguoi_chu_tri_phu_trach
                                    .workingUnitId;
                                paramsCheckListBuilder.project = vm.advanced__du_an_chuong_trinh
                                    .projectId;
                                paramsCheckListBuilder.label = vm.advanced__the_nhan.labelId;
                                paramsCheckListBuilder.location = vm.advanced__dia_chi.locationId;
                                paramsCheckListBuilder.fromdate = vm.advanced__startDate ? moment(vm.advanced__startDate, 'DD/MM/YYYY').format('YYYYMMDD') : null;
                                paramsCheckListBuilder.todate = vm.advanced__endDate ? moment(vm.advanced__endDate, 'DD/MM/YYYY').format('YYYYMMDD') : null;

                            }

                            var configGetCheckList = {
                                params: paramsCheckListBuilder,
                                headers: {
                                    groupId: 2014
                                }
                            };

                            var url = vm.endPoint + 'activities';
                            axios.get(url, configGetCheckList).then(function (response) {
                                var serializable = response.data;
                                if (serializable.hasOwnProperty('data') && Array.isArray(serializable.data)) {

                                    vm.tableTaskListItems = serializable.data;
                                } else if (typeof (serializable.data) == 'object') {

                                    vm.tableTaskListItems = [serializable.data];
                                } else {

                                    vm.tableTaskListItems = [];
                                }
                                vm.tableTaskListTotal = Math.ceil(serializable.total /
                                    10);
                            })
                                .catch(function (error) {
                                    vm.tableTaskListItems = [];
                                })
                        },
                        _paggingTableTaskList: function () {
                            this.getTableTaskList();
                        },
                        toTableTaskDetail: function (item, index) {
                            this.detail__all(item, index);
                        },
                        toRemoveTask: function (item, index) {
                            var vm = this;
                            vm.$dialog.confirm(vm.translate('ban_muon_xoa_nhiem_vu'), {
                                html: true,
                                loader: true,
                                okText: vm.translate('xac_nhan'),
                                cancelText: vm.translate('quay_lai'),
                                animation: 'fade'
                            })
                                .then(function (dialog) {

                                    var url = vm.endPoint + "activities/" + item.activityId;
                                    axios.delete(url, config).then(function (response) {
                                        vm.tableTaskListItems.splice(index, 1);
                                        vm._inittableTaskList(null);
                                        vm.backToList();
                                        vm.snackbartextactivityMgtViewJX = vm.translate(
                                            'xoa_du_lieu_thanh_cong');
                                        vm.snackbaractivityMgtViewJX = true;
                                        vm.loadingactivityMgtViewJX = false;
                                    })
                                        .catch(function (error) {
                                            console.log(error);
                                            vm.snackbartextactivityMgtViewJX = vm.translate(
                                                'xoa_du_lieu_that_bai');
                                            vm.snackbaractivityMgtViewJX = true;
                                            vm.loadingactivityMgtViewJX = false
                                        });

                                    dialog.close();
                                    return false;
                                })
                                .catch(function (e) {
                                    console.log(e)
                                })
                        }
                    }
                },
                'tableTicketList': {
                    'id': 'tableTicketList',
                    'name': 'tableTicketList',
                    'type': 'table',
                    'cssClass': 'tableTicketList__class',
                    'item_key': 'id',
                    'headers': 'headers',
                    'template': 'table_ticket_list_template',
                    'pagging': '_paggingTableTicketList',
                    'onLoad': '_inittableTicketList',
                    'events': {
                        _inittableTicketList: function (item) {
                            var vm = this;
                            this.tableTicketListheaders = [{
                                text: '#',
                                align: 'left',
                                sortable: true,
                                value: 'name'
                            },
                            {
                                text: vm.translate('ten_nhiem_vu'),
                                align: 'left',
                                sortable: true,
                                value: 'subject'
                            },
                            {
                                text: vm.translate('loai_nhiem_vu'),
                                align: 'left',
                                sortable: true,
                                value: 'activityCat'
                            },
                            {
                                text: vm.translate('don_vi_chu_tri'),
                                align: 'left',
                                sortable: true,
                                value: 'hosting'
                            },
                            {
                                text: vm.translate('nguoi_phu_trach'),
                                align: 'left',
                                sortable: true,
                                value: 'managerName'
                            },
                            {
                                text: vm.translate('trang_thai'),
                                align: 'left',
                                sortable: true,
                                value: 'activityStatus'
                            },
                            {
                                text: vm.translate('han_hoan_thanh'),
                                align: 'left',
                                sortable: true,
                                value: 'endDate'
                            },
                            {
                                text: '',
                                align: 'left',
                                sortable: true,
                                value: 'clear'
                            }
                            ];
                        },
                        getTableTicketList: function () {
                            var vm = this;
                            var paramsCheckListBuilder = {
                                start: vm.tableTicketListpage * 10 - 10,
                                end: vm.tableTicketListpage * 10,
                                type: 'TICKET',
                                keywords: vm.keywordsSearch,
                                template:false,
                                sort:'startDate_Number',
                                order:true
                            };
                            if (!(vm.typesListFilterItem.id < 0)) {
                                paramsCheckListBuilder.category = vm.typesListFilterItem.id
                            }
                            if (vm.wantAdvancedSearch) {
                                paramsCheckListBuilder.state = vm.advanced__trang_thai.value;
                                paramsCheckListBuilder.hosting = vm.advanced__don_vi_to_chuc_chu_tri
                                    .itemCode;
                                paramsCheckListBuilder.manager = vm.advanced__nguoi_chu_tri_phu_trach
                                    .workingUnitId;
                                paramsCheckListBuilder.project = vm.advanced__du_an_chuong_trinh
                                    .projectId;
                                paramsCheckListBuilder.label = vm.advanced__the_nhan.labelId;
                                paramsCheckListBuilder.location = vm.advanced__dia_chi.locationId;
                                paramsCheckListBuilder.fromdate = vm.advanced__startDate ? moment(vm.advanced__startDate, 'DD/MM/YYYY').format('YYYYMMDD') : null;
                                paramsCheckListBuilder.todate = vm.advanced__endDate ? moment(vm.advanced__endDate, 'DD/MM/YYYY').format('YYYYMMDD') : null;

                            }

                            var configGetCheckList = {
                                params: paramsCheckListBuilder,
                                headers: {
                                    groupId: 2014
                                }
                            };

                            var url = vm.endPoint + 'activities';
                            axios.get(url, configGetCheckList).then(function (response) {
                                var serializable = response.data;
                                if (serializable.hasOwnProperty('data') && Array.isArray(serializable.data)) {

                                    vm.tableTicketListItems = serializable.data;
                                } else if (typeof (serializable.data) == 'object') {

                                    vm.tableTicketListItems = [serializable.data];
                                } else {

                                    vm.tableTicketListItems = [];
                                }
                                vm.tableTicketListTotal = Math.ceil(serializable.total /
                                    10);
                            })
                                .catch(function (error) {
                                    vm.tableTicketListItems = [];
                                })
                        },
                        _paggingTableTicketList: function () {
                            this.getTableTicketList();
                        },
                        toTableTicketDetail: function (item, index) {
                            this.detail__all(item, index);
                        },
                        toRemoveTicket: function (item, index) {
                            var vm = this;
                            vm.$dialog.confirm(vm.translate('ban_muon_xoa_nhiem_vu'), {
                                html: true,
                                loader: true,
                                okText: vm.translate('xac_nhan'),
                                cancelText: vm.translate('quay_lai'),
                                animation: 'fade'
                            })
                                .then(function (dialog) {

                                    var url = vm.endPoint + "activities/" + item.activityId;
                                    axios.delete(url, config).then(function (response) {
                                        vm.tableTicketListItems.splice(index, 1);
                                        vm._inittableTicketList(null);
                                        vm.backToList();
                                        vm.snackbartextactivityMgtViewJX = vm.translate(
                                            'xoa_du_lieu_thanh_cong');
                                        vm.snackbaractivityMgtViewJX = true;
                                        vm.loadingactivityMgtViewJX = false;
                                    })
                                        .catch(function (error) {
                                            console.log(error);
                                            vm.snackbartextactivityMgtViewJX = vm.translate(
                                                'xoa_du_lieu_that_bai');
                                            vm.snackbaractivityMgtViewJX = true;
                                            vm.loadingactivityMgtViewJX = false
                                        });

                                    dialog.close();
                                    return false;
                                })
                                .catch(function (e) {
                                    console.log(e)
                                })
                        }
                    }
                },
                /** table tableActivityTemp */
                'tableActivityTempList': {
                    'id': 'tableActivityTempList',
                    'name': 'tableActivityTempList',
                    'type': 'table',
                    'cssClass': 'tableActivityTempList__class',
                    'item_key': 'id',
                    'headers': 'headers',
                    'template': 'tableActivityTemp_list_template',
                    'pagging': '_paggingTableActivityTempList',
                    'onLoad': '_initTableActivityTempList',
                    'events': {
                        _initTableActivityTempList: function (item) {
                            var vm = this;
                            this.tableActivityTempListheaders = [{
                                text: vm.translate('so_hieu_mau'),
                                align: 'left',
                                sortable: true,
                                value: 'templateNo'
                            },
                            {
                                text: vm.translate('ten_quy_trinh'),
                                align: 'left',
                                sortable: true,
                                value: 'subject'
                            },
                            {
                                text: vm.translate('loai'),
                                align: 'left',
                                sortable: true,
                                value: 'activityCat'
                            },
                            {
                                text: vm.translate('to_chuc_chu_tri'),
                                align: 'left',
                                sortable: true,
                                value: 'hosting'
                            },
                            {
                                text: '',
                                align: 'left',
                                sortable: true,
                                value: 'clear'
                            }
                            ];
                        },
                        getTableActivityTempList: function () {
                            var vm = this;
                            var paramsTableActivityTempBuilder = {
                                start: vm.tableActivityTempListpage * 10 - 10,
                                end: vm.tableActivityTempListpage * 10,
                                template: 1,
                                keywords: vm.keywordsSearch,
                                template:true,
                                sort:'startDate_Number',
                                order:true
                            };
                            if (vm.wantAdvancedSearch) {
                                paramsTableActivityTempBuilder.state = vm.advanced__trang_thai.value;
                                paramsTableActivityTempBuilder.hosting = vm.advanced__don_vi_to_chuc_chu_tri
                                    .itemCode;
                                paramsTableActivityTempBuilder.manager = vm.advanced__nguoi_chu_tri_phu_trach
                                    .workingUnitId;
                                paramsTableActivityTempBuilder.project = vm.advanced__du_an_chuong_trinh
                                    .projectId;
                                paramsTableActivityTempBuilder.label = vm.advanced__the_nhan.labelId;
                                paramsTableActivityTempBuilder.location = vm.advanced__dia_chi.locationId;
                                paramsTableActivityTempBuilder.fromdate = vm.advanced__startDate ? moment(vm.advanced__startDate, 'DD/MM/YYYY').format('YYYYMMDD') : null;
                                paramsTableActivityTempBuilder.todate = vm.advanced__endDate ? moment(vm.advanced__endDate, 'DD/MM/YYYY').format('YYYYMMDD') : null;
                            }

                            var configGettableActivityTemp = {
                                params: paramsTableActivityTempBuilder,
                                headers: {
                                    groupId: 2014
                                }
                            };
                            var url = vm.endPoint + 'activities';
                            axios.get(url, configGettableActivityTemp).then(function (response) {
                                var serializable = response.data;
                                if (serializable.hasOwnProperty('data') && Array.isArray(serializable.data)) {
                                    vm.tableActivityTempListItems = serializable.data;
                                } else if (typeof (serializable.data) == 'object') {
                                    vm.tableActivityTempListItems = [serializable.data];
                                } else {
                                    vm.tableActivityTempListItems = [];
                                }
                                vm.tableActivityTempListTotal = Math.ceil(serializable.total /
                                    10);
                            })
                                .catch(function (error) {
                                    vm.tableActivityTempListItems = [];
                                })
                        },
                        _paggingTableActivityTempList: function () {
                            this.getTableActivityTempList();
                        },
                        toTableActivityTempDetail: function (item, index) {
                            this.detail__all(item, index);
                        },
                        toRemoveTableActivityTemp: function (item, index) {
                            var vm = this;
                            vm.$dialog.confirm(vm.translate('ban_muon_xoa_quy_trinh'), {
                                html: true,
                                loader: true,
                                okText: vm.translate('xac_nhan'),
                                cancelText: vm.translate('quay_lai'),
                                animation: 'fade'
                            })
                                .then(function (dialog) {

                                    var url = vm.endPoint + "activities/" + item.activityId;
                                    axios.delete(url, config).then(function (response) {
                                        vm.tableActivityTempListItems.splice(index, 1);
                                        vm._initTableActivityTempList(null);
                                        vm.backToList();
                                        vm.snackbartextactivityMgtViewJX = vm.translate(
                                            'xoa_du_lieu_thanh_cong');
                                        vm.snackbaractivityMgtViewJX = true;
                                        vm.loadingactivityMgtViewJX = false;
                                    })
                                        .catch(function (error) {
                                            console.log(error);
                                            vm.snackbartextactivityMgtViewJX = vm.translate(
                                                'xoa_du_lieu_that_bai');
                                            vm.snackbaractivityMgtViewJX = true;
                                            vm.loadingactivityMgtViewJX = false
                                        });

                                    dialog.close();
                                    return false;
                                })
                                .catch(function (e) {
                                    console.log(e)
                                })
                        }
                    }
                },
                /** key word search */
                'keywordsSearch': {
                    'id': 'keywordsSearch',
                    'name': 'keywordsSearch',
                    'type': 'text',
                    'placeholder': 'Tìm kiếm theo từ khoá...',
                    'solo': true,
                    'append_icon': 'search',
                    'onKeyup': 'filterTableKeywords',
                    'events': {
                        filterTableKeywords: function (event) {
                            var vm = this;
                            if (event.keyCode === 13 || vm.keywordsSearch.length > 3 || vm.keywordsSearch.length === 0) {
                                vm.routerFilterDataTable();
                            }

                        },
                        routerFilterDataTable: function () {
                            var vm = this;
                            switch (vm.typeListModel) {
                                case 'WEEK':
                                    vm.getWeekEventList();
                                    break;
                                case 'MONTH':
                                    vm.getEventsOfMonth();
                                    break;
                                case 'EVENT':
                                    vm.setViewBreadCrumbs(item);
                                    vm.getTableEventList();
                                    break;
                                case 'TASK':
                                    vm.getTableTaskList();
                                    break;
                                case 'TICKET':
                                    vm.getTableTicketList();
                                    break;
                                case 'TEMPLATE':
                                    vm.getTableActivityTempList();
                                    break;
                                default:
                                    console.log("TODO DEFAULT " + item.type);
                                    break;

                            };
                        }
                    }
                },
                /** popup */
                'popUpEditActivity': {
                    'id': 'popUpEditActivity',
                    'name': 'popUpEditActivity',
                    "type": "dialogsm",
                    "type_dialog": "fullScreen",
                    'icon_save': 'undo',
                    'label_save': 'Quay lại',
                    "color": "primary",
                    "template": "popUpEditActivityTemplate",
                    "events": {
                        popUpEditActivityClose: function () {
                            this.popUpEditActivity = false;
                            this.$refs.activityAddRef.clearDataForm();
                        },
                        popUpEditActivitySave: function () {
                            this.$refs.activityAddRef.submitAdd();
                        },
                        submiteevent: function (activity) {

                            var vm = this;
                            if (activity.activityType == 'EVENT' && vm.typeListModel == 'EVENT' ) {
                                vm.tableEventListItems.push(activity);
                            } else if (activity.activityType == 'TASK' && vm.typeListModel == 'TASK') {
                                vm.tableTaskListItems.push(activity);
                            } else if (activity.activityType == 'TICKET' && vm.typeListModel == 'TICKET') {
                                vm.tableTicketListItems.push(activity);
                            } else if (activity.isTempalate == true && vm.typeListModel == 'EVENT') {
                                vm.tableActivityTempListItems.push(activity);
                            } else if (vm.typeListModel == 'WEEK') {
                                vm.getWeekEventList();
                            } else if (vm.typeListModel == 'MONTH') {
                                vm.monthEventItems.push(activity);
                            }
                            vm.popUpEditActivity = false;
                            vm.snackbartextactivityMgtViewJX= "Thêm mới dữ liệu thành công!";
                            vm.snackbaractivityMgtViewJX = true;
                            this.$refs.activityAddRef.clearDataForm();
                            vm.detail__all(activity,0);
                            console.log(vm)
                        }
                    }
                }

            }
        });

        activityMgtViewJX._builder('activityMgtViewJX');

    });

</script>


<style type="text/css" media="screen">
    a {
        text-decoration: none;
    }

    .header_tools.row-blue {
        background: #e1e2e1;
    }
    body .carousel { height: 300px !important;}
      .star-rating span input{
        visibility: hidden;
        position: absolute;
    }
    .carousel__item {
        width: 100%;
        height: 100%;
        background-position: center;
        background-size: cover;
    }
    .row-blue {
        background-color: #dbebf0;
        padding-right: 15px;
        font-family: 'Roboto-Bold';
        align-items: center;
    }

    .row-blue .order-number {
        float: left;
        padding: 7px 10px;
        background-color: #aad0de;
        color: white;
        margin-right: 15px;
    }

    .row-blue .order-number-detail {
        align-items: center;
        padding: 7px 10px;
    }

    .row-blue .order-number-detail>span:first-child {
        color: red;
    }

    .row-blue .label-info {
        color: white;
        margin-right: 15px;
    }

    .background-triangle-small,
    .background-triangle-big {
        background-color: #0b72ba;
        display: inline-block;
        padding: 3px;
        width: 25px;
        text-align: right;
        color: white;
        position: relative;
        margin-right: 20px;
        text-transform: uppercase;
    }

    .background-triangle-small:before,
    .background-triangle-big:before {
        content: "";
        position: absolute;
        top: 1px;
        -webkit-transform: rotate(45deg);
        transform: rotate(45deg);
        right: -4px;
        border-top: 28px solid #0b72ba;
        border-left: 28px solid transparent;
        border-bottom: 28px solid transparent;
    }

    .background-triangle-small+div.header_tools,
    .background-triangle-big+div.header_tools {
        width: -webkit-calc( 100% - 100%);
        width: calc(100% - 100%);
    }

    .background-triangle-small+div.header_tools .switch-control,
    .background-triangle-big+div.header_tools .switch-control {
        margin: 3px 0px 0 20px;
    }

    .background-triangle-small i.setting_action_all,
    .background-triangle-big i.setting_action_all {
        font-size: 16px;
        padding: 0 3px 0 9px;
        cursor: pointer;
    }

    .background-triangle-big {
        padding: 10px 5px 10px 15px;
        width: auto;
        margin-right: 30px;
    }

    .background-triangle-big+div .input-group {
        min-height: inherit;
    }

    .background-triangle-big+div .input-group .input-group__input {
        padding: 0 16px;
    }

    .background-triangle-big+div button {
        margin-top: 0;
        margin-bottom: 0;
        margin-right: 0;
    }

    .row-blue+.panel {
        border-radius: 0;
        margin-bottom: 0;
    }

    .card {
        width: 100%;
        box-shadow: none;
        border-color: #e1e2e1;
        margin: 0;
    }

    .jx-content {
        width: -webkit-calc(100% - 300px);
        width: calc(100% - 300px);
    }

    .jx-content .jx-content-wrap {
        width: 100%;
    }

    .jx-content .jx-content-wrap .row-header {
        background-color: #e1e2e1;
        overflow: hidden;
        display: -webkit-flex;
        display: flex;
        align-items: center;
        width: 100%;
    }
    .row-detail{
        overflow: hidden;
        display: -webkit-flex;
        display: flex;
        align-items: center;
        width: 100%;
    }
</style>

<style>
    .nav_drawn_width_none aside {
        width: 0px !important;
    }

    .max-width {
        width: 100% !important;
        max-width: 100% !important;
    }

    .no-width {
        width: 0px !important;
        max-width: 0px !important;
        display: none;
    }

    .max-width146 .labelClass {
        max-width: 146px;
    }

    .detail_show_more {
        margin: 0;
    }

    .detail_show_more .btn__content {
        padding: 0;
        text-transform: none;
        color: #939393;
    }
    /*tableEventList__class*/

    body .tableEventList__class table.table th:nth-child(1),body .tableEventList__class table.table td:nth-child(1){
        width: 5%!important;
        position: relative;
    }
    body .tableEventList__class table.table th:nth-child(2),body .tableEventList__class table.table td:nth-child(2){
        width: 15%!important;
        position: relative;
    }
    body .tableEventList__class table.table th:nth-child(3),body .tableEventList__class table.table td:nth-child(3){
        width: 20%!important;
        position: relative;
    }
    body .tableEventList__class table.table th:nth-child(4),body .tableEventList__class table.table td:nth-child(4){
        width: 15%!important;
        position: relative;
    }
    body .tableEventList__class table.table th:nth-child(5),body .tableEventList__class table.table td:nth-child(5){
        width: 15%!important;
        position: relative;
    }
    body .tableEventList__class table.table th:nth-child(6),body .tableEventList__class table.table td:nth-child(6){
        width: 15%!important;
        position: relative;
    }
    body .tableEventList__class table.table th:nth-child(7){
        width: 5%!important;
    }


    /*tableTaskList__class*/

    body .tableTaskList__class table.table th:nth-child(1),body .tableTaskList__class table.table td:nth-child(1) {
        width: 3%!important;
        position: relative;
    }
    body .tableTaskList__class table.table th:nth-child(2),body .tableTaskList__class table.table td:nth-child(2) {
        width: 25%!important;
        position: relative;
    }
    body .tableTaskList__class table.table th:nth-child(3),body .tableTaskList__class table.table td:nth-child(3) {
        width: 14%!important;
        position: relative;
    }
    body .tableTaskList__class table.table th:nth-child(4),body .tableTaskList__class table.table td:nth-child(4) {
        width: 15%!important;
        position: relative;
    }
    body .tableTaskList__class table.table th:nth-child(5),body .tableTaskList__class table.table td:nth-child(5) {
        width: 15%!important;
        position: relative;
    }
    body .tableTaskList__class table.table th:nth-child(6),body .tableTaskList__class table.table td:nth-child(6) {
        width: 15%!important;
        position: relative;
    }
    body .tableTaskList__class table.table th:nth-child(7),body .tableTaskList__class table.table td:nth-child(7) {
        width: 10%!important;
        position: relative;
    }
    body .tableTaskList__class table.table th:nth-child(8) {
        width: 3%!important;
    }

    /*tableTicketList__class*/

    body .tableTicketList__class table.table th:nth-child(1),body .tableTicketList__class table.table td:nth-child(1) {
        width: 3%!important;
        position: relative;
    }
    body .tableTicketList__class table.table th:nth-child(2),body .tableTicketList__class table.table td:nth-child(2) {
        width: 25%!important;
        position: relative;
    }
    body .tableTicketList__class table.table th:nth-child(3),body .tableTicketList__class table.table td:nth-child(3) {
        width: 14%!important;
        position: relative;
    }
    body .tableTicketList__class table.table th:nth-child(4),body .tableTicketList__class table.table td:nth-child(4) {
        width: 15%!important;
        position: relative;
    }
    body .tableTicketList__class table.table th:nth-child(5),body .tableTicketList__class table.table td:nth-child(5) {
        width: 15%!important;
        position: relative;
    }
    body .tableTicketList__class table.table th:nth-child(6),body .tableTicketList__class table.table td:nth-child(6) {
        width: 15%!important;
        position: relative;
    }
    body .tableTicketList__class table.table th:nth-child(7),body .tableTicketList__class table.table td:nth-child(7) {
        width: 10%!important;
        position: relative;
    }
    body .tableTicketList__class table.table th:nth-child(8) {
        width: 3%!important;
    }

    /*tableActivityTempList__class*/

    body .tableActivityTempList__class table.table th:nth-child(1),body .tableActivityTempList__class table.table td:nth-child(1) {
        width: 10%;
        position: relative;
    }

    body .tableActivityTempList__class table.table th:nth-child(2),body .tableActivityTempList__class table.table td:nth-child(2) {
        width: 35%;
        position: relative;
    }

    body .tableActivityTempList__class table.table th:nth-child(3),body .tableActivityTempList__class table.table td:nth-child(3) {
        width: 25%;
        position: relative;
    }
    body .tableActivityTempList__class table.table th:nth-child(4),body .tableActivityTempList__class table.table td:nth-child(4) {
        width: 20%;
        position: relative;
    }
    body .tableActivityTempList__class table.table th:nth-child(5) {
        width: 10%;
    }

    .btn__nopadding {
        padding: 0px;
    }

    .nav__btn__custom .btn__content {
        justify-content: left;
        padding: 0;
        align-items: flex-end;
        text-transform: none;
    }

    .nav__btn__custom .btn__content .material-icons {
        padding-right: 5px;
    }

    .mobilink-shared-root.editable-wrap.editable-wrap-before-select .input-group--chips label {
        display: block;
    }

    .mobilink-shared-root.editable-wrap.editable-wrap-before-select .input-group {
        padding-top: 20px;
    }

    .codeNo__codeNotation .input-group {
        padding-top: 0px;
    }
    .uploader .uploader-list .tabs__content p{
        display: none;
    }
    .weekly_calendar__month,.weekly_calendar__year{
        padding: 0;
    }
    .tooltip{
        white-space: nowrap!important;
        opacity: 1!important;
        z-index: 1!important;
    }
    .openingState__class{
        padding: 4px;
        background: #eee;
        width: 120px;
        margin-left: auto;
        border-radius: 20px;
        margin-bottom: 0px;
        text-align: center;
    }
    .DateClass .mx-datepicker .mx-input-icon{
        display: none;
    }
    .DateClass .mx-datepicker .mx-input {
        box-shadow: none;
        background: none;
        border-top: none;
        border-right: none;
        border-left: none;
        border-radius: 0;
        border-bottom: 1px solid rgba(0,0,0,0.42);
        height: 30px;
        font-size: 13px;
        padding: 0;
        font-family: 'Roboto', sans-serif;
        color: black;
    }
    .DateClass .editable__content__value{
        margin-top: -1px;
    }
    .subjectClass .input-group--text-field{
        padding: 0;
    }
    .headerClassDetail_right,.headerClass_right{
        margin-left: auto;
    }
    .headerClass_right button{
        margin: auto;
    }
    .color_openingState_0{
        background: #C2185B;
        color: #fff;
    }
    .color_openingState_1{
        background: #6A1B9A;
        color: #fff;
    }
    .color_openingState_2{
        background: #90CAF9;
        color: #fff;
    }
    .color_openingState_3{
        background: #29B6F6;
        color: #fff;
    }
    .color_openingState_4{
        background: #CDDC39;
        color: #fff;
    }
    .categoryNameClass{
        color: #29B6F6;
        font-weight: 600
    }
    .categoryNameEditClass{
        padding: 0!important;
    }

</style>

</body>

</html>